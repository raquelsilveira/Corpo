<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>MobiCom'02: TCP/IP Performance over 3G Wireless Links with Rate and Delay Variation</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="generator" content="pdftohtml 0.35beta">
<META name="author" content="Mun Choon Chan; Ramachandran Ramjee">
<META name="keywords" content="Algorithms; Performance; Design; TCP; 3G Wireless; Link and Rate Variation">
<META name="date" content="2002-08-15T14:27:17+00:00">
</HEAD>
<BODY bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft0{font-size:24px;font-family:Helvetica;color:#000000;}
	.ft1{font-size:15px;font-family:Helvetica;color:#000000;}
	.ft2{font-size:15px;font-family:Times;color:#000000;}
	.ft3{font-size:11px;font-family:Times;color:#000000;}
	.ft4{font-size:9px;font-family:Times;color:#000000;}
	.ft5{font-size:9px;font-family:Times;color:#000000;}
	.ft6{font-size:16px;font-family:Courier;color:#000000;}
	.ft7{font-size:11px;font-family:Times;color:#000000;}
	.ft8{font-size:11px;line-height:15px;font-family:Times;color:#000000;}
	.ft9{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186001.png" alt="background image">
<DIV style="position:absolute;top:108;left:177"><nobr><span class="ft0"><b>TCP/IP Performance over 3G Wireless Links</b></span></nobr></DIV>
<DIV style="position:absolute;top:138;left:270"><nobr><span class="ft0"><b>with Rate and Delay Variation</b></span></nobr></DIV>
<DIV style="position:absolute;top:207;left:273"><nobr><span class="ft1">Mun Choon Chan and Ramachandran Ramjee</span></nobr></DIV>
<DIV style="position:absolute;top:224;left:334"><nobr><span class="ft1">Bell Labs, Lucent Technologies</span></nobr></DIV>
<DIV style="position:absolute;top:242;left:324"><nobr><span class="ft1">munchoon,ramjee@bell-labs.com</span></nobr></DIV>
<DIV style="position:absolute;top:312;left:81"><nobr><span class="ft2"><b>ABSTRACT</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:81"><nobr><span class="ft8">Wireless link losses result in poor TCP throughput since<br>losses are perceived as congestion by TCP, resulting in source<br>throttling. In order to mitigate this effect, 3G wireless link<br>designers have augmented their system with extensive local<br>retransmission mechanisms. In addition, in order to increase<br>throughput, intelligent channel state based scheduling have<br>also been introduced. While these mechanisms have reduced<br>the impact of losses on TCP throughput and improved the<br>channel utilization, these gains have come at the expense<br>of increased delay and rate variability. In this paper, we<br>comprehensively evaluate the impact of variable rate and<br>variable delay on long-lived TCP performance. We propose<br>a model to explain and predict TCP's throughput over a link<br>with variable rate and/or delay. We also propose a network-<br>based solution called Ack Regulator that mitigates the effect<br>of variable rate and/or delay without significantly increasing<br>the round trip time, while improving TCP performance by<br>up to 40%.</span></nobr></DIV>
<DIV style="position:absolute;top:638;left:81"><nobr><span class="ft2"><b>Categories and Subject Descriptors</b></span></nobr></DIV>
<DIV style="position:absolute;top:662;left:81"><nobr><span class="ft8">C.2.1 [Network Architecture and Design]: Wireless<br>communication</span></nobr></DIV>
<DIV style="position:absolute;top:712;left:81"><nobr><span class="ft2"><b>General Terms</b></span></nobr></DIV>
<DIV style="position:absolute;top:736;left:81"><nobr><span class="ft3">Algorithms, Performance, Design</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:81"><nobr><span class="ft2"><b>Keywords</b></span></nobr></DIV>
<DIV style="position:absolute;top:795;left:81"><nobr><span class="ft3">TCP, 3G Wireless, Link and Rate Variation</span></nobr></DIV>
<DIV style="position:absolute;top:830;left:81"><nobr><span class="ft2"><b>1.</b></span></nobr></DIV>
<DIV style="position:absolute;top:830;left:112"><nobr><span class="ft2"><b>INTRODUCTION</b></span></nobr></DIV>
<DIV style="position:absolute;top:852;left:94"><nobr><span class="ft3">Third generation wide-area wireless networks are currently</span></nobr></DIV>
<DIV style="position:absolute;top:867;left:81"><nobr><span class="ft8">being deployed in the United States in the form of 3G1X<br>technology [10] with speeds up to 144Kbps. Data-only en-<br>hancements to 3G1X have already been standardized in the<br>3G1X-EVDO standard (also called High Data Rate or HDR)</span></nobr></DIV>
<DIV style="position:absolute;top:977;left:81"><nobr><span class="ft9">Permission to make digital or hard copies of all or part of this work for<br>personal or classroom use is granted without fee provided that copies are<br>not made or distributed for profit or commercial advantage and that copies<br>bear this notice and the full citation on the first page. To copy otherwise, to<br>republish, to post on servers or to redistribute to lists, requires prior specific<br>permission and/or a fee.<br><i>MOBICOM'02 </i>September 23­28, Atlanta, Georgia, USA<br>Copyright 2002 ACM 1-58113-486-X/02/0009 ...</span></nobr></DIV>
<DIV style="position:absolute;top:1070;left:319"><nobr><span class="ft3">$</span></nobr></DIV>
<DIV style="position:absolute;top:1071;left:326"><nobr><span class="ft4">5.00.</span></nobr></DIV>
<DIV style="position:absolute;top:315;left:475"><nobr><span class="ft8">with speeds up to 2Mbps [6]. UMTS [24] is the third gener-<br>ation wireless technology in Europe and Asia with deploy-<br>ments planned this year. As these 3G networks provide per-<br>vasive internet access, good performance of TCP over these<br>wireless links will be critical for end user satisfaction.</span></nobr></DIV>
<DIV style="position:absolute;top:393;left:489"><nobr><span class="ft3">While the performance of TCP has been studied exten-</span></nobr></DIV>
<DIV style="position:absolute;top:409;left:475"><nobr><span class="ft8">sively over wireless links [3, 4, 15, 20], most attention has<br>been paid to the impact of wireless channel losses on TCP.<br>Losses are perceived as congestion by TCP, resulting in<br>source throttling and very low net throughput.</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:489"><nobr><span class="ft3">In order to mitigate the effects of losses, 3G wireless link</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:475"><nobr><span class="ft8">designers have augmented their system with extensive lo-<br>cal retransmission mechanisms. For example, link layer re-<br>transmission protocols such as RLP and RLC are used in<br>3G1X [22] and UMTS [21], respectively. These mechanisms<br>ensure packet loss probability of less than 1% on the wireless<br>link, thereby mitigating the adverse impact of loss on TCP.<br>While these mechanisms mitigate losses, they also increase<br>delay variability. For example, as we shall see in Section 3,<br>ping latencies vary between 179ms to over 1 second in a<br>3G1X system.</span></nobr></DIV>
<DIV style="position:absolute;top:644;left:489"><nobr><span class="ft3">In addition, in order to increase throughput, intelligent</span></nobr></DIV>
<DIV style="position:absolute;top:660;left:475"><nobr><span class="ft8">channel state based scheduling have also been introduced.<br>Channel state based scheduling [7] refers to scheduling tech-<br>niques which take the quality of wireless channel into ac-<br>count while scheduling data packets of different users at the<br>base station.</span></nobr></DIV>
<DIV style="position:absolute;top:723;left:566"><nobr><span class="ft3">The intuition behind this approach is that</span></nobr></DIV>
<DIV style="position:absolute;top:739;left:475"><nobr><span class="ft8">since the channel quality varies asynchronously with time<br>due to fading, it is preferable to give priority to a user with<br>better channel quality at each scheduling epoch.</span></nobr></DIV>
<DIV style="position:absolute;top:770;left:798"><nobr><span class="ft3">While</span></nobr></DIV>
<DIV style="position:absolute;top:786;left:475"><nobr><span class="ft8">strict priority could lead to starvation of users with infe-<br>rior channel quality, a scheduling algorithm such as propor-<br>tional fair [6] can provide long-term fairness among different<br>users. However, while channel-state based scheduling im-<br>proves overall throughput, it also increases rate variability.</span></nobr></DIV>
<DIV style="position:absolute;top:864;left:489"><nobr><span class="ft3">Thus, while the impact of losses on TCP throughput have</span></nobr></DIV>
<DIV style="position:absolute;top:880;left:475"><nobr><span class="ft8">been significantly reduced by local link layer mechanisms<br>and higher raw throughput achieved by channel-state based<br>scheduling mechanisms, these gains have come at the ex-<br>pense of increased delay and rate variability. This rate and<br>delay variability translates to bursty ack arrivals (also called<br>ack compression) at the TCP source. Since TCP uses ack<br>clocking to probe for more bandwidth, bursty ack arrival<br>leads to release of a burst of packets from the TCP source.<br>When this burst arrives at a link with variable rate or de-<br>lay, it could result in multiple packet losses. These multiple<br>losses significantly degrade TCPs throughput.</span></nobr></DIV>
<DIV style="position:absolute;top:1053;left:489"><nobr><span class="ft3">In this paper, we make three main contributions. First,</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">71</span></nobr></DIV>
</DIV>
<!-- Page 2 -->
<a name="2"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft10{font-size:6px;font-family:Times;color:#000000;}
	.ft11{font-size:9px;font-family:Times;color:#000000;}
	.ft12{font-size:6px;line-height:10px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186002.png" alt="background image">
<DIV style="position:absolute;top:86;left:81"><nobr><span class="ft8">we comprehensively evaluate the impact of variable rate and<br>variable delay on long-lived TCP performance. Second, we<br>propose a model to explain and predict TCP's throughput<br>over a link with variable rate and/or delay. Third, we pro-<br>pose a network-based solution called Ack Regulator that mit-<br>igates the effect of variable rate and/or delay without sig-<br>nificantly increasing the round trip time, thereby improving<br>TCP performance.</span></nobr></DIV>
<DIV style="position:absolute;top:212;left:94"><nobr><span class="ft3">The remaining sections are organized as follows. In Sec-</span></nobr></DIV>
<DIV style="position:absolute;top:228;left:81"><nobr><span class="ft8">tion 2, we discuss related work. In Section 3, we present the<br>motivation for our work using traces from a 3G1X system.<br>In Section 4, we describe a model for computing the through-<br>put of a long-lived TCP flow over links with variable rate<br>and variable delay. We then present a simple network-based<br>solution, called Ack Regulator, to mitigate the effect of vari-<br>able rate/delay in Section 5. In Section 6, we present exten-<br>sive simulation results that compare TCP performance with<br>and without Ack Regulator, highlighting the performance<br>gains using the Ack Regulator when TCP is subjected to<br>variable rate and delay. Finally, in Section 7, we present<br>our conclusions.</span></nobr></DIV>
<DIV style="position:absolute;top:433;left:81"><nobr><span class="ft2"><b>2.</b></span></nobr></DIV>
<DIV style="position:absolute;top:433;left:112"><nobr><span class="ft2"><b>RELATED WORK</b></span></nobr></DIV>
<DIV style="position:absolute;top:455;left:94"><nobr><span class="ft3">In this section, we review prior work on improving TCP</span></nobr></DIV>
<DIV style="position:absolute;top:470;left:81"><nobr><span class="ft8">performance over wireless networks. Related work on the<br>modeling of TCP performance is presented in Section 4.</span></nobr></DIV>
<DIV style="position:absolute;top:502;left:94"><nobr><span class="ft3">A lot of prior work has focused on avoiding the case of</span></nobr></DIV>
<DIV style="position:absolute;top:518;left:81"><nobr><span class="ft8">a TCP source misinterpreting packet losses in the wireless<br>link as congestion signals. In [4], a snoop agent is introduced<br>inside the network to perform duplicate ack suppression and<br>local retransmissions on the wireless link to enhance TCP<br>performance. In [3], the TCP connection is split into two<br>separate connections, one over the fixed network and the<br>second over the wireless link. The second connection can<br>recover from losses quickly, resulting in better throughput.<br>Link-layer enhancements for reducing wireless link losses in-<br>cluding retransmission and forward error correction have<br>been proposed in [20]. Link layer retransmission is now part<br>of both the CDMA2000 and UMTS standards [10, 24]. In<br>order to handle disconnections (a case of long-lived loss),<br>M-TCP has been proposed [8]. The idea is to send the last<br>ack with a zero-sized receiver window so that the sender can<br>be in persist mode during the disconnection. Link failures<br>are also common in Ad Hoc networks and techniques to im-<br>prove TCP performance in the presence of link failures have<br>been proposed in [11]. Note that none of these approaches<br>address specifically the impact of delay and rate variation<br>on TCP, which is the focus of this paper.</span></nobr></DIV>
<DIV style="position:absolute;top:847;left:94"><nobr><span class="ft3">Several generic TCP enhancements with special applica-</span></nobr></DIV>
<DIV style="position:absolute;top:863;left:81"><nobr><span class="ft8">bility to wireless links are detailed in [12, 13]. These in-<br>clude enabling the Time Stamp option, use of large win-<br>dow size and window scale option, disabling Van Jacobson<br>header compression, and the use of Selective Acknowledg-<br>ments (Sack). Large window size and window scaling are<br>necessary because of the large delay of wireless link while<br>Sack could help TCP recover from multiple losses without<br>the expensive timeout recovery mechanism.</span></nobr></DIV>
<DIV style="position:absolute;top:988;left:94"><nobr><span class="ft3">Another issue with large delay variation in wireless links</span></nobr></DIV>
<DIV style="position:absolute;top:1004;left:81"><nobr><span class="ft8">is spurious timeouts where TCP unnecessarily retransmits<br>a packet (and lowers its congestion window to a minimum)<br>after a timeout, when the packet is merely delayed. In [13],<br>the authors refer to rate variability due to periodic allo-<br>cation and de-allocation of high-speed channels in 3G net-</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">works as Bandwidth Oscillation. Bandwidth Oscillation can<br>also lead to spurious timeouts in TCP because as the rate<br>changes from high to low, the rtt value increases and a low<br>Retransmission Timeout (RTO) value causes a spurious re-<br>transmission and unnecessarily forces TCP into slow start.<br>In [15], the authors conduct experiments of TCP over GSM<br>circuit channels and show that spurious timeouts are ex-<br>tremely rare. However, 3G wireless links can have larger<br>variations than GSM due to processing delays and rate vari-<br>ations due to channel state based scheduling.</span></nobr></DIV>
<DIV style="position:absolute;top:228;left:773"><nobr><span class="ft3">Given the</span></nobr></DIV>
<DIV style="position:absolute;top:243;left:475"><nobr><span class="ft8">increased variability on 3G packet channels, the use of TCP<br>time stamp option for finer tracking of TCP round trip times<br>and possibly the use of Eifel retransmission timer [16] in-<br>stead of the conventional TCP timer can help avoid spurious<br>timeouts.</span></nobr></DIV>
<DIV style="position:absolute;top:322;left:489"><nobr><span class="ft3">As mentioned earlier, the effect of delay and rate variabil-</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:475"><nobr><span class="ft8">ity is ack compression and this results in increased bursti-<br>ness at the source.</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:606"><nobr><span class="ft3">Ack compression can also be caused</span></nobr></DIV>
<DIV style="position:absolute;top:369;left:475"><nobr><span class="ft8">by bidirectional flows over regular wired networks or single<br>flow over networks with large asymmetry. This phenomenon<br>has been studied and several techniques have been proposed<br>to tackle the burstiness of ack compression.</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:764"><nobr><span class="ft3">In order to</span></nobr></DIV>
<DIV style="position:absolute;top:432;left:475"><nobr><span class="ft8">tackle burstiness, the authors in [18] propose several schemes<br>that withholds acks such that there is no packet loss at the<br>bottleneck router, resulting in full throughput. However,<br>the round trip time is unbounded and can be very large.<br>In [23], the authors implement an ack pacing technique at<br>the bottleneck router to reduce burstiness and ensure fair-<br>ness among different flows. In the case of asymmetric chan-<br>nels, solutions proposed [5] include ack congestion control<br>and ack filtering (dropping of acks), reducing source bursti-<br>ness by sender adaptation and giving priority to acks when<br>scheduling inside the network. However, the magnitude of<br>asymmetry in 3G networks is not large enough and can be<br>tolerated by TCP without ack congestion control or ack fil-<br>tering according to [12].</span></nobr></DIV>
<DIV style="position:absolute;top:651;left:489"><nobr><span class="ft3">Note that, in our case, ack compression occurs because</span></nobr></DIV>
<DIV style="position:absolute;top:667;left:475"><nobr><span class="ft8">of link variation and not due to asymmetry or bidirectional<br>flows. Thus, we require a solution that specifically adapts<br>to link variation. Moreover, the node at the edge of the 3G<br>wireless access network is very likely to be the bottleneck<br>router (given rates of 144Kbps to 2Mbps on the wireless<br>link) and is the element that is exposed to varying delays and<br>service rates. Thus, this node is the ideal place to regulate<br>the acks in order to improve TCP performance.</span></nobr></DIV>
<DIV style="position:absolute;top:777;left:791"><nobr><span class="ft3">This is</span></nobr></DIV>
<DIV style="position:absolute;top:792;left:475"><nobr><span class="ft3">discussed in more detail in the next section.</span></nobr></DIV>
<DIV style="position:absolute;top:824;left:475"><nobr><span class="ft2"><b>3.</b></span></nobr></DIV>
<DIV style="position:absolute;top:824;left:506"><nobr><span class="ft2"><b>MOTIVATION</b></span></nobr></DIV>
<DIV style="position:absolute;top:924;left:480"><nobr><span class="ft10">MD</span></nobr></DIV>
<DIV style="position:absolute;top:902;left:641"><nobr><span class="ft10">RNC</span></nobr></DIV>
<DIV style="position:absolute;top:953;left:641"><nobr><span class="ft10">RNC</span></nobr></DIV>
<DIV style="position:absolute;top:949;left:557"><nobr><span class="ft10">BS</span></nobr></DIV>
<DIV style="position:absolute;top:891;left:557"><nobr><span class="ft10">BS</span></nobr></DIV>
<DIV style="position:absolute;top:920;left:700"><nobr><span class="ft12">PDSN/<br>SGSN</span></nobr></DIV>
<DIV style="position:absolute;top:990;left:725"><nobr><span class="ft10">BS:        Base Station</span></nobr></DIV>
<DIV style="position:absolute;top:979;left:725"><nobr><span class="ft10">MD:      Mobile Device</span></nobr></DIV>
<DIV style="position:absolute;top:920;left:769"><nobr><span class="ft12">HA/<br>GGSN</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:725"><nobr><span class="ft10">HA:       Home Agent</span></nobr></DIV>
<DIV style="position:absolute;top:979;left:575"><nobr><span class="ft12">RNC:  Radio Network Controller<br>PDSN: Packet Data Service Node<br>SGSN: Serving GPRS Service Node<br>GGSN: Gateway GPRS Service Node</span></nobr></DIV>
<DIV style="position:absolute;top:858;left:495"><nobr><span class="ft10">(RLP/RLC) Link Layer Retransmission</span></nobr></DIV>
<DIV style="position:absolute;top:927;left:824"><nobr><span class="ft12">INTER<br>NET</span></nobr></DIV>
<DIV style="position:absolute;top:1042;left:541"><nobr><span class="ft3">Figure 1:</span></nobr></DIV>
<DIV style="position:absolute;top:1043;left:611"><nobr><span class="ft11">3G network architecture</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:489"><nobr><span class="ft3">A simplified architecture of a 3G wireless network is shown</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">72</span></nobr></DIV>
</DIV>
<!-- Page 3 -->
<a name="3"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft13{font-size:4px;font-family:Courier;color:#000000;}
	.ft14{font-size:8px;font-family:Courier;color:#000000;}
	.ft15{font-size:6px;font-family:Times;color:#000000;}
	.ft16{font-size:3px;font-family:Courier;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186003.png" alt="background image">
<DIV style="position:absolute;top:210;left:104"><nobr><span class="ft13">0.2</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:104"><nobr><span class="ft13">0.3</span></nobr></DIV>
<DIV style="position:absolute;top:179;left:104"><nobr><span class="ft13">0.4</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:104"><nobr><span class="ft13">0.5</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:104"><nobr><span class="ft13">0.6</span></nobr></DIV>
<DIV style="position:absolute;top:133;left:104"><nobr><span class="ft13">0.7</span></nobr></DIV>
<DIV style="position:absolute;top:118;left:104"><nobr><span class="ft13">0.8</span></nobr></DIV>
<DIV style="position:absolute;top:102;left:104"><nobr><span class="ft13">0.9</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:117"><nobr><span class="ft13">1</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:126"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:162"><nobr><span class="ft13">200</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:203"><nobr><span class="ft13">400</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:245"><nobr><span class="ft13">600</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:286"><nobr><span class="ft13">800</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:325"><nobr><span class="ft13">1000</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:366"><nobr><span class="ft13">1200</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:408"><nobr><span class="ft13">1400</span></nobr></DIV>
<DIV style="position:absolute;top:154;left:91"><nobr><span class="ft14">Prob.</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:221"><nobr><span class="ft13">Ping latency (ms)</span></nobr></DIV>
<DIV style="position:absolute;top:248;left:152"><nobr><span class="ft3">Figure 2:</span></nobr></DIV>
<DIV style="position:absolute;top:250;left:222"><nobr><span class="ft11">CDF of Ping Latencies</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:81"><nobr><span class="ft8">in Figure 1. The base stations are connected to a node called<br>the Radio Network Controller (RNC). The RNC performs<br>CDMA specific functions such as soft handoffs, encryption,<br>power control etc. It also performs link layer retransmission<br>using RLP(RLC) in 3G1X(UMTS) system. In the 3G1X<br>system, the RNC is connected to a PDSN using a GRE tun-<br>nel (one form of IP in IP tunnel) and the PDSN terminates<br>PPP with the mobile device. If Mobile IP service is enabled,<br>the PDSN also acts as a Foreign Agent and connects to a<br>Home Agent. In the UMTS system, the RNC is connected<br>to a SGSN using a GTP tunnel (another form of IP in IP<br>tunnel); the SGSN is connected to a GGSN, again through<br>a GTP tunnel. Note that the tunneling between the vari-<br>ous nodes allows for these nodes to be connected directly or<br>through IP/ATM networks.</span></nobr></DIV>
<DIV style="position:absolute;top:510;left:94"><nobr><span class="ft3">In this architecture, the RNC receives a PPP/IP packet</span></nobr></DIV>
<DIV style="position:absolute;top:526;left:81"><nobr><span class="ft8">through the GRE/GTP tunnel from the PDSN/SGSN. The<br>RNC fragments this packet into a number of radio frames<br>and then performs transmission and local retransmission of<br>these radio frames using the RLP(RLC) protocol. The base<br>station (BS) receives the radio frames from the RNC and<br>then schedules the transmission of the radio frames on the<br>wireless link using a scheduling algorithm that takes the<br>wireless channel state into account. The mobile device re-<br>ceives the radio frames and if it discovers loss of radio frames,<br>it requests local retransmission using the RLP(RLC) proto-<br>col. Note that, in order to implement RLP(RLC), the RNC<br>needs to keep a per-user queue of radio frames. The RNC<br>can typically scale up to tens of base stations and thousands<br>of active users.</span></nobr></DIV>
<DIV style="position:absolute;top:745;left:94"><nobr><span class="ft3">In order to illustrate the variability seen in a 3G system,</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:81"><nobr><span class="ft8">we obtained some traces from a 3G1X system. The system<br>consisted of an integrated BS/RNC, a server connected to<br>the RNC using a 10Mbps Ethernet and a mobile device con-<br>nected to the BS using a 3G1X link with 144Kbps downlink<br>in infinite burst mode and 8Kbps uplink. The infinite burst<br>mode implies that the rate is fixed and so the system only<br>had delay variability.</span></nobr></DIV>
<DIV style="position:absolute;top:871;left:94"><nobr><span class="ft3">Figure 2 plots the cumulative distribution function (cdf)</span></nobr></DIV>
<DIV style="position:absolute;top:887;left:81"><nobr><span class="ft8">of ping latencies from a set of 1000 pings from the server to<br>the mobile device (with no observed loss). While about 75%<br>of the latency values are below 200ms, the latency values go<br>all the way to over 1s with about 3% of the values higher<br>than 500ms.</span></nobr></DIV>
<DIV style="position:absolute;top:965;left:94"><nobr><span class="ft3">In the second experiment, a TCP source at the server us-</span></nobr></DIV>
<DIV style="position:absolute;top:981;left:81"><nobr><span class="ft8">ing Sack with timestamp option transferred a 2MB file to<br>the mobile device. The MTU was 1500 bytes with user data<br>size of 1448 bytes. The buffer at the RNC was larger than<br>the TCP window size</span></nobr></DIV>
<DIV style="position:absolute;top:1023;left:214"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:1028;left:220"><nobr><span class="ft3">. and thus, the transfer resulted in</span></nobr></DIV>
<DIV style="position:absolute;top:1044;left:81"><nobr><span class="ft3">no TCP packet loss and a maximal throughput of about</span></nobr></DIV>
<DIV style="position:absolute;top:1062;left:81"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:88"><nobr><span class="ft3">We did not have control over the buffer size at the RNC in</span></nobr></DIV>
<DIV style="position:absolute;top:210;left:494"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:488"><nobr><span class="ft13">0.1</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:488"><nobr><span class="ft13">0.2</span></nobr></DIV>
<DIV style="position:absolute;top:173;left:488"><nobr><span class="ft13">0.3</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:488"><nobr><span class="ft13">0.4</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:488"><nobr><span class="ft13">0.5</span></nobr></DIV>
<DIV style="position:absolute;top:136;left:488"><nobr><span class="ft13">0.6</span></nobr></DIV>
<DIV style="position:absolute;top:124;left:488"><nobr><span class="ft13">0.7</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:488"><nobr><span class="ft13">0.8</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:488"><nobr><span class="ft13">0.9</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:494"><nobr><span class="ft13">1</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:499"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:512"><nobr><span class="ft13">0.05</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:532"><nobr><span class="ft13">0.1</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:549"><nobr><span class="ft13">0.15</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:568"><nobr><span class="ft13">0.2</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:585"><nobr><span class="ft13">0.25</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:605"><nobr><span class="ft13">0.3</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:621"><nobr><span class="ft13">0.35</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:641"><nobr><span class="ft13">0.4</span></nobr></DIV>
<DIV style="position:absolute;top:157;left:481"><nobr><span class="ft16">Prob.</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:538"><nobr><span class="ft13">Interack time Time (s)</span></nobr></DIV>
<DIV style="position:absolute;top:210;left:672"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:665"><nobr><span class="ft13">0.5</span></nobr></DIV>
<DIV style="position:absolute;top:175;left:672"><nobr><span class="ft13">1</span></nobr></DIV>
<DIV style="position:absolute;top:157;left:665"><nobr><span class="ft13">1.5</span></nobr></DIV>
<DIV style="position:absolute;top:140;left:672"><nobr><span class="ft13">2</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:665"><nobr><span class="ft13">2.5</span></nobr></DIV>
<DIV style="position:absolute;top:104;left:672"><nobr><span class="ft13">3</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:665"><nobr><span class="ft13">3.5</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:676"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:699"><nobr><span class="ft13">20</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:723"><nobr><span class="ft13">40</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:747"><nobr><span class="ft13">60</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:772"><nobr><span class="ft13">80</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:794"><nobr><span class="ft13">100</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:818"><nobr><span class="ft13">120</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:659"><nobr><span class="ft16">Rtt (s)</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:738"><nobr><span class="ft13">Time (s)</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:506"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:528"><nobr><span class="ft11">TCP Ack Inter-arrival</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:703"><nobr><span class="ft11">(b) TCP rtt value</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:536"><nobr><span class="ft3">Figure 3:</span></nobr></DIV>
<DIV style="position:absolute;top:266;left:606"><nobr><span class="ft11">3G Link Delay Variability</span></nobr></DIV>
<DIV style="position:absolute;top:295;left:475"><nobr><span class="ft8">135Kb/s. The transmission time at the bottleneck link is<br>1.448</span></nobr></DIV>
<DIV style="position:absolute;top:307;left:511"><nobr><span class="ft3"> 8/135 = 86ms. If the wireless link delay were con-</span></nobr></DIV>
<DIV style="position:absolute;top:326;left:475"><nobr><span class="ft8">stant, the TCP acks arriving at the source would be evenly<br>spaced with a duration of 172ms because of the delayed ack<br>feature of TCP (every 2 packets are acked rather than every<br>packet). Figure 3(a) plots the cdf of TCP ack inter-arrival<br>time (time between two consecutive acks) at the server. As<br>can be seen, there is significant ack compression with over<br>10% of the acks arriving within 50ms of the previous ack.<br>Note that the ack packet size is 52 bytes (40 + timestamp)<br>and ack transmission time on the uplink is 52</span></nobr></DIV>
<DIV style="position:absolute;top:448;left:758"><nobr><span class="ft3"> 8/8=52ms;</span></nobr></DIV>
<DIV style="position:absolute;top:468;left:475"><nobr><span class="ft8">an interack spacing of less then 52ms is a result of uplink<br>delay variation.</span></nobr></DIV>
<DIV style="position:absolute;top:499;left:489"><nobr><span class="ft3">Note that the delay variability and the resulting ack com-</span></nobr></DIV>
<DIV style="position:absolute;top:515;left:475"><nobr><span class="ft8">pression did not cause any throughput degradation in our<br>system. This was due to the fact that the buffering in the<br>system was greater than the TCP window size resulting in<br>no buffer overflow loss. Figure 3(b) depicts the TCP round<br>trip time (rtt) values over time. Since the buffer at the RNC<br>is able to accommodate the whole TCP window, the rtt in-<br>creases to over 3s representing a case of over 30 packets in<br>the buffer at the RNC (30</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:640"><nobr><span class="ft3"> 0.086 = 2.5s). Given an aver-</span></nobr></DIV>
<DIV style="position:absolute;top:640;left:475"><nobr><span class="ft8">age ping latency of 215ms and a transmission time of 86ms<br>for a 1500 byte packet, the bandwidth delay product of the<br>link is approximately (0.215 + 0.86)</span></nobr></DIV>
<DIV style="position:absolute;top:668;left:695"><nobr><span class="ft3"> 135=5KB or about 3</span></nobr></DIV>
<DIV style="position:absolute;top:687;left:475"><nobr><span class="ft8">packets. Thus, the system had a buffer of over 10 times the<br>bandwidth delay product. Given that we had only one TCP<br>flow in the system, a buffer of over 64KB is not a problem.<br>But, if every TCP flow is allocated a buffer of 64KB, the<br>buffer requirements at the RNC would be very expensive,<br>since the RNC supports thousands of active users.</span></nobr></DIV>
<DIV style="position:absolute;top:781;left:489"><nobr><span class="ft3">Even discounting the cost of large buffers, the inflated rtt</span></nobr></DIV>
<DIV style="position:absolute;top:797;left:475"><nobr><span class="ft8">value due to the excessive buffering has several negative con-<br>sequences as identified in [15]. First, an inflated rtt implies<br>a large retransmission timeout value (rto). In the case of<br>multiple packet losses (either on the wireless link or in a<br>router elsewhere in the network), a timeout-based recovery<br>would cause excessive delay, especially if exponential backoff<br>gets invoked. Second, if the timestamp option is not used,<br>the rtt sampling rate is reduced and this can cause spurious<br>timeouts. Third, there is a higher probability that the data<br>in the queue becomes obsolete (for e.g., due to user aborting<br>the transmission), but the queue will still have to be drained<br>resulting in wasted bandwidth.</span></nobr></DIV>
<DIV style="position:absolute;top:985;left:489"><nobr><span class="ft3">Thus, while excessive buffering at the RNC can absorb</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:475"><nobr><span class="ft8">the variability of the wireless links without causing TCP<br>throughput degradation, it has significant negative side ef-<br>fects, making it an undesirable solution.</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft3">our system.</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">73</span></nobr></DIV>
</DIV>
<!-- Page 4 -->
<a name="4"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft17{font-size:2px;font-family:Helvetica;color:#000000;}
	.ft18{font-size:-1px;font-family:Times;color:#000000;}
	.ft19{font-size:5px;font-family:Times;color:#000000;}
	.ft20{font-size:6px;line-height:11px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186004.png" alt="background image">
<DIV style="position:absolute;top:84;left:81"><nobr><span class="ft2"><b>4.</b></span></nobr></DIV>
<DIV style="position:absolute;top:84;left:112"><nobr><span class="ft2"><b>MODEL</b></span></nobr></DIV>
<DIV style="position:absolute;top:106;left:94"><nobr><span class="ft3">In this section, we model the performance of a single long-</span></nobr></DIV>
<DIV style="position:absolute;top:121;left:81"><nobr><span class="ft8">lived TCP flow over a network with a single bottleneck server<br>that exhibits rate variation based on a given general distri-<br>bution and a single wireless link attached to the bottleneck<br>server that exhibits delay variation based on another given<br>distribution.</span></nobr></DIV>
<DIV style="position:absolute;top:200;left:94"><nobr><span class="ft3">We use a general distribution of rate and delay values for</span></nobr></DIV>
<DIV style="position:absolute;top:216;left:81"><nobr><span class="ft8">the discussion in this section since we would like to capture<br>the inherent variation in rate and delay that is a character-<br>istic of the 3G wireless data environment. Given that the<br>wireless standards are constantly evolving, the actual rate<br>and delay distribution will vary from one standard or imple-<br>mentation to another and is outside the scope of this paper.<br>Later, in Section 6, we will evaluate TCP performance over<br>a specific wireless link, the 3G1X-EVDO (HDR) system, us-<br>ing simulation.</span></nobr></DIV>
<DIV style="position:absolute;top:357;left:94"><nobr><span class="ft3">We would like to model TCP performance in the case of</span></nobr></DIV>
<DIV style="position:absolute;top:372;left:81"><nobr><span class="ft8">variable rate and delay for two reasons. One, we would like<br>to understand the dynamics so that we can design an ap-<br>propriate mechanism to improve TCP performance. Two,<br>we would like to have a more accurate model that specifi-<br>cally takes the burstiness caused by ack compression due to<br>rate/delay variability into account.</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:94"><nobr><span class="ft3">TCP performance modeling has been extensively studied</span></nobr></DIV>
<DIV style="position:absolute;top:482;left:81"><nobr><span class="ft8">in the literature [1, 2, 9, 14, 17, 19]. Most of these mod-<br>els assume constant delay and service rate at the bottleneck<br>router and calculate TCP throughput in terms of packet loss<br>probability and round trip time. In [19], the authors model<br>TCP performance assuming deterministic time between con-<br>gestion events [1]. In [17], the authors improve the through-<br>put prediction of [19] assuming exponential time between<br>congestion events (loss indications as Poisson). In our case,<br>ack compressions and link variation causes bursty losses and<br>the deterministic or Poisson loss models are not likely to be<br>as accurate. In [9], the authors model an UMTS wireless<br>network by extending the model from [19] and inflating the<br>rtt value to account for the average additional delay incurred<br>on the wireless link. However, we believe this will not result<br>in an accurate model because 1) the rtt value in [19] is al-<br>ready an end-to-end measured value and 2) the loss process<br>is much more bursty than the deterministic loss assumption<br>in [19]. In [2], the authors observe that mean values are<br>not sufficient to predict the throughput when routers have<br>varying bandwidth and show that increasing variance for the<br>same mean service rate decreases TCP throughput. How-<br>ever, the approach is numerical, and provides little intuition<br>in the case of delay variance.</span></nobr></DIV>
<DIV style="position:absolute;top:843;left:94"><nobr><span class="ft3">Our approach starts with the model in [14] which de-</span></nobr></DIV>
<DIV style="position:absolute;top:859;left:81"><nobr><span class="ft8">scribes how TCP functions in an "ideal" environment with<br>constant round trip time, constant service rate and suffers<br>loss only through buffer overflow. A brief summary of the<br>result from [14] is presented here before we proceed to our<br>model, which can be seen as an extension. We chose to ex-<br>tend the model in [14] since it makes no assumption about<br>the nature of loss event process (which is highly bursty in<br>our case) and explicitly accounts for link delay and service<br>rate (which are variable in our case). For simplicity, we will<br>only discuss the analysis of TCP Reno. TCP Sack can be<br>analyzed similarly. We also assume that the sender is not<br>limited by the maximum receiver window; simple modifica-<br>tions can be made to the analysis for handling this case.</span></nobr></DIV>
<DIV style="position:absolute;top:1063;left:94"><nobr><span class="ft3">Figure 4(a) shows how the TCP congestion window varies</span></nobr></DIV>
<DIV style="position:absolute;top:222;left:485"><nobr><span class="ft17">0</span></nobr></DIV>
<DIV style="position:absolute;top:207;left:485"><nobr><span class="ft17">5</span></nobr></DIV>
<DIV style="position:absolute;top:191;left:484"><nobr><span class="ft17">10</span></nobr></DIV>
<DIV style="position:absolute;top:176;left:484"><nobr><span class="ft17">15</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:484"><nobr><span class="ft17">20</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:484"><nobr><span class="ft17">25</span></nobr></DIV>
<DIV style="position:absolute;top:130;left:484"><nobr><span class="ft17">30</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:484"><nobr><span class="ft17">35</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:484"><nobr><span class="ft17">40</span></nobr></DIV>
<DIV style="position:absolute;top:84;left:484"><nobr><span class="ft17">45</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:488"><nobr><span class="ft17">0</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:527"><nobr><span class="ft17">50</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:565"><nobr><span class="ft17">100</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:604"><nobr><span class="ft17">150</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:644"><nobr><span class="ft17">200</span></nobr></DIV>
<DIV style="position:absolute;top:88;left:616"><nobr><span class="ft17">Ideal TCP</span></nobr></DIV>
<DIV style="position:absolute;top:222;left:663"><nobr><span class="ft17">0</span></nobr></DIV>
<DIV style="position:absolute;top:208;left:663"><nobr><span class="ft17">5</span></nobr></DIV>
<DIV style="position:absolute;top:194;left:661"><nobr><span class="ft17">10</span></nobr></DIV>
<DIV style="position:absolute;top:181;left:661"><nobr><span class="ft17">15</span></nobr></DIV>
<DIV style="position:absolute;top:167;left:661"><nobr><span class="ft17">20</span></nobr></DIV>
<DIV style="position:absolute;top:153;left:661"><nobr><span class="ft17">25</span></nobr></DIV>
<DIV style="position:absolute;top:139;left:661"><nobr><span class="ft17">30</span></nobr></DIV>
<DIV style="position:absolute;top:125;left:661"><nobr><span class="ft17">35</span></nobr></DIV>
<DIV style="position:absolute;top:112;left:661"><nobr><span class="ft17">40</span></nobr></DIV>
<DIV style="position:absolute;top:98;left:661"><nobr><span class="ft17">45</span></nobr></DIV>
<DIV style="position:absolute;top:84;left:661"><nobr><span class="ft17">50</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:666"><nobr><span class="ft17">0</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:704"><nobr><span class="ft17">50</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:742"><nobr><span class="ft17">100</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:782"><nobr><span class="ft17">150</span></nobr></DIV>
<DIV style="position:absolute;top:226;left:821"><nobr><span class="ft17">200</span></nobr></DIV>
<DIV style="position:absolute;top:88;left:772"><nobr><span class="ft17">TCP with Variable Delay</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:518"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:540"><nobr><span class="ft11">Constant delay</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:692"><nobr><span class="ft11">(b) Variable delay</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:475"><nobr><span class="ft3">Figure 4:</span></nobr></DIV>
<DIV style="position:absolute;top:266;left:543"><nobr><span class="ft11">TCP Congestion Window Evolution over time</span></nobr></DIV>
<DIV style="position:absolute;top:288;left:475"><nobr><span class="ft8">in a constant rate and delay setting. The initial phase where<br>TCP tries to probe for available bandwidth is the Slow Start<br>phase.</span></nobr></DIV>
<DIV style="position:absolute;top:320;left:525"><nobr><span class="ft3">After slow start, TCP goes to Congestion avoid-</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:475"><nobr><span class="ft8">ance phase. In the case of long-lived TCP flow, one can<br>focus only on the congestion avoidance phase. Let µ be the<br>constant service rate,  the constant propagation delay, T<br>the minimum round trip time ( + 1/µ) and B the buffer<br>size.</span></nobr></DIV>
<DIV style="position:absolute;top:398;left:513"><nobr><span class="ft3">The congestion window follows a regular saw-tooth</span></nobr></DIV>
<DIV style="position:absolute;top:414;left:475"><nobr><span class="ft3">pattern, going from W</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:609"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:414;left:620"><nobr><span class="ft3">to W</span></nobr></DIV>
<DIV style="position:absolute;top:419;left:649"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:414;left:672"><nobr><span class="ft3">, where W</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:733"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:414;left:743"><nobr><span class="ft3">= W</span></nobr></DIV>
<DIV style="position:absolute;top:419;left:771"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:414;left:794"><nobr><span class="ft3">/2 and</span></nobr></DIV>
<DIV style="position:absolute;top:430;left:475"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:434;left:488"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:430;left:516"><nobr><span class="ft3">= µ + B + 1. Due to the regularity of each of the</span></nobr></DIV>
<DIV style="position:absolute;top:445;left:475"><nobr><span class="ft3">saw-tooth, consider one such saw-tooth.</span></nobr></DIV>
<DIV style="position:absolute;top:445;left:738"><nobr><span class="ft3">Within a single</span></nobr></DIV>
<DIV style="position:absolute;top:461;left:475"><nobr><span class="ft8">saw-tooth, the congestion avoidance phase is divided into<br>two epochs. In the first epoch, say epoch A, the congestion<br>window increases from W</span></nobr></DIV>
<DIV style="position:absolute;top:495;left:631"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:493;left:643"><nobr><span class="ft3">to µT , in time t</span></nobr></DIV>
<DIV style="position:absolute;top:497;left:742"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:493;left:756"><nobr><span class="ft3">with number</span></nobr></DIV>
<DIV style="position:absolute;top:508;left:475"><nobr><span class="ft3">of packets sent n</span></nobr></DIV>
<DIV style="position:absolute;top:513;left:579"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:508;left:588"><nobr><span class="ft3">. In the second epoch, say epoch B, the</span></nobr></DIV>
<DIV style="position:absolute;top:524;left:475"><nobr><span class="ft3">congestion window increases from µT to W</span></nobr></DIV>
<DIV style="position:absolute;top:528;left:739"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:524;left:762"><nobr><span class="ft3">, in time t</span></nobr></DIV>
<DIV style="position:absolute;top:528;left:824"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:475"><nobr><span class="ft3">with number of packets sent n</span></nobr></DIV>
<DIV style="position:absolute;top:544;left:655"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:664"><nobr><span class="ft3">. TCP throughput (ignoring</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:475"><nobr><span class="ft3">slow start) is simply given by (n</span></nobr></DIV>
<DIV style="position:absolute;top:560;left:671"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:683"><nobr><span class="ft3">+ n</span></nobr></DIV>
<DIV style="position:absolute;top:560;left:705"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:715"><nobr><span class="ft3">)/(t</span></nobr></DIV>
<DIV style="position:absolute;top:560;left:738"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:750"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:560;left:769"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:778"><nobr><span class="ft3">) where</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:565"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:585;left:570"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:592"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:616"><nobr><span class="ft3">T (µT</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:653"><nobr><span class="ft3">- W</span></nobr></DIV>
<DIV style="position:absolute;top:583;left:680"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:686"><nobr><span class="ft3">)</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:816"><nobr><span class="ft3">(1)</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:561"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:605;left:570"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:592"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:616"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:603;left:635"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:641"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:605;left:646"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:658"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:595;left:677"><nobr><span class="ft20">2<br>A</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:686"><nobr><span class="ft3">/(2T ))/T</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:816"><nobr><span class="ft3">(2)</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:564"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:625;left:569"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:592"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:616"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:615;left:637"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:635"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:617;left:661"><nobr><span class="ft3">- (µT )</span></nobr></DIV>
<DIV style="position:absolute;top:615;left:704"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:710"><nobr><span class="ft3">)/(2µ)</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:816"><nobr><span class="ft3">(3)</span></nobr></DIV>
<DIV style="position:absolute;top:641;left:561"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:645;left:569"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:641;left:592"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:641;left:616"><nobr><span class="ft3">µt</span></nobr></DIV>
<DIV style="position:absolute;top:645;left:630"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:641;left:816"><nobr><span class="ft3">(4)</span></nobr></DIV>
<DIV style="position:absolute;top:666;left:489"><nobr><span class="ft3">This model, while very accurate for constant µ and T ,</span></nobr></DIV>
<DIV style="position:absolute;top:682;left:475"><nobr><span class="ft8">breaks down when the constant propagation and service rate<br>assumptions are not valid. Figure 4(b) shows how the con-<br>gestion window becomes much more irregular when there<br>is substantial variation in the wireless link delay. This is<br>because the delay variation and ack compression result in<br>multiple packet losses.</span></nobr></DIV>
<DIV style="position:absolute;top:776;left:489"><nobr><span class="ft3">There are three main differences in the TCP congestion</span></nobr></DIV>
<DIV style="position:absolute;top:792;left:475"><nobr><span class="ft8">window behavior under variable rate/delay from the tra-<br>ditional saw-tooth behavior.</span></nobr></DIV>
<DIV style="position:absolute;top:807;left:665"><nobr><span class="ft3">First, while the traditional</span></nobr></DIV>
<DIV style="position:absolute;top:823;left:475"><nobr><span class="ft8">saw-tooth behavior always results in one packet loss due<br>to buffer overflow, we have possibilities for multiple packet<br>losses due to link variation. To account for this, we aug-<br>ment our model with parameters p1, p2, p3 representing re-<br>spectively the conditional probability of a single packet loss,<br>double packet loss, and three or more packet losses. Note<br>that, p1 + p2 + p3 = 1 by this definition. Second, while<br>the loss in the traditional saw-tooth model always occurs<br>when window size reaches W</span></nobr></DIV>
<DIV style="position:absolute;top:953;left:646"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:948;left:673"><nobr><span class="ft3">= µ + B + 1, in our model</span></nobr></DIV>
<DIV style="position:absolute;top:964;left:475"><nobr><span class="ft8">losses can occur at different values of window size, since µ<br>and  are now both variables instead of constants. We cap-</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:475"><nobr><span class="ft3">ture this by a parameter W</span></nobr></DIV>
<DIV style="position:absolute;top:1005;left:642"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:649"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:994;left:660"><nobr><span class="ft18">Õ</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:674"><nobr><span class="ft3"></span></nobr></DIV>
<DIV style="position:absolute;top:999;left:684"><nobr><span class="ft15">N</span></nobr></DIV>
<DIV style="position:absolute;top:1007;left:684"><nobr><span class="ft15">i=1</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:703"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:998;left:718"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:1006;left:716"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:1007;left:738"><nobr><span class="ft19">i</span></nobr></DIV>
<DIV style="position:absolute;top:1001;left:743"><nobr><span class="ft3">/N , that is the</span></nobr></DIV>
<DIV style="position:absolute;top:1020;left:475"><nobr><span class="ft3">square root of the second moment of the W</span></nobr></DIV>
<DIV style="position:absolute;top:1024;left:727"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:1020;left:753"><nobr><span class="ft3">values of each</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:475"><nobr><span class="ft8">cycle. The reason we do this instead of obtaining a simple<br>mean of W</span></nobr></DIV>
<DIV style="position:absolute;top:1055;left:544"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:573"><nobr><span class="ft3">values is because throughput is related to</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:1071;left:488"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:500"><nobr><span class="ft3">quadratically (since it is the area under the curve in the</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">74</span></nobr></DIV>
</DIV>
<!-- Page 5 -->
<a name="5"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft21{font-size:11px;line-height:13px;font-family:Times;color:#000000;}
	.ft22{font-size:11px;line-height:17px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186005.png" alt="background image">
<DIV style="position:absolute;top:210;left:97"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:97"><nobr><span class="ft13">5</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:93"><nobr><span class="ft13">10</span></nobr></DIV>
<DIV style="position:absolute;top:136;left:93"><nobr><span class="ft13">15</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:93"><nobr><span class="ft13">20</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:93"><nobr><span class="ft13">25</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:98"><nobr><span class="ft13">128</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:117"><nobr><span class="ft13">130</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:136"><nobr><span class="ft13">132</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:156"><nobr><span class="ft13">134</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:175"><nobr><span class="ft13">136</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:194"><nobr><span class="ft13">138</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:213"><nobr><span class="ft13">140</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:232"><nobr><span class="ft13">142</span></nobr></DIV>
<DIV style="position:absolute;top:175;left:87"><nobr><span class="ft16">cwnd (packets)</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:164"><nobr><span class="ft13">Time (s)</span></nobr></DIV>
<DIV style="position:absolute;top:210;left:274"><nobr><span class="ft13">0</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:274"><nobr><span class="ft13">5</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:271"><nobr><span class="ft13">10</span></nobr></DIV>
<DIV style="position:absolute;top:136;left:271"><nobr><span class="ft13">15</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:271"><nobr><span class="ft13">20</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:271"><nobr><span class="ft13">25</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:290"><nobr><span class="ft13">100</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:327"><nobr><span class="ft13">105</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:364"><nobr><span class="ft13">110</span></nobr></DIV>
<DIV style="position:absolute;top:217;left:402"><nobr><span class="ft13">115</span></nobr></DIV>
<DIV style="position:absolute;top:175;left:264"><nobr><span class="ft16">cwnd (packets)</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:342"><nobr><span class="ft13">Time (s)</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:120"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:143"><nobr><span class="ft11">Two packet loss</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:282"><nobr><span class="ft11">(b) Three packet loss</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:95"><nobr><span class="ft3">Figure 5:</span></nobr></DIV>
<DIV style="position:absolute;top:266;left:165"><nobr><span class="ft11">Congestion Window with multiple losses</span></nobr></DIV>
<DIV style="position:absolute;top:290;left:81"><nobr><span class="ft8">congestion window graph). Third, due to the fact that we<br>have multiple packet losses in our model, we need to consider<br>timeouts and slow starts in our throughput calculation. We<br>represent the timeout duration by the T</span></nobr></DIV>
<DIV style="position:absolute;top:339;left:326"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:338"><nobr><span class="ft3">parameter which</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:81"><nobr><span class="ft8">represents the average timeout value, similar to the timeout<br>parameter in [19].</span></nobr></DIV>
<DIV style="position:absolute;top:384;left:94"><nobr><span class="ft3">We now model the highly variable congestion window be-</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:81"><nobr><span class="ft8">havior of a TCP source under rate/delay variation. We first<br>use W</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:119"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:132"><nobr><span class="ft3">instead of W</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:212"><nobr><span class="ft15">max</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:235"><nobr><span class="ft3">. We approximate  (the propa-</span></nobr></DIV>
<DIV style="position:absolute;top:431;left:81"><nobr><span class="ft3">gation delay) by ^</span></nobr></DIV>
<DIV style="position:absolute;top:431;left:187"><nobr><span class="ft3"> , the average link delay in the presence</span></nobr></DIV>
<DIV style="position:absolute;top:447;left:81"><nobr><span class="ft3">of delay variability. We replace µ (the service rate) by ^</span></nobr></DIV>
<DIV style="position:absolute;top:447;left:428"><nobr><span class="ft3">µ,</span></nobr></DIV>
<DIV style="position:absolute;top:463;left:81"><nobr><span class="ft8">the average service rate in the presence of rate variability.<br>Thus, T becomes ^</span></nobr></DIV>
<DIV style="position:absolute;top:478;left:195"><nobr><span class="ft3">T = (^</span></nobr></DIV>
<DIV style="position:absolute;top:478;left:233"><nobr><span class="ft3"> + 1 / ^</span></nobr></DIV>
<DIV style="position:absolute;top:478;left:291"><nobr><span class="ft3">µ). Now consider three</span></nobr></DIV>
<DIV style="position:absolute;top:494;left:81"><nobr><span class="ft8">different congestion window patterns: with probability p1,<br>single loss followed by congestion avoidance, with probabil-<br>ity p2, double loss followed by congestion avoidance, and<br>with probability p3, triple loss and timeout followed by slow<br>start and congestion avoidance</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:267"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:557;left:273"><nobr><span class="ft3">.</span></nobr></DIV>
<DIV style="position:absolute;top:572;left:94"><nobr><span class="ft3">First, consider the single loss event in the congestion avoid-</span></nobr></DIV>
<DIV style="position:absolute;top:588;left:81"><nobr><span class="ft8">ance phase. This is the classic saw-tooth pattern with two<br>epochs as identified in [14].</span></nobr></DIV>
<DIV style="position:absolute;top:604;left:270"><nobr><span class="ft3">Lets call these A1 and B1</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:81"><nobr><span class="ft3">epochs. In epoch A1, window size grows from W</span></nobr></DIV>
<DIV style="position:absolute;top:624;left:386"><nobr><span class="ft15">01</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:403"><nobr><span class="ft3">to ^</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:421"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:429"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:637;left:81"><nobr><span class="ft3">in time, t</span></nobr></DIV>
<DIV style="position:absolute;top:642;left:139"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:637;left:153"><nobr><span class="ft3">, with number of packets transmitted, n</span></nobr></DIV>
<DIV style="position:absolute;top:642;left:400"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:637;left:415"><nobr><span class="ft3">. In</span></nobr></DIV>
<DIV style="position:absolute;top:653;left:81"><nobr><span class="ft3">epoch B1, window size grows from ^</span></nobr></DIV>
<DIV style="position:absolute;top:653;left:298"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:653;left:305"><nobr><span class="ft3">T to W</span></nobr></DIV>
<DIV style="position:absolute;top:657;left:351"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:653;left:363"><nobr><span class="ft3">in time, t</span></nobr></DIV>
<DIV style="position:absolute;top:657;left:421"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:653;left:436"><nobr><span class="ft3">,</span></nobr></DIV>
<DIV style="position:absolute;top:669;left:81"><nobr><span class="ft3">with number of packets transmitted, n</span></nobr></DIV>
<DIV style="position:absolute;top:673;left:311"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:669;left:325"><nobr><span class="ft3">. Thus, with proba-</span></nobr></DIV>
<DIV style="position:absolute;top:684;left:81"><nobr><span class="ft3">bility p1, n</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:146"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:684;left:161"><nobr><span class="ft3">+n</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:179"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:684;left:199"><nobr><span class="ft3">packets are transmitted in time t</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:394"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:684;left:409"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:424"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:700;left:81"><nobr><span class="ft3">where</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:157"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:729;left:170"><nobr><span class="ft15">01</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:196"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:220"><nobr><span class="ft3">(int)W</span></nobr></DIV>
<DIV style="position:absolute;top:731;left:262"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:269"><nobr><span class="ft3">/2</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:422"><nobr><span class="ft3">(5)</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:163"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:753;left:168"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:196"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:745;left:222"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:220"><nobr><span class="ft3">T (^</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:235"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:244"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:745;left:256"><nobr><span class="ft3">- W</span></nobr></DIV>
<DIV style="position:absolute;top:751;left:284"><nobr><span class="ft15">01</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:295"><nobr><span class="ft3">)</span></nobr></DIV>
<DIV style="position:absolute;top:749;left:422"><nobr><span class="ft3">(6)</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:159"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:775;left:168"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:196"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:220"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:773;left:238"><nobr><span class="ft15">01</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:250"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:775;left:255"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:273"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:291"><nobr><span class="ft20">2<br>A1</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:306"><nobr><span class="ft3">/(2 ^</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:325"><nobr><span class="ft3">T ))/ ^</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:353"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:771;left:422"><nobr><span class="ft3">(7)</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:162"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:797;left:167"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:196"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:220"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:787;left:240"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:798;left:238"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:789;left:249"><nobr><span class="ft3">- (^µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:277"><nobr><span class="ft3">T )</span></nobr></DIV>
<DIV style="position:absolute;top:787;left:292"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:299"><nobr><span class="ft3">)/(2^</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:323"><nobr><span class="ft3">µ)</span></nobr></DIV>
<DIV style="position:absolute;top:793;left:422"><nobr><span class="ft3">(8)</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:159"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:818;left:167"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:196"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:221"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:220"><nobr><span class="ft3">µt</span></nobr></DIV>
<DIV style="position:absolute;top:818;left:233"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:422"><nobr><span class="ft3">(9)</span></nobr></DIV>
<DIV style="position:absolute;top:840;left:94"><nobr><span class="ft3">Next, consider the two loss event. An example of this</span></nobr></DIV>
<DIV style="position:absolute;top:855;left:81"><nobr><span class="ft8">event is shown in Figure 5(a). The trace is obtained us-<br>ing ns-2 simulation described in Section 6.</span></nobr></DIV>
<DIV style="position:absolute;top:871;left:363"><nobr><span class="ft3">In this case,</span></nobr></DIV>
<DIV style="position:absolute;top:887;left:81"><nobr><span class="ft8">after the first fast retransmit (around 130s), the source re-<br>ceives another set of duplicate acks to trigger the second<br>fast retransmit (around 131s). This fixes the two losses and<br>the congestion window starts growing from W</span></nobr></DIV>
<DIV style="position:absolute;top:936;left:364"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:934;left:375"><nobr><span class="ft3">. The sec-</span></nobr></DIV>
<DIV style="position:absolute;top:949;left:81"><nobr><span class="ft8">ond retransmit is triggered by the new set of duplicate acks<br>in response to the first retransmission. Thus, the duration<br>between the first and second fast retransmit is the time re-<br>quired for the first retransmission to reach the receiver (with<br>a full buffer) plus the time for the duplicate ack to return</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:81"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:1040;left:88"><nobr><span class="ft3">We assume that three or more packet losses result in a</span></nobr></DIV>
<DIV style="position:absolute;top:1053;left:81"><nobr><span class="ft21">timeout; this is almost always true if the source is TCP<br>reno.</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">to the sender. In other words, this duration can be approx-<br>imated by the average link delay with a full buffer, ^</span></nobr></DIV>
<DIV style="position:absolute;top:102;left:807"><nobr><span class="ft3">T +</span></nobr></DIV>
<DIV style="position:absolute;top:118;left:475"><nobr><span class="ft3">B/^</span></nobr></DIV>
<DIV style="position:absolute;top:118;left:493"><nobr><span class="ft3">µ=t</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:518"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:118;left:526"><nobr><span class="ft3">. We have three epochs now, epoch t</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:757"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:118;left:771"><nobr><span class="ft3">(time 130-</span></nobr></DIV>
<DIV style="position:absolute;top:133;left:475"><nobr><span class="ft22">131s)with one retransmission and zero new packet, epoch<br>A2 (131-137s) with window size growing from W</span></nobr></DIV>
<DIV style="position:absolute;top:153;left:780"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:151;left:797"><nobr><span class="ft3">to ^</span></nobr></DIV>
<DIV style="position:absolute;top:151;left:816"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:151;left:824"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:167;left:475"><nobr><span class="ft3">in time, t</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:532"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:167;left:546"><nobr><span class="ft3">, with number of packets transmitted, n</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:789"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:167;left:803"><nobr><span class="ft3">, and</span></nobr></DIV>
<DIV style="position:absolute;top:182;left:475"><nobr><span class="ft8">epoch B1 (137-143s) as before. Thus, with probability p2,<br>n</span></nobr></DIV>
<DIV style="position:absolute;top:203;left:483"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:498"><nobr><span class="ft3">+n</span></nobr></DIV>
<DIV style="position:absolute;top:203;left:517"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:536"><nobr><span class="ft3">packets are transmitted in time t</span></nobr></DIV>
<DIV style="position:absolute;top:203;left:726"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:735"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:203;left:750"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:765"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:203;left:780"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:198;left:798"><nobr><span class="ft3">where</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:552"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:565"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:614"><nobr><span class="ft3">(int)W</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:656"><nobr><span class="ft15">01</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:668"><nobr><span class="ft3">/2</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:809"><nobr><span class="ft3">(10)</span></nobr></DIV>
<DIV style="position:absolute;top:245;left:563"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:250;left:568"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:245;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:242;left:617"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:245;left:614"><nobr><span class="ft3">T + B/^</span></nobr></DIV>
<DIV style="position:absolute;top:245;left:659"><nobr><span class="ft3">µ</span></nobr></DIV>
<DIV style="position:absolute;top:245;left:809"><nobr><span class="ft3">(11)</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:557"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:272;left:562"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:264;left:617"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:614"><nobr><span class="ft3">T (^</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:630"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:638"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:264;left:651"><nobr><span class="ft3">- W</span></nobr></DIV>
<DIV style="position:absolute;top:270;left:678"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:690"><nobr><span class="ft3">)</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:809"><nobr><span class="ft3">(12)</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:554"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:294;left:562"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:614"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:292;left:633"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:644"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:294;left:649"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:667"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:686"><nobr><span class="ft20">2<br>A2</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:700"><nobr><span class="ft3">/(2 ^</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:719"><nobr><span class="ft3">T ))/ ^</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:747"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:809"><nobr><span class="ft3">(13)</span></nobr></DIV>
<DIV style="position:absolute;top:314;left:489"><nobr><span class="ft3">Finally, consider the three loss event. An example of this</span></nobr></DIV>
<DIV style="position:absolute;top:330;left:475"><nobr><span class="ft8">event is shown in Figure 5(b). In this case, after the first fast<br>retransmit, we receive another set of duplicate acks to trig-<br>ger the second fast retransmit. This does not fixthe three<br>losses and TCP times out. Thus, we now have five epochs:<br>first is the retransmission epoch (100-101s) with time t</span></nobr></DIV>
<DIV style="position:absolute;top:397;left:799"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:393;left:812"><nobr><span class="ft3">and</span></nobr></DIV>
<DIV style="position:absolute;top:408;left:475"><nobr><span class="ft8">zero new packet, second is the timeout epoch (101-103s) with<br>time T</span></nobr></DIV>
<DIV style="position:absolute;top:427;left:515"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:527"><nobr><span class="ft3">and zero new packet, third is the slow start epoch</span></nobr></DIV>
<DIV style="position:absolute;top:440;left:475"><nobr><span class="ft8">(103-106s) where the window grows exponentially up to pre-<br>vious ssthresh value of W</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:623"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:456;left:638"><nobr><span class="ft3">in time t</span></nobr></DIV>
<DIV style="position:absolute;top:460;left:688"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:456;left:699"><nobr><span class="ft3">(Eqn. 15) with number</span></nobr></DIV>
<DIV style="position:absolute;top:471;left:475"><nobr><span class="ft3">of packets transmitted n</span></nobr></DIV>
<DIV style="position:absolute;top:476;left:627"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:471;left:644"><nobr><span class="ft3">(Eqn. 16)</span></nobr></DIV>
<DIV style="position:absolute;top:466;left:702"><nobr><span class="ft15">3</span></nobr></DIV>
<DIV style="position:absolute;top:471;left:708"><nobr><span class="ft3">, fourth is epoch A3</span></nobr></DIV>
<DIV style="position:absolute;top:489;left:475"><nobr><span class="ft3">(106-111s) where the window size grows from W</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:767"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:489;left:783"><nobr><span class="ft3">to ^</span></nobr></DIV>
<DIV style="position:absolute;top:489;left:800"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:489;left:808"><nobr><span class="ft3">T in</span></nobr></DIV>
<DIV style="position:absolute;top:505;left:475"><nobr><span class="ft3">time t</span></nobr></DIV>
<DIV style="position:absolute;top:509;left:512"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:505;left:526"><nobr><span class="ft3">(Eqn. 17) with number of packets transmitted n</span></nobr></DIV>
<DIV style="position:absolute;top:509;left:819"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:520;left:475"><nobr><span class="ft8">(Eqn. 18), and fifth is epoch B1 (111-118s) as before. Thus,<br>with probability p3, n</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:608"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:619"><nobr><span class="ft3">+n</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:638"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:652"><nobr><span class="ft3">+n</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:671"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:692"><nobr><span class="ft3">packets are transmitted</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:475"><nobr><span class="ft3">in time t</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:529"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:538"><nobr><span class="ft3">+T</span></nobr></DIV>
<DIV style="position:absolute;top:554;left:556"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:563"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:578"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:589"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:605"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:619"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:635"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:654"><nobr><span class="ft3">where</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:552"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:565"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:614"><nobr><span class="ft3">(int)W</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:656"><nobr><span class="ft15">02</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:668"><nobr><span class="ft3">/2</span></nobr></DIV>
<DIV style="position:absolute;top:577;left:809"><nobr><span class="ft3">(14)</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:561"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:603;left:566"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:595;left:617"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:614"><nobr><span class="ft3">T log</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:642"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:648"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:601;left:667"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:678"><nobr><span class="ft3">)</span></nobr></DIV>
<DIV style="position:absolute;top:599;left:809"><nobr><span class="ft3">(15)</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:557"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:625;left:565"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:614"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:623;left:627"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:639"><nobr><span class="ft3">/ ^</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:646"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:621;left:809"><nobr><span class="ft3">(16)</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:557"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:648;left:562"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:640;left:617"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:614"><nobr><span class="ft3">T (^</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:630"><nobr><span class="ft3">µ ^</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:638"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:640;left:651"><nobr><span class="ft3">- W</span></nobr></DIV>
<DIV style="position:absolute;top:645;left:678"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:690"><nobr><span class="ft3">)</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:809"><nobr><span class="ft3">(17)</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:554"><nobr><span class="ft3">n</span></nobr></DIV>
<DIV style="position:absolute;top:670;left:562"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:590"><nobr><span class="ft3">=</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:614"><nobr><span class="ft3">(W</span></nobr></DIV>
<DIV style="position:absolute;top:667;left:633"><nobr><span class="ft15">03</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:644"><nobr><span class="ft3">t</span></nobr></DIV>
<DIV style="position:absolute;top:670;left:649"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:667"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:659;left:686"><nobr><span class="ft20">2<br>A3</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:700"><nobr><span class="ft3">/(2 ^</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:719"><nobr><span class="ft3">T ))/ ^</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:747"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:809"><nobr><span class="ft3">(18)</span></nobr></DIV>
<DIV style="position:absolute;top:690;left:489"><nobr><span class="ft3">Given that the different types of packet loss events are in-</span></nobr></DIV>
<DIV style="position:absolute;top:706;left:475"><nobr><span class="ft8">dependent and using p1+p2+p3=1, the average TCP through-<br>put can now be approximated by a weighted combination of<br>the three types of loss events to be</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:521"><nobr><span class="ft3">p3</span></nobr></DIV>
<DIV style="position:absolute;top:757;left:537"><nobr><span class="ft3"> (n</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:561"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:575"><nobr><span class="ft3">+ n</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:598"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:612"><nobr><span class="ft3">) + p2</span></nobr></DIV>
<DIV style="position:absolute;top:757;left:651"><nobr><span class="ft3"> n</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:670"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:687"><nobr><span class="ft3">+ p1</span></nobr></DIV>
<DIV style="position:absolute;top:757;left:718"><nobr><span class="ft3"> n</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:736"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:754"><nobr><span class="ft3">+ n</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:776"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:477"><nobr><span class="ft3">p3</span></nobr></DIV>
<DIV style="position:absolute;top:775;left:494"><nobr><span class="ft3"> (t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:514"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:526"><nobr><span class="ft3">+ T</span></nobr></DIV>
<DIV style="position:absolute;top:781;left:548"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:558"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:577"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:591"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:609"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:624"><nobr><span class="ft3">) + p2</span></nobr></DIV>
<DIV style="position:absolute;top:775;left:663"><nobr><span class="ft3"> (t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:684"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:696"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:715"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:729"><nobr><span class="ft3">) + p1</span></nobr></DIV>
<DIV style="position:absolute;top:775;left:768"><nobr><span class="ft3"> t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:783"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:801"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:820"><nobr><span class="ft15">B1</span></nobr></DIV>
<DIV style="position:absolute;top:794;left:809"><nobr><span class="ft3">(19)</span></nobr></DIV>
<DIV style="position:absolute;top:809;left:475"><nobr><span class="ft3">If any of t</span></nobr></DIV>
<DIV style="position:absolute;top:811;left:537"><nobr><span class="ft15"></span></nobr></DIV>
<DIV style="position:absolute;top:809;left:549"><nobr><span class="ft3">are less than 0, those respective epochs do not</span></nobr></DIV>
<DIV style="position:absolute;top:825;left:475"><nobr><span class="ft8">occur and we can use the above equation while setting the<br>respective n</span></nobr></DIV>
<DIV style="position:absolute;top:843;left:548"><nobr><span class="ft15"></span></nobr></DIV>
<DIV style="position:absolute;top:840;left:554"><nobr><span class="ft3">, t</span></nobr></DIV>
<DIV style="position:absolute;top:843;left:565"><nobr><span class="ft15"></span></nobr></DIV>
<DIV style="position:absolute;top:840;left:577"><nobr><span class="ft3">to zero.</span></nobr></DIV>
<DIV style="position:absolute;top:856;left:489"><nobr><span class="ft3">In this paper, we infer parameters such as p1, p2, p3, W</span></nobr></DIV>
<DIV style="position:absolute;top:861;left:823"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:856;left:830"><nobr><span class="ft3">,</span></nobr></DIV>
<DIV style="position:absolute;top:872;left:475"><nobr><span class="ft3">and T</span></nobr></DIV>
<DIV style="position:absolute;top:874;left:511"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:872;left:523"><nobr><span class="ft3">from the traces. Models such as [19] also infer the</span></nobr></DIV>
<DIV style="position:absolute;top:888;left:475"><nobr><span class="ft8">loss probability, round trip time, and timeout durations from<br>traces.</span></nobr></DIV>
<DIV style="position:absolute;top:919;left:489"><nobr><span class="ft3">Table 1 lists the various parameters used by the different</span></nobr></DIV>
<DIV style="position:absolute;top:935;left:475"><nobr><span class="ft8">models for simulations with rate and delay variability. We<br>use a packet size of 1000 bytes, a buffer of 10 which repre-<br>sents the product of the average bandwidth times average<br>delay and we ensure that the source is not window limited.<br>T D and T O denote the number of loss events that are of<br>the triple duplicate and timeout type respectively and these<br>values are used by models in [19] and [17]. The simulation</span></nobr></DIV>
<DIV style="position:absolute;top:1048;left:476"><nobr><span class="ft15">3</span></nobr></DIV>
<DIV style="position:absolute;top:1053;left:482"><nobr><span class="ft3">using analysis similar to [14] and assuming adequate buffer</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft3">so that there is no loss in slow start.</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">75</span></nobr></DIV>
</DIV>
<!-- Page 6 -->
<a name="6"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<IMG width="918" height="1188" src="186006.png" alt="background image">
<DIV style="position:absolute;top:85;left:137"><nobr><span class="ft3">Item</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:182"><nobr><span class="ft3">Rate(Kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:268"><nobr><span class="ft3">Delay(ms)</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:353"><nobr><span class="ft3">pkts</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:404"><nobr><span class="ft3">TD</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:440"><nobr><span class="ft3">TO</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:477"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:486"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:518"><nobr><span class="ft3">rtt</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:566"><nobr><span class="ft3">p1</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:614"><nobr><span class="ft3">p2</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:661"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:89;left:674"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:81;left:712"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:709"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:747"><nobr><span class="ft3">^</span></nobr></DIV>
<DIV style="position:absolute;top:85;left:746"><nobr><span class="ft3">µ</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:137"><nobr><span class="ft3">1</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:182"><nobr><span class="ft3">200</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:268"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:354"><nobr><span class="ft3">89713</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:405"><nobr><span class="ft3">401</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:442"><nobr><span class="ft3">1</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:479"><nobr><span class="ft3">1.76</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:520"><nobr><span class="ft3">616.2</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:568"><nobr><span class="ft3">0.998</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:616"><nobr><span class="ft3">0.000</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:664"><nobr><span class="ft3">22.00</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:712"><nobr><span class="ft3">440</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:749"><nobr><span class="ft3">25.0</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:137"><nobr><span class="ft3">2</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:182"><nobr><span class="ft3">200</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:268"><nobr><span class="ft3">380+e(20)</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:354"><nobr><span class="ft3">83426</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:405"><nobr><span class="ft3">498</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:442"><nobr><span class="ft3">1</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:479"><nobr><span class="ft3">1.71</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:520"><nobr><span class="ft3">579.3</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:568"><nobr><span class="ft3">0.639</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:616"><nobr><span class="ft3">0.357</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:664"><nobr><span class="ft3">21.38</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:712"><nobr><span class="ft3">442</span></nobr></DIV>
<DIV style="position:absolute;top:117;left:749"><nobr><span class="ft3">25.0</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:137"><nobr><span class="ft3">3</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:182"><nobr><span class="ft3">200</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:268"><nobr><span class="ft3">350+e(50)</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:354"><nobr><span class="ft3">78827</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:405"><nobr><span class="ft3">489</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:442"><nobr><span class="ft3">12</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:479"><nobr><span class="ft3">1.79</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:520"><nobr><span class="ft3">595.8</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:568"><nobr><span class="ft3">0.599</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:616"><nobr><span class="ft3">0.367</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:664"><nobr><span class="ft3">21.24</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:712"><nobr><span class="ft3">461</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:749"><nobr><span class="ft3">25.0</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:137"><nobr><span class="ft3">4</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:182"><nobr><span class="ft3">200</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:268"><nobr><span class="ft3">300+e(100)</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:354"><nobr><span class="ft3">58348</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:405"><nobr><span class="ft3">496</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:442"><nobr><span class="ft3">114</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:479"><nobr><span class="ft3">1.92</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:520"><nobr><span class="ft3">606.0</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:568"><nobr><span class="ft3">0.339</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:616"><nobr><span class="ft3">0.279</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:664"><nobr><span class="ft3">18.95</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:712"><nobr><span class="ft3">517</span></nobr></DIV>
<DIV style="position:absolute;top:148;left:749"><nobr><span class="ft3">25.0</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:137"><nobr><span class="ft3">5</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:182"><nobr><span class="ft3">u(200,20)</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:268"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:354"><nobr><span class="ft3">82180</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:405"><nobr><span class="ft3">504</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:442"><nobr><span class="ft3">1</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:479"><nobr><span class="ft3">1.75</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:520"><nobr><span class="ft3">578.1</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:568"><nobr><span class="ft3">0.535</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:616"><nobr><span class="ft3">0.460</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:664"><nobr><span class="ft3">21.61</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:712"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:749"><nobr><span class="ft3">24.74</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:137"><nobr><span class="ft3">6</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:182"><nobr><span class="ft3">u(200,50)</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:268"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:354"><nobr><span class="ft3">74840</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:405"><nobr><span class="ft3">517</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:442"><nobr><span class="ft3">29</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:479"><nobr><span class="ft3">1.80</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:520"><nobr><span class="ft3">579.9</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:568"><nobr><span class="ft3">0.510</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:616"><nobr><span class="ft3">0.403</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:664"><nobr><span class="ft3">20.52</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:712"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:749"><nobr><span class="ft3">23.34</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:137"><nobr><span class="ft3">7</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:182"><nobr><span class="ft3">u(200,75)</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:268"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:354"><nobr><span class="ft3">62674</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:405"><nobr><span class="ft3">516</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:442"><nobr><span class="ft3">81</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:479"><nobr><span class="ft3">1.86</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:520"><nobr><span class="ft3">585.9</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:568"><nobr><span class="ft3">0.398</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:616"><nobr><span class="ft3">0.348</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:664"><nobr><span class="ft3">19.05</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:712"><nobr><span class="ft3">400</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:749"><nobr><span class="ft3">20.93</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:137"><nobr><span class="ft3">8</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:182"><nobr><span class="ft3">u(200,50)</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:268"><nobr><span class="ft3">350+e(50)</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:354"><nobr><span class="ft3">70489</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:405"><nobr><span class="ft3">507</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:442"><nobr><span class="ft3">43</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:479"><nobr><span class="ft3">1.81</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:520"><nobr><span class="ft3">595.7</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:568"><nobr><span class="ft3">0.496</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:616"><nobr><span class="ft3">0.377</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:664"><nobr><span class="ft3">20.15</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:712"><nobr><span class="ft3">459</span></nobr></DIV>
<DIV style="position:absolute;top:211;left:749"><nobr><span class="ft3">23.34</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:137"><nobr><span class="ft3">9</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:182"><nobr><span class="ft3">u(200,75)</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:268"><nobr><span class="ft3">300+e(100)</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:354"><nobr><span class="ft3">53357</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:405"><nobr><span class="ft3">497</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:442"><nobr><span class="ft3">93</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:479"><nobr><span class="ft3">2.03</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:520"><nobr><span class="ft3">635.7</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:568"><nobr><span class="ft3">0.404</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:616"><nobr><span class="ft3">0.298</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:664"><nobr><span class="ft3">17.78</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:712"><nobr><span class="ft3">511</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:749"><nobr><span class="ft3">20.93</span></nobr></DIV>
<DIV style="position:absolute;top:258;left:317"><nobr><span class="ft3">Table 1:</span></nobr></DIV>
<DIV style="position:absolute;top:259;left:379"><nobr><span class="ft11">Simulation and Model parameters</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:156"><nobr><span class="ft3">Item</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:200"><nobr><span class="ft3">Simulator Goodput</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:334"><nobr><span class="ft3">Model 1 [19] (accu.)</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:472"><nobr><span class="ft3">Model 2 [17] (accu.)</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:610"><nobr><span class="ft3">Model 3[Eqn. 19] (accu.)</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:156"><nobr><span class="ft3">1</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:200"><nobr><span class="ft3">199.8</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:334"><nobr><span class="ft3">228.5(0.86)</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:472"><nobr><span class="ft3">201.9(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:610"><nobr><span class="ft3">199.8(1.0)</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:156"><nobr><span class="ft3">2</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:200"><nobr><span class="ft3">185.4</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:334"><nobr><span class="ft3">208.0(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:472"><nobr><span class="ft3">186.0(1.0)</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:610"><nobr><span class="ft3">186.0(1.0)</span></nobr></DIV>
<DIV style="position:absolute;top:331;left:156"><nobr><span class="ft3">3</span></nobr></DIV>
<DIV style="position:absolute;top:331;left:200"><nobr><span class="ft3">175.1</span></nobr></DIV>
<DIV style="position:absolute;top:331;left:334"><nobr><span class="ft3">195.5(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:331;left:472"><nobr><span class="ft3">177.2(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:331;left:610"><nobr><span class="ft3">180.9(0.97)</span></nobr></DIV>
<DIV style="position:absolute;top:347;left:156"><nobr><span class="ft3">4</span></nobr></DIV>
<DIV style="position:absolute;top:347;left:200"><nobr><span class="ft3">129.4</span></nobr></DIV>
<DIV style="position:absolute;top:347;left:334"><nobr><span class="ft3">145.3(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:347;left:472"><nobr><span class="ft3">153.7(0.81)</span></nobr></DIV>
<DIV style="position:absolute;top:347;left:610"><nobr><span class="ft3">137.0(0.94)</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:156"><nobr><span class="ft3">5</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:200"><nobr><span class="ft3">182.5</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:334"><nobr><span class="ft3">205.2(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:472"><nobr><span class="ft3">184.6(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:610"><nobr><span class="ft3">181.3(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:156"><nobr><span class="ft3">6</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:200"><nobr><span class="ft3">166.2</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:334"><nobr><span class="ft3">186.0(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:472"><nobr><span class="ft3">174.6(0.95)</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:610"><nobr><span class="ft3">165.2(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:394;left:156"><nobr><span class="ft3">7</span></nobr></DIV>
<DIV style="position:absolute;top:394;left:200"><nobr><span class="ft3">139.2</span></nobr></DIV>
<DIV style="position:absolute;top:394;left:334"><nobr><span class="ft3">158.4(0.86)</span></nobr></DIV>
<DIV style="position:absolute;top:394;left:472"><nobr><span class="ft3">163.4(0.83)</span></nobr></DIV>
<DIV style="position:absolute;top:394;left:610"><nobr><span class="ft3">137.2(0.99)</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:156"><nobr><span class="ft3">8</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:200"><nobr><span class="ft3">156.5</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:334"><nobr><span class="ft3">174.6(0.88)</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:472"><nobr><span class="ft3">166.5(0.94)</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:610"><nobr><span class="ft3">160.2(0.97)</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:156"><nobr><span class="ft3">9</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:200"><nobr><span class="ft3">118.4</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:334"><nobr><span class="ft3">134.0(0.87)</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:472"><nobr><span class="ft3">142.6(0.80)</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:610"><nobr><span class="ft3">125.0(0.94)</span></nobr></DIV>
<DIV style="position:absolute;top:457;left:294"><nobr><span class="ft3">Table 2:</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:357"><nobr><span class="ft11">Simulation and Model throughput values</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:81"><nobr><span class="ft8">is run for 3600 seconds. We simulate delay and rate vari-<br>ability with exponential and uniform distributions respec-<br>tively (u(a, b) in the table represents uniform distribution<br>with mean a and standard deviation b while e(a) represents<br>an exponential distribution with mean a). The details of the<br>simulation are presented in Section 6.</span></nobr></DIV>
<DIV style="position:absolute;top:578;left:94"><nobr><span class="ft3">Table 2 compares the throughput of simulation of differ-</span></nobr></DIV>
<DIV style="position:absolute;top:594;left:81"><nobr><span class="ft8">ent distributions for rate and delay variability at the server<br>and the throughput predicted by the exact equation of the<br>model in [19], the Poisson model in [17] and by equation 19.<br>The accuracy of the prediction, defined as 1 minus the ratio<br>of the difference between the model and simulation through-<br>put value over the simulation throughput value, is listed in<br>the parenthesis. As the last column shows, the match be-<br>tween our model and simulation is extremely accurate when<br>the delay/rate variation is small and the match is still well<br>over 90% even when the variation is large. The Poisson loss<br>model used in [17] performs very well when the variabil-<br>ity is low but, understandably, does not predict well when<br>variability increases. The deterministic loss model seems to<br>consistently overestimate the throughput.</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:94"><nobr><span class="ft3">From Table 1, one can clearly see the impact of delay and</span></nobr></DIV>
<DIV style="position:absolute;top:829;left:81"><nobr><span class="ft8">rate variability. As the variability increases, the probability<br>of double loss, p2, and three or more losses, p3=(1-p2-p1),<br>start increasing while the goodput of the TCP flow starts<br>decreasing. For example, comparing case 1 to case 4, p1<br>decreases from 0.998 to 0.339 while p3 increases. Increases<br>in p2 and p3 come about because when the product ^</span></nobr></DIV>
<DIV style="position:absolute;top:907;left:421"><nobr><span class="ft3">T ^</span></nobr></DIV>
<DIV style="position:absolute;top:907;left:431"><nobr><span class="ft3">µ</span></nobr></DIV>
<DIV style="position:absolute;top:923;left:81"><nobr><span class="ft8">decreases, a pipe that used to accommodate more packets<br>suddenly becomes smaller causing additional packet losses.<br>Given that n</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:159"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:173"><nobr><span class="ft3">/t</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:185"><nobr><span class="ft15">A1</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:204"><nobr><span class="ft3">&gt; n</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:228"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:242"><nobr><span class="ft3">/(t</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:260"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:271"><nobr><span class="ft3">+ t</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:290"><nobr><span class="ft15">A2</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:305"><nobr><span class="ft3">) &gt; (n</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:343"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:358"><nobr><span class="ft3">+ n</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:379"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:394"><nobr><span class="ft3">)/(t</span></nobr></DIV>
<DIV style="position:absolute;top:959;left:417"><nobr><span class="ft15">R</span></nobr></DIV>
<DIV style="position:absolute;top:955;left:429"><nobr><span class="ft3">+</span></nobr></DIV>
<DIV style="position:absolute;top:970;left:81"><nobr><span class="ft3">T</span></nobr></DIV>
<DIV style="position:absolute;top:973;left:89"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:970;left:96"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:975;left:113"><nobr><span class="ft15">ss</span></nobr></DIV>
<DIV style="position:absolute;top:970;left:125"><nobr><span class="ft3">+t</span></nobr></DIV>
<DIV style="position:absolute;top:975;left:142"><nobr><span class="ft15">A3</span></nobr></DIV>
<DIV style="position:absolute;top:970;left:156"><nobr><span class="ft3">), any solution that improves TCP performance</span></nobr></DIV>
<DIV style="position:absolute;top:986;left:81"><nobr><span class="ft8">must reduce the occurrence of multiple packet losses, p2 and<br>p3. We present a solution that tries to achieve this in the<br>next section.</span></nobr></DIV>
<DIV style="position:absolute;top:1060;left:81"><nobr><span class="ft2"><b>5.</b></span></nobr></DIV>
<DIV style="position:absolute;top:1060;left:112"><nobr><span class="ft2"><b>ACK REGULATOR</b></span></nobr></DIV>
<DIV style="position:absolute;top:484;left:489"><nobr><span class="ft3">In this section, we present our network-based solution</span></nobr></DIV>
<DIV style="position:absolute;top:500;left:475"><nobr><span class="ft8">for improving TCP performance in the presence of varying<br>bandwidth and delay. The solution is designed for improv-<br>ing the performance of TCP flows towards the mobile host<br>(for downloading-type applications) since links like HDR are<br>designed for such applications. The solution is implemented<br>at the wireless edge, specifically at the RNC, at the layer<br>just above RLP/RLC. Note that, in order to implement the<br>standard-based RLP/RLC, the RNC already needs to main-<br>tain a per-user queue. Our solution requires a per-TCP-flow<br>queue, which should not result in significant additional over-<br>head given the low bandwidth nature of the wireless envi-<br>ronment. We also assume that the data and ack packets go<br>through the same RNC; this is true in the case of 3G net-<br>works where the TCP flow is anchored at the RNC because<br>of the presence of soft handoff and RLP.</span></nobr></DIV>
<DIV style="position:absolute;top:735;left:489"><nobr><span class="ft3">We desire a solution that is simple to implement and re-</span></nobr></DIV>
<DIV style="position:absolute;top:750;left:475"><nobr><span class="ft8">mains robust across different implementations of TCP. To<br>this end, we focus only on the congestion avoidance phase<br>of TCP and aim to achieve the classic saw-tooth congestion<br>window behavior even in the presence of varying rates and<br>delays by controlling the buffer overflow process in the bot-<br>tleneck link. We also assume for this discussion that every<br>packet is acknowledged (the discussion can be easily mod-<br>ified to account for delayed acks where single ack packets<br>acknowledge multiple data packets).</span></nobr></DIV>
<DIV style="position:absolute;top:892;left:489"><nobr><span class="ft3">Our solution is called the Ack Regulator since it regulates</span></nobr></DIV>
<DIV style="position:absolute;top:907;left:475"><nobr><span class="ft8">the flow of acks back to the TCP source. The intuition be-<br>hind the regulation algorithm is to avoid any buffer overflow<br>loss until the congestion window at the TCP source reaches<br>a pre-determined threshold and beyond that, allow only a<br>single buffer overflow loss. This ensures that the TCP source<br>operates mainly in the congestion avoidance phase with con-<br>gestion window exhibiting the classic saw-tooth behavior.<br>Before we present our solution, we describe two variables<br>that will aid in the presentation of our solution.</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:509"><nobr><span class="ft3">ConservativeMode: Mode of operation during which</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">76</span></nobr></DIV>
</DIV>
<!-- Page 7 -->
<a name="7"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft23{font-size:3px;font-family:Helvetica;color:#000000;}
	.ft24{font-size:3px;font-family:Times;color:#000000;}
	.ft25{font-size:4px;font-family:Times;color:#000000;}
	.ft26{font-size:3px;line-height:7px;font-family:Helvetica;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186007.png" alt="background image">
<DIV style="position:absolute;top:249;left:144"><nobr><span class="ft26"><b>DataSeqNoLast (DL): Largest Sequence # of Last Data Packet Received<br>DataSeqNoFirst (DF): Largest Sequence # of Last Data Packet Sent<br>AckSeqNoLast (AL): Largest Sequence # of Last Ack Packet Received<br>AckSeqNoFirst (AF): Largest Sequence # of Last Ack Packet Sent</b></span></nobr></DIV>
<DIV style="position:absolute;top:130;left:241"><nobr><span class="ft24"><b>DL</b></span></nobr></DIV>
<DIV style="position:absolute;top:123;left:314"><nobr><span class="ft24"><b>DF</b></span></nobr></DIV>
<DIV style="position:absolute;top:194;left:192"><nobr><span class="ft24"><b>AF</b></span></nobr></DIV>
<DIV style="position:absolute;top:202;left:277"><nobr><span class="ft24"><b>AL</b></span></nobr></DIV>
<DIV style="position:absolute;top:235;left:187"><nobr><span class="ft10">Per-Flow Data and Ack Queue on RNC</span></nobr></DIV>
<DIV style="position:absolute;top:150;left:362"><nobr><span class="ft10">Wireless</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:363"><nobr><span class="ft10">Network</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:121"><nobr><span class="ft10">Wireline</span></nobr></DIV>
<DIV style="position:absolute;top:170;left:123"><nobr><span class="ft10">Network</span></nobr></DIV>
<DIV style="position:absolute;top:104;left:243"><nobr><span class="ft10">Data Queue</span></nobr></DIV>
<DIV style="position:absolute;top:224;left:244"><nobr><span class="ft10">Ack Queue</span></nobr></DIV>
<DIV style="position:absolute;top:161;left:253"><nobr><span class="ft25"><b>QueueLength</b></span></nobr></DIV>
<DIV style="position:absolute;top:177;left:240"><nobr><span class="ft25"><b>QueueLim</b></span></nobr></DIV>
<DIV style="position:absolute;top:292;left:125"><nobr><span class="ft3">Figure 6:</span></nobr></DIV>
<DIV style="position:absolute;top:293;left:195"><nobr><span class="ft11">Ack Regulator Implementation</span></nobr></DIV>
<DIV style="position:absolute;top:314;left:114"><nobr><span class="ft8">each time an ack is sent back towards the TCP source,<br>there is buffer space for at least two data packets from<br>the source.</span></nobr></DIV>
<DIV style="position:absolute;top:374;left:94"><nobr><span class="ft3">Note that if TCP operates in the congestion avoidance</span></nobr></DIV>
<DIV style="position:absolute;top:390;left:81"><nobr><span class="ft8">phase, there would be no buffer overflow loss as long as the<br>algorithm operates in conservative mode. This follows from<br>the fact that, during congestion avoidance phase, TCP in-<br>creases its window size by at most one on reception of an<br>ack. This implies that on reception of an ack, TCP source<br>sends either one packet (no window increase) or two packets<br>(window increase). Therefore, if there is space for at least<br>two packets in the buffer at the time of an ack being sent<br>back, there can be no packet loss.</span></nobr></DIV>
<DIV style="position:absolute;top:543;left:114"><nobr><span class="ft8">AckReleaseCount: The sum of total number of acks<br>sent back towards the source and the total number of<br>data packets from the source in transit towards the<br>RNC due to previous acks released, assuming TCP<br>source window is constant.</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:94"><nobr><span class="ft3">AckReleaseCount represents the number of packets that</span></nobr></DIV>
<DIV style="position:absolute;top:650;left:81"><nobr><span class="ft8">can be expected to arrive in the buffer at the RNC assuming<br>that the source window size remains constant. Thus, buffer<br>space equal to AckReleaseCount must be reserved whenever<br>a new ack is sent back to the source if buffer overflow is to<br>be avoided.</span></nobr></DIV>
<DIV style="position:absolute;top:742;left:89"><nobr><span class="ft8">On Enque of Ack/Deque of data packet:<br>1. AcksSent=0;<br>2. BufferAvail=QueueLim-QueueLength;<br>3. BufferAvail-=(AckReleaseCount+ConservativeMode);<br>4. if (BufferAvail&gt;=1)<br>5.</span></nobr></DIV>
<DIV style="position:absolute;top:821;left:114"><nobr><span class="ft3">if (AckSeqNoLast-AckSeqNoFirst&lt;BufferAvail)</span></nobr></DIV>
<DIV style="position:absolute;top:836;left:89"><nobr><span class="ft3">5.1</span></nobr></DIV>
<DIV style="position:absolute;top:836;left:134"><nobr><span class="ft3">AcksSent+=(AckSeqNoLast-AckSeqNoFirst);</span></nobr></DIV>
<DIV style="position:absolute;top:852;left:89"><nobr><span class="ft3">5.2</span></nobr></DIV>
<DIV style="position:absolute;top:852;left:134"><nobr><span class="ft3">AckSeqNoFirst=AckSeqNoLast;</span></nobr></DIV>
<DIV style="position:absolute;top:868;left:116"><nobr><span class="ft3">else</span></nobr></DIV>
<DIV style="position:absolute;top:883;left:89"><nobr><span class="ft3">5.3</span></nobr></DIV>
<DIV style="position:absolute;top:883;left:134"><nobr><span class="ft3">AckSeqNoFirst+=BufferAvail;</span></nobr></DIV>
<DIV style="position:absolute;top:899;left:89"><nobr><span class="ft3">5.4</span></nobr></DIV>
<DIV style="position:absolute;top:899;left:134"><nobr><span class="ft3">AcksSent+=BufferAvail;</span></nobr></DIV>
<DIV style="position:absolute;top:915;left:89"><nobr><span class="ft3">5.5</span></nobr></DIV>
<DIV style="position:absolute;top:915;left:120"><nobr><span class="ft3">Send acks up to AckSeqNoFirst;</span></nobr></DIV>
<DIV style="position:absolute;top:946;left:92"><nobr><span class="ft3">Figure 7: Ack Regulator processing at the RNC</span></nobr></DIV>
<DIV style="position:absolute;top:973;left:94"><nobr><span class="ft3">Figure 6 shows the data and ack flow and the queue vari-</span></nobr></DIV>
<DIV style="position:absolute;top:988;left:81"><nobr><span class="ft8">ables involved in the Ack Regulator algorithm, which is pre-<br>sented in Figure 7. We assume for now that the AckRe-<br>leaseCount and ConservativeMode variables are as defined<br>earlier. We later discuss how these variables are updated.<br>The Ack Regulator algorithm runs on every transmission of<br>a data packet (deque) and every arrival of an ack packet</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">(enque). The instantaneous buffer availability in the data<br>queue is maintained by the BufferAvail variable (line 2).<br>BufferAvail is then reduced by the AckReleaseCount and<br>the ConservativeMode variables (line 3).</span></nobr></DIV>
<DIV style="position:absolute;top:149;left:489"><nobr><span class="ft3">Depending on the value of the ConservativeMode variable</span></nobr></DIV>
<DIV style="position:absolute;top:165;left:475"><nobr><span class="ft8">(1 or 0), the algorithm operates in two modes, a conserva-<br>tive mode or a non-conservative, respectively. In the con-<br>servative mode, an extra buffer space is reserved in the data<br>queue to ensure that there is no loss even if TCP conges-<br>tion window is increased by 1, while, in the non-conservative<br>mode, a single packet loss occurs if TCP increases its conges-<br>tion window by 1. Now, after taking AckReleaseCount and<br>ConservativeMode variables into account, if there is at least<br>one buffer space available (line 4) and, if the number of acks<br>present in the ack queue (AckSeqNoLast - AckSeqNoFirst) is<br>lesser than BufferAvail, all those acks are sent to the source<br>(lines 5.1,5.2); otherwise only BufferAvail number of acks<br>are sent to the source (lines 5.3,5.4).</span></nobr></DIV>
<DIV style="position:absolute;top:369;left:489"><nobr><span class="ft3">Note that the actual transmission of acks (line 5.5) is not</span></nobr></DIV>
<DIV style="position:absolute;top:385;left:475"><nobr><span class="ft8">presented here. The transmission of AcksSent acks can be<br>performed one ack at a time or acks can be bunched together<br>due to the cumulative nature of TCP acks. However, care<br>must be taken to preserve the duplicate acks since the TCP<br>source relies on the number of duplicate acks to adjust its<br>congestion window. Also, whenever three or more duplicate<br>acks are sent back, it is important that one extra buffer space<br>be reserved to account for the fast retransmission algorithm.<br>Additional buffer reservations of two packets to account for<br>the Limited Transmit algorithm [12] can also be provided<br>for, if necessary.</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:483"><nobr><span class="ft8">1. Initialize ConservativeMode=1;  = 2<br>2. On Enque of ack packet:</span></nobr></DIV>
<DIV style="position:absolute;top:604;left:497"><nobr><span class="ft3">if ((DataSeqNoLast-AckSeqNoFirst)&gt;*QueueLim)</span></nobr></DIV>
<DIV style="position:absolute;top:620;left:511"><nobr><span class="ft3">ConservativeMode=0;</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:483"><nobr><span class="ft3">3. On Enque and Drop of data packet:</span></nobr></DIV>
<DIV style="position:absolute;top:651;left:497"><nobr><span class="ft3">Conservative Mode=1;</span></nobr></DIV>
<DIV style="position:absolute;top:667;left:483"><nobr><span class="ft3">4. On Enque/Deque of data packet:</span></nobr></DIV>
<DIV style="position:absolute;top:682;left:497"><nobr><span class="ft3">if (((DataSeqNoLast-AckSeqNoFirst)&lt;*QueueLim/2)</span></nobr></DIV>
<DIV style="position:absolute;top:698;left:511"><nobr><span class="ft8">OR (DataQueueLength==0))<br>ConservativeMode=1;</span></nobr></DIV>
<DIV style="position:absolute;top:745;left:525"><nobr><span class="ft3">Figure 8: ConservativeMode updates</span></nobr></DIV>
<DIV style="position:absolute;top:768;left:489"><nobr><span class="ft3">We now present the algorithm (Figure 8) for updating the</span></nobr></DIV>
<DIV style="position:absolute;top:784;left:475"><nobr><span class="ft8">ConservativeMode variable which controls the switching of<br>the Ack Regulator algorithm between the conservative and<br>the non-conservative modes. The algorithm starts in con-<br>servative mode (line 1). Whenever a targeted TCP window<br>size is reached (in this case, 2*QueueLim) , the algorithm<br>is switched into non-conservative mode (line 2). TCP Win-<br>dow Size is approximated here by the difference between the<br>largest sequence number in the data queue and the sequence<br>number in the ack queue. This is a reasonable approxima-<br>tion in our case since the wireless link is likely the bottle-<br>neck and most (if not all) of the queuing is done at the RNC.<br>When operating in the non-conservative mode, no additional<br>buffer space is reserved. This implies that there will be sin-<br>gle loss the next time the TCP source increases it window<br>size. At the detection of the packet loss, the algorithm again<br>switches back to the conservative mode (line 3). This en-<br>sures that losses are of the single loss variety as long as the<br>estimate of AckReleaseCount is conservative. Line 4 in the<br>algorithm results in a switch back into conservative mode</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">77</span></nobr></DIV>
</DIV>
<!-- Page 8 -->
<a name="8"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft27{font-size:4px;font-family:Times;color:#000000;}
	.ft28{font-size:2px;font-family:Times;color:#000000;}
	.ft29{font-size:2px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186008.png" alt="background image">
<DIV style="position:absolute;top:86;left:81"><nobr><span class="ft8">whenever the data queue length goes to zero or whenever<br>the TCP window size is halved. This handles the case when<br>TCP reacts to losses elsewhere in the network and the Ack<br>Regulator can go back to being conservative. Note that,<br>if the TCP source is ECN capable, instead of switching to<br>non-conservative mode, the Ack Regulator can simply mark<br>the ECN bit to signal the source to reduce its congestion<br>window, resulting in no packet loss.</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:129"><nobr><span class="ft8">1.Initialize AckReleaseCount=0;<br>2. On Enque of Ack/Deque of data packet:</span></nobr></DIV>
<DIV style="position:absolute;top:258;left:143"><nobr><span class="ft8">(after processing in Fig 7)<br>AckReleaseCount+=AcksSent;</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:129"><nobr><span class="ft3">3. On Enque of data packet:</span></nobr></DIV>
<DIV style="position:absolute;top:305;left:143"><nobr><span class="ft3">if (AckReleaseCount&gt;0)</span></nobr></DIV>
<DIV style="position:absolute;top:321;left:157"><nobr><span class="ft3">AckReleaseCount­;</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:129"><nobr><span class="ft3">4. On Deque of data packet:</span></nobr></DIV>
<DIV style="position:absolute;top:352;left:143"><nobr><span class="ft3">if (DataQueueLength==0)</span></nobr></DIV>
<DIV style="position:absolute;top:368;left:157"><nobr><span class="ft3">AckReleaseCount=0;</span></nobr></DIV>
<DIV style="position:absolute;top:399;left:134"><nobr><span class="ft3">Figure 9: AckReleaseCount updates</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:94"><nobr><span class="ft3">We finally present the algorithm for updating the Ack-</span></nobr></DIV>
<DIV style="position:absolute;top:439;left:81"><nobr><span class="ft8">ReleaseCount variable in Figure 9. Since AckReleaseCount<br>estimates the expected number of data packets that are ar-<br>riving and reserves buffer space for them, it is important to<br>get an accurate estimate. An overestimate of AckReleaseC-<br>ount would result in unnecessary reservation of buffers that<br>won't be occupied, while an underestimate of AckReleaseC-<br>ount can lead to buffer overflow loss(es) even in conservative<br>mode due to inadequate reservation.</span></nobr></DIV>
<DIV style="position:absolute;top:565;left:94"><nobr><span class="ft3">With the knowledge of the exact version of the TCP source</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:81"><nobr><span class="ft8">and the round trip time from the RNC to the source, it is<br>possible to compute an exact estimate of AckReleaseCount.<br>However, since we would like to be agnostic to TCP version<br>as far as possible and also be robust against varying round<br>trip times on the wired network, our algorithm tries to main-<br>tain a conservative estimate of AckReleaseCount. Whenever<br>we send acks back to the source, we update AckReleaseC-<br>ount by that many acks (line 2). Likewise, whenever a data<br>packet arrives into the RNC from the source, we decrement<br>the variable while ensuring that it does not go below zero<br>(line 3).</span></nobr></DIV>
<DIV style="position:absolute;top:753;left:94"><nobr><span class="ft3">While maintaining a non-negative AckReleaseCount in</span></nobr></DIV>
<DIV style="position:absolute;top:768;left:81"><nobr><span class="ft8">this manner avoids underestimation, it also can result in<br>unbounded growth of AckReleaseCount leading to signifi-<br>cant overestimation as errors accumulate. For example, we<br>increase AckReleaseCount whenever we send acks back to<br>the source; however, if TCP is reducing its window size due<br>to loss, we cannot expect any data packets in response to<br>the acks being released. Thus, over time, AckReleaseCount<br>can grow in an unbounded manner. In order to avoid this<br>scenario, we reset AckReleaseCount to zero (line 4) when-<br>ever the data queue is empty. Thus, while this reset oper-<br>ation is necessary for synchronizing the real and estimated<br>AckReleaseCount after a loss, it is not a conservative mech-<br>anism in general since a AckReleaseCount of zero implies<br>that no buffer space is currently reserved for any incoming<br>data packets that are unaccounted for. However, by doing<br>the reset only when the data queue is empty, we signifi-<br>cantly reduce the chance of the unaccounted data packets<br>causing a buffer overflow loss. We discuss the impact of this<br>estimation algorithm of AckReleaseCount in Section 6.6.</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:94"><nobr><span class="ft3">Finally, we assume that there is enough buffer space for</span></nobr></DIV>
<DIV style="position:absolute;top:141;left:614"><nobr><span class="ft27">RNC</span></nobr></DIV>
<DIV style="position:absolute;top:107;left:554"><nobr><span class="ft27">S1</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:554"><nobr><span class="ft27">Sn</span></nobr></DIV>
<DIV style="position:absolute;top:107;left:742"><nobr><span class="ft27">M1</span></nobr></DIV>
<DIV style="position:absolute;top:164;left:745"><nobr><span class="ft27">Mn</span></nobr></DIV>
<DIV style="position:absolute;top:141;left:697"><nobr><span class="ft27">V</span></nobr></DIV>
<DIV style="position:absolute;top:114;left:705"><nobr><span class="ft28">100Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:120;left:710"><nobr><span class="ft28">1ms</span></nobr></DIV>
<DIV style="position:absolute;top:158;left:705"><nobr><span class="ft28">100Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:163;left:710"><nobr><span class="ft28">1ms</span></nobr></DIV>
<DIV style="position:absolute;top:114;left:594"><nobr><span class="ft29"><i>L </i>Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:120;left:596"><nobr><span class="ft29"><i>D </i>ms</span></nobr></DIV>
<DIV style="position:absolute;top:158;left:594"><nobr><span class="ft29"><i>L </i>Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:163;left:596"><nobr><span class="ft29"><i>D </i>ms</span></nobr></DIV>
<DIV style="position:absolute;top:125;left:653"><nobr><span class="ft29"><i>FR </i>Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:655"><nobr><span class="ft29"><i>FD </i>ms</span></nobr></DIV>
<DIV style="position:absolute;top:152;left:653"><nobr><span class="ft29"><i>RR </i>Mb/s</span></nobr></DIV>
<DIV style="position:absolute;top:157;left:655"><nobr><span class="ft29"><i>RD </i>ms</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:550"><nobr><span class="ft3">Figure 10:</span></nobr></DIV>
<DIV style="position:absolute;top:196;left:627"><nobr><span class="ft11">Simulation Topology</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:475"><nobr><span class="ft8">the ack packets in the RNC. The maximum number of ack<br>packets is the maximum window size achieved by the TCP<br>flow (*QueueLim in our algorithm). Ack packets do not<br>have to be buffered as is, since storing the sequence num-<br>bers is sufficient (however, care should be taken to preserve<br>duplicate ack sequence numbers as is). Thus, memory re-<br>quirement for ack storage is very minimal.</span></nobr></DIV>
<DIV style="position:absolute;top:354;left:475"><nobr><span class="ft2"><b>6.</b></span></nobr></DIV>
<DIV style="position:absolute;top:354;left:506"><nobr><span class="ft2"><b>SIMULATION RESULTS</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:489"><nobr><span class="ft3">In this section, we present detailed simulation results com-</span></nobr></DIV>
<DIV style="position:absolute;top:392;left:475"><nobr><span class="ft8">paring the performance of TCP Reno and TCP Sack, in the<br>presence and absence of the Ack Regulator. First, we study<br>the effect of variable bandwidth and variable delay using<br>different distributions on the throughput of a single long-<br>lived TCP flow. Next, we present a model for 3G1X-EVDO<br>(HDR) system (which exhibits both variable rate and vari-<br>able delay), and evaluate the performance of a single TCP<br>flow in the HDR environment. Then, we present the perfor-<br>mance of multiple TCP flows sharing a single HDR wireless<br>link. Finally, we briefly discuss the impact of different pa-<br>rameters affecting the behavior of Ack Regulator.</span></nobr></DIV>
<DIV style="position:absolute;top:565;left:489"><nobr><span class="ft3">All simulations are performed using ns-2. The simulation</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:475"><nobr><span class="ft3">topology used is shown in Figure 10. S</span></nobr></DIV>
<DIV style="position:absolute;top:585;left:703"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:707"><nobr><span class="ft3">, i = 1..n corresponds</span></nobr></DIV>
<DIV style="position:absolute;top:596;left:475"><nobr><span class="ft8">to the set of TCP source nodes sending packets to a set of<br>the TCP sink nodes M</span></nobr></DIV>
<DIV style="position:absolute;top:616;left:615"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:612;left:620"><nobr><span class="ft3">, i = 1..n. Each set of S</span></nobr></DIV>
<DIV style="position:absolute;top:616;left:766"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:612;left:770"><nobr><span class="ft3">, M</span></nobr></DIV>
<DIV style="position:absolute;top:616;left:790"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:612;left:800"><nobr><span class="ft3">nodes</span></nobr></DIV>
<DIV style="position:absolute;top:627;left:475"><nobr><span class="ft3">form a TCP pair. The RNC is connected to the M</span></nobr></DIV>
<DIV style="position:absolute;top:632;left:790"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:627;left:800"><nobr><span class="ft3">nodes</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:475"><nobr><span class="ft8">through a V (virtual) node for simulation purposes. L, the<br>bandwidth between S</span></nobr></DIV>
<DIV style="position:absolute;top:663;left:605"><nobr><span class="ft15">i</span></nobr></DIV>
<DIV style="position:absolute;top:659;left:614"><nobr><span class="ft3">and the RNC, is set to 100Mb/s and</span></nobr></DIV>
<DIV style="position:absolute;top:674;left:475"><nobr><span class="ft8">D is set to 1ms except in cases where D is explicitly varied.<br>The forward wireless channel is simulated as having rate F R<br>and delay F D, and the reverse wireless channel has rate RR<br>and delay RD.</span></nobr></DIV>
<DIV style="position:absolute;top:737;left:489"><nobr><span class="ft3">Each simulation run lasts for 3600s (1hr) unless otherwise</span></nobr></DIV>
<DIV style="position:absolute;top:753;left:475"><nobr><span class="ft8">specified and all simulations use packet size of 1KB. TCP<br>maximum window size is set to 500KB. Using such a large<br>window size ensures that TCP is never window limited in<br>all experiments except in cases where the window size is<br>explicitly varied.</span></nobr></DIV>
<DIV style="position:absolute;top:841;left:475"><nobr><span class="ft2"><b>6.1</b></span></nobr></DIV>
<DIV style="position:absolute;top:841;left:515"><nobr><span class="ft2"><b>Variable Delay</b></span></nobr></DIV>
<DIV style="position:absolute;top:863;left:489"><nobr><span class="ft3">In this section, the effect of delay variation is illustrated by</span></nobr></DIV>
<DIV style="position:absolute;top:878;left:475"><nobr><span class="ft8">varying F D, the forward link delay. Without modification,<br>the use of a random link delay in the simulation will result<br>in out-of-order packets since packet transmitted later with<br>lower delay can overtake packets transmitted earlier with<br>higher delay. However, since delay variability in our model<br>is caused by factors that will not result in packet reordering<br>(e.g. processing time variation) and RLP delivers packet in<br>sequence, the simulation code is modified such that packets<br>cannot reach the next hop until the packet transmitted ear-<br>lier has arrived. This modification applies to all simulations<br>with variable link delay.</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:489"><nobr><span class="ft3">Figure 11(a) shows throughput for a single TCP flow (n =</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft3">1) for F R = 200Kb/s and RR = 64Kb/s. F D has an ex-</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">78</span></nobr></DIV>
</DIV>
<!-- Page 9 -->
<a name="9"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft30{font-size:5px;font-family:Helvetica;color:#000000;}
	.ft31{font-size:3px;font-family:Helvetica;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186009.png" alt="background image">
<DIV style="position:absolute;top:207;left:98"><nobr><span class="ft30">100</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:98"><nobr><span class="ft30">120</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:98"><nobr><span class="ft30">140</span></nobr></DIV>
<DIV style="position:absolute;top:135;left:98"><nobr><span class="ft30">160</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:98"><nobr><span class="ft30">180</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:98"><nobr><span class="ft30">200</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:108"><nobr><span class="ft30">20</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:125"><nobr><span class="ft30">30</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:142"><nobr><span class="ft30">40</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:159"><nobr><span class="ft30">50</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:176"><nobr><span class="ft30">60</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:193"><nobr><span class="ft30">70</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:210"><nobr><span class="ft30">80</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:228"><nobr><span class="ft30">90</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:243"><nobr><span class="ft30">100</span></nobr></DIV>
<DIV style="position:absolute;top:182;left:93"><nobr><span class="ft31">TCP Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:160"><nobr><span class="ft30">Delay Variance</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:145"><nobr><span class="ft30">Reno</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:128"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:146"><nobr><span class="ft30">Sack</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:129"><nobr><span class="ft30">Sack, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:207;left:275"><nobr><span class="ft30">100</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:275"><nobr><span class="ft30">120</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:275"><nobr><span class="ft30">140</span></nobr></DIV>
<DIV style="position:absolute;top:135;left:275"><nobr><span class="ft30">160</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:275"><nobr><span class="ft30">180</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:275"><nobr><span class="ft30">200</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:287"><nobr><span class="ft30">2</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:304"><nobr><span class="ft30">4</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:321"><nobr><span class="ft30">6</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:338"><nobr><span class="ft30">8</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:353"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:371"><nobr><span class="ft30">12</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:388"><nobr><span class="ft30">14</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:405"><nobr><span class="ft30">16</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:422"><nobr><span class="ft30">18</span></nobr></DIV>
<DIV style="position:absolute;top:174;left:270"><nobr><span class="ft31">Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:331"><nobr><span class="ft30">Buffer Size (packet)</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:382"><nobr><span class="ft30">Reno</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:365"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:383"><nobr><span class="ft30">Sack</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:366"><nobr><span class="ft30">Sack, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:200;left:374"><nobr><span class="ft30">BDP=10</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:128"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:151"><nobr><span class="ft11">Delay Variability</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:258"><nobr><span class="ft11">(b) Different Buffer Size</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:81"><nobr><span class="ft3">Figure 11:</span></nobr></DIV>
<DIV style="position:absolute;top:266;left:157"><nobr><span class="ft11">Throughput with Variable Delay e(x)+400-x</span></nobr></DIV>
<DIV style="position:absolute;top:313;left:81"><nobr><span class="ft8">ponential distribution with a mean that varies from 20ms<br>to 100ms, and RD = 400ms - mean(F D) so that average<br>F D+RD is maintained at 400ms. The buffer size on the<br>bottleneck link for each run is set to 10, the product of<br>the mean throughput of (200Kb/s or 25pkt/s) and mean<br>link delay (0.4s). This product will be referred to as the<br>bandwidth-delay product (BDP) in later sections.</span></nobr></DIV>
<DIV style="position:absolute;top:408;left:405"><nobr><span class="ft3">Addi-</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:81"><nobr><span class="ft8">tional delay distributions like uniform, normal, lognormal,<br>and Poisson were also experimented with. Since the results<br>are similar, only plots for an exponential delay distribution<br>are shown.</span></nobr></DIV>
<DIV style="position:absolute;top:486;left:94"><nobr><span class="ft3">As expected, when the delay variation increases, through-</span></nobr></DIV>
<DIV style="position:absolute;top:502;left:81"><nobr><span class="ft8">put decreases for both TCP Reno and TCP Sack. By in-<br>creasing the delay variance from 20 to 100, throughput of<br>TCP Reno decreases by 30% and TCP Sack decreases by<br>19%. On the other hand, TCP Reno and TCP Sack flows<br>which are Ack Regulated are much more robust and its<br>throughput decreases by only 8%.</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:307"><nobr><span class="ft3">Relatively to one an-</span></nobr></DIV>
<DIV style="position:absolute;top:596;left:81"><nobr><span class="ft8">other, Ack Regulator performs up to 43% better than TCP<br>Reno and 19% better than TCP Sack. Another interesting<br>result is that Ack Regulator delivers the same throughput ir-<br>respective of whether the TCP source is Reno or Sack. This<br>is understandable given the fact that the Ack Regulator tries<br>to ensure that only single buffer overflow loss occurs and in<br>this regime, Reno and Sack are known to behave similarly.<br>This property of Ack Regulator is extremely useful since for<br>a flow to use TCP Sack, both the sender and receiver needs<br>to be upgraded. Given that there are still significant num-<br>ber of web servers that have not yet been upgraded to TCP<br>Sack [28], deployment of Ack Regulator would ensure excel-<br>lent performance irrespective of the TCP version running.</span></nobr></DIV>
<DIV style="position:absolute;top:800;left:94"><nobr><span class="ft3">Figure 11(b) shows how throughput varies with buffer size</span></nobr></DIV>
<DIV style="position:absolute;top:816;left:81"><nobr><span class="ft8">with the same set of parameters except for F D, which is now<br>fixed with a mean of 50ms (exponentially distributed). Even<br>with a very small buffer of 5 packets (0.5 BDP), Ack Reg-<br>ulator is able to maintain a throughput of over 80% of the<br>maximum throughput of 200Kb/s. Thus, Ack Regulator de-<br>livers robust throughput performance across different buffer<br>sizes. This property is very important in a varying rate and<br>delay environment of a wireless system, since it is difficult to<br>size the system with an optimal buffer size, given that the<br>BDP also varies with time. For a buffer of 4 packets, the<br>improvement over TCP Reno and Sack is about 50% and<br>24% respectively. As buffer size increases, the throughput<br>difference decreases. With buffer size close to 20 packets<br>(2 BDP), TCP Sack performs close to Ack Regulated flows,<br>while improvement over TCP Reno is about 4%.</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:94"><nobr><span class="ft3">Finally, in Table 3, we list parameter values from the sim-</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:81"><nobr><span class="ft3">ulation for delay variance of 100. First, consider Reno and</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:487"><nobr><span class="ft3">Item</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:565"><nobr><span class="ft3">Rate,</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:613"><nobr><span class="ft3">TD</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:650"><nobr><span class="ft3">TO</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:687"><nobr><span class="ft3">p1</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:728"><nobr><span class="ft3">p2</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:762"><nobr><span class="ft3">p3</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:803"><nobr><span class="ft3">W</span></nobr></DIV>
<DIV style="position:absolute;top:88;left:816"><nobr><span class="ft15">f</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:565"><nobr><span class="ft3">Kb/s</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:487"><nobr><span class="ft3">Reno</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:565"><nobr><span class="ft3">129</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:614"><nobr><span class="ft3">496</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:651"><nobr><span class="ft3">114</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:688"><nobr><span class="ft3">0.34</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:729"><nobr><span class="ft3">0.3</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:763"><nobr><span class="ft3">0.38</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:804"><nobr><span class="ft3">19</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:487"><nobr><span class="ft3">Reno+AR</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:565"><nobr><span class="ft3">184</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:613"><nobr><span class="ft3">302</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:651"><nobr><span class="ft3">8</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:687"><nobr><span class="ft3">0.98</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:728"><nobr><span class="ft3">0.0</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:762"><nobr><span class="ft3">0.02</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:803"><nobr><span class="ft3">24</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:487"><nobr><span class="ft3">Sack</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:565"><nobr><span class="ft3">160</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:614"><nobr><span class="ft3">434</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:651"><nobr><span class="ft3">4</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:688"><nobr><span class="ft3">0.99</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:729"><nobr><span class="ft3">0.0</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:763"><nobr><span class="ft3">0.01</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:804"><nobr><span class="ft3">19</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:487"><nobr><span class="ft3">Sack+AR</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:565"><nobr><span class="ft3">184</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:613"><nobr><span class="ft3">302</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:651"><nobr><span class="ft3">8</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:687"><nobr><span class="ft3">0.97</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:728"><nobr><span class="ft3">0.0</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:762"><nobr><span class="ft3">0.03</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:803"><nobr><span class="ft3">24</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:477"><nobr><span class="ft3">Table 3:</span></nobr></DIV>
<DIV style="position:absolute;top:194;left:539"><nobr><span class="ft11">Parameters from simulation for variance=100</span></nobr></DIV>
<DIV style="position:absolute;top:333;left:492"><nobr><span class="ft30">140</span></nobr></DIV>
<DIV style="position:absolute;top:313;left:492"><nobr><span class="ft30">150</span></nobr></DIV>
<DIV style="position:absolute;top:292;left:492"><nobr><span class="ft30">160</span></nobr></DIV>
<DIV style="position:absolute;top:272;left:492"><nobr><span class="ft30">170</span></nobr></DIV>
<DIV style="position:absolute;top:252;left:492"><nobr><span class="ft30">180</span></nobr></DIV>
<DIV style="position:absolute;top:232;left:492"><nobr><span class="ft30">190</span></nobr></DIV>
<DIV style="position:absolute;top:212;left:492"><nobr><span class="ft30">200</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:504"><nobr><span class="ft30">0</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:519"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:536"><nobr><span class="ft30">20</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:554"><nobr><span class="ft30">30</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:571"><nobr><span class="ft30">40</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:588"><nobr><span class="ft30">50</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:605"><nobr><span class="ft30">60</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:622"><nobr><span class="ft30">70</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:639"><nobr><span class="ft30">80</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:487"><nobr><span class="ft31">Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:351;left:556"><nobr><span class="ft30">Rate Variance</span></nobr></DIV>
<DIV style="position:absolute;top:292;left:522"><nobr><span class="ft30">Reno</span></nobr></DIV>
<DIV style="position:absolute;top:300;left:506"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:307;left:522"><nobr><span class="ft30">Sack </span></nobr></DIV>
<DIV style="position:absolute;top:314;left:506"><nobr><span class="ft30">Sack, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:333;left:673"><nobr><span class="ft30">80</span></nobr></DIV>
<DIV style="position:absolute;top:309;left:670"><nobr><span class="ft30">100</span></nobr></DIV>
<DIV style="position:absolute;top:284;left:670"><nobr><span class="ft30">120</span></nobr></DIV>
<DIV style="position:absolute;top:260;left:670"><nobr><span class="ft30">140</span></nobr></DIV>
<DIV style="position:absolute;top:236;left:670"><nobr><span class="ft30">160</span></nobr></DIV>
<DIV style="position:absolute;top:212;left:670"><nobr><span class="ft30">180</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:681"><nobr><span class="ft30">0</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:696"><nobr><span class="ft30">5</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:710"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:725"><nobr><span class="ft30">15</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:740"><nobr><span class="ft30">20</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:756"><nobr><span class="ft30">25</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:771"><nobr><span class="ft30">30</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:786"><nobr><span class="ft30">35</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:801"><nobr><span class="ft30">40</span></nobr></DIV>
<DIV style="position:absolute;top:340;left:816"><nobr><span class="ft30">45</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:664"><nobr><span class="ft31">Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:351;left:726"><nobr><span class="ft30">Buffer Size (packet)</span></nobr></DIV>
<DIV style="position:absolute;top:296;left:767"><nobr><span class="ft30">Reno, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:304;left:770"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:311;left:768"><nobr><span class="ft30">Sack, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:318;left:770"><nobr><span class="ft30">Sack, w/ AR</span></nobr></DIV>
<DIV style="position:absolute;top:325;left:783"><nobr><span class="ft30">BDP=9</span></nobr></DIV>
<DIV style="position:absolute;top:359;left:508"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:530"><nobr><span class="ft11">Bandwidth Variability</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:667"><nobr><span class="ft11">(b) Different Buffer Size</span></nobr></DIV>
<DIV style="position:absolute;top:390;left:475"><nobr><span class="ft3">Figure 12:</span></nobr></DIV>
<DIV style="position:absolute;top:391;left:572"><nobr><span class="ft11">Throughput</span></nobr></DIV>
<DIV style="position:absolute;top:391;left:660"><nobr><span class="ft11">with Variable Bandwidth</span></nobr></DIV>
<DIV style="position:absolute;top:407;left:475"><nobr><span class="ft11">u(200,x)</span></nobr></DIV>
<DIV style="position:absolute;top:437;left:475"><nobr><span class="ft8">Reno with Ack Regulator (first two rows). It is clear that<br>Ack Regulator is able to significantly reduce the conditional<br>probability of multiple losses p2 and p3 as well as absolute<br>number of loss events (T D and T O) resulting in substan-<br>tial gains over Reno. Next, consider Sack and Sack with<br>Ack Regulator (last two rows). In this case, we can see that<br>Sack is very effective in eliminating most of the timeout oc-<br>currences. However, Ack Regulator is still able to reduce<br>the absolute number of loss events by allowing the conges-<br>tion window to grow to higher values (24 vs 19), resulting<br>in throughput gains.</span></nobr></DIV>
<DIV style="position:absolute;top:619;left:475"><nobr><span class="ft2"><b>6.2</b></span></nobr></DIV>
<DIV style="position:absolute;top:619;left:515"><nobr><span class="ft2"><b>Variable Bandwidth</b></span></nobr></DIV>
<DIV style="position:absolute;top:641;left:489"><nobr><span class="ft3">In this section, we vary the link bandwidth, F R. Fig-</span></nobr></DIV>
<DIV style="position:absolute;top:657;left:475"><nobr><span class="ft22">ure 12(a) shows throughput for a single TCP flow. F R is<br>uniformly distributed with a mean of 200 Kb/s and the vari-<br>ance is varied from 20 to 75. F D = 200ms, RR = 64Kb/s<br>and RD = 200ms. The buffer size on the bottleneck link<br>for each run is 10. Again, we have experimented with other<br>bandwidth distributions, but, due to lack of space, only uni-<br>form distribution is shown. Note that, with variable rate,<br>the maximum throughput achievable is different from the<br>mean rate. For uniform distribution, a simple closed form<br>formula for the throughput is simply 1/</span></nobr></DIV>
<DIV style="position:absolute;top:798;left:716"><nobr><span class="ft18">Ê</span></nobr></DIV>
<DIV style="position:absolute;top:796;left:726"><nobr><span class="ft15">b</span></nobr></DIV>
<DIV style="position:absolute;top:808;left:723"><nobr><span class="ft15">a</span></nobr></DIV>
<DIV style="position:absolute;top:800;left:734"><nobr><span class="ft3">1/xdx = 1/(ln b-</span></nobr></DIV>
<DIV style="position:absolute;top:816;left:475"><nobr><span class="ft8">ln a) where b is the maximum rate and a is the minimum<br>rate.</span></nobr></DIV>
<DIV style="position:absolute;top:847;left:489"><nobr><span class="ft3">When the rate variance increases, throughput of TCP</span></nobr></DIV>
<DIV style="position:absolute;top:863;left:475"><nobr><span class="ft8">Reno decreases as expected. Compared to TCP Reno, Ack<br>Regulator improves the throughput by up to 15%. How-<br>ever, TCP Sack performs very well and has almost the same<br>throughput as Ack Regulated flows. Based on the calcula-<br>tions for maximum throughput discussed before, it can be<br>shown that all flows except Reno achieve maximum through-<br>put. This shows that if rate variation is not large enough,<br>TCP Sack is able to handle the variability. However, for<br>very large rate variations (e.g. rate with lognormal distri-<br>bution and a large variance), the performance of TCP Sack<br>is worse than when Ack Regulator is present.</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:489"><nobr><span class="ft3">Figure 12(b) shows how the throughput varies with buffer</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:475"><nobr><span class="ft8">size. Note that with a lower throughput, bandwidth delay<br>product is smaller than 10 packets. Again, Ack Regulated</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">79</span></nobr></DIV>
</DIV>
<!-- Page 10 -->
<a name="10"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<IMG width="918" height="1188" src="186010.png" alt="background image">
<DIV style="position:absolute;top:207;left:98"><nobr><span class="ft30">140</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:98"><nobr><span class="ft30">145</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:98"><nobr><span class="ft30">150</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:98"><nobr><span class="ft30">155</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:98"><nobr><span class="ft30">160</span></nobr></DIV>
<DIV style="position:absolute;top:147;left:98"><nobr><span class="ft30">165</span></nobr></DIV>
<DIV style="position:absolute;top:135;left:98"><nobr><span class="ft30">170</span></nobr></DIV>
<DIV style="position:absolute;top:123;left:98"><nobr><span class="ft30">175</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:98"><nobr><span class="ft30">180</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:98"><nobr><span class="ft30">185</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:98"><nobr><span class="ft30">190</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:109"><nobr><span class="ft30">6</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:132"><nobr><span class="ft30">8</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:153"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:176"><nobr><span class="ft30">12</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:199"><nobr><span class="ft30">14</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:222"><nobr><span class="ft30">16</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:245"><nobr><span class="ft30">18</span></nobr></DIV>
<DIV style="position:absolute;top:174;left:93"><nobr><span class="ft31">Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:154"><nobr><span class="ft30">Buffer Size (packet)</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:188"><nobr><span class="ft30">Reno, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:191"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:189"><nobr><span class="ft30">Sack, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:190"><nobr><span class="ft30">Sack, w/ AR</span></nobr></DIV>
<DIV style="position:absolute;top:200;left:203"><nobr><span class="ft30">BDP=9</span></nobr></DIV>
<DIV style="position:absolute;top:207;left:277"><nobr><span class="ft30">0.5</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:277"><nobr><span class="ft30">0.6</span></nobr></DIV>
<DIV style="position:absolute;top:179;left:277"><nobr><span class="ft30">0.7</span></nobr></DIV>
<DIV style="position:absolute;top:165;left:277"><nobr><span class="ft30">0.8</span></nobr></DIV>
<DIV style="position:absolute;top:151;left:277"><nobr><span class="ft30">0.9</span></nobr></DIV>
<DIV style="position:absolute;top:136;left:282"><nobr><span class="ft30">1</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:277"><nobr><span class="ft30">1.1</span></nobr></DIV>
<DIV style="position:absolute;top:108;left:277"><nobr><span class="ft30">1.2</span></nobr></DIV>
<DIV style="position:absolute;top:94;left:277"><nobr><span class="ft30">1.3</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:287"><nobr><span class="ft30">6</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:309"><nobr><span class="ft30">8</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:331"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:353"><nobr><span class="ft30">12</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:376"><nobr><span class="ft30">14</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:399"><nobr><span class="ft30">16</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:422"><nobr><span class="ft30">18</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:270"><nobr><span class="ft31">RTT (sec)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:331"><nobr><span class="ft30">Buffer Size (packet)</span></nobr></DIV>
<DIV style="position:absolute;top:94;left:291"><nobr><span class="ft30">Reno, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:294"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:108;left:292"><nobr><span class="ft30">Sack, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:293"><nobr><span class="ft30">Sack, w/ AR</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:306"><nobr><span class="ft30">BDP=9</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:104"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:127"><nobr><span class="ft11">Throughput vs Buffer Size</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:296"><nobr><span class="ft11">(b) rtt vs Buffer Size</span></nobr></DIV>
<DIV style="position:absolute;top:256;left:81"><nobr><span class="ft3">Figure 13:</span></nobr></DIV>
<DIV style="position:absolute;top:257;left:157"><nobr><span class="ft11">Throughput and rtt for u(200,50),350+e(50)</span></nobr></DIV>
<DIV style="position:absolute;top:294;left:81"><nobr><span class="ft8">TCP flows perform particularly well when the buffer size is<br>small. With buffer size of 5, the improvement over TCP<br>Sack is 40%.</span></nobr></DIV>
<DIV style="position:absolute;top:352;left:81"><nobr><span class="ft2"><b>6.3</b></span></nobr></DIV>
<DIV style="position:absolute;top:352;left:121"><nobr><span class="ft2"><b>Variable Delay and Bandwidth</b></span></nobr></DIV>
<DIV style="position:absolute;top:374;left:94"><nobr><span class="ft3">In this section, we vary both the bandwidth and delay of</span></nobr></DIV>
<DIV style="position:absolute;top:390;left:81"><nobr><span class="ft8">the wireless link. F R is uniformly distributed with a mean of<br>200 Kb/s and variance of 50, DR is exponentially distributed<br>with a mean of 50ms, RR = 64Kb/s and RD = 350ms. The<br>maximum achievable throughput is 186.7 Kb/s. The BDP<br>is therefore about 9 packets.</span></nobr></DIV>
<DIV style="position:absolute;top:469;left:94"><nobr><span class="ft3">Figure 13(a) shows the throughput for a single TCP flow</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:81"><nobr><span class="ft8">with the buffer size ranging from 7 to 20. The combination<br>of variable rate and delay has a large negative impact on the<br>performance of TCP Reno and it is only able to achieve 70%<br>to 80% of the bandwidth of Ack Regulated flows when the<br>buffer size is 6 packets. Even with a buffer size of 18 packets,<br>the throughput difference is more than 5%. Throughput of<br>TCP Sack is about 5% to 10% lower than Ack Regulator,<br>until the buffer size reaches 18 packets (about 2 BDP).</span></nobr></DIV>
<DIV style="position:absolute;top:610;left:94"><nobr><span class="ft3">One of the cost of using the Ack Regulator is the increase</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:81"><nobr><span class="ft8">in average round trip time (rtt). The average rtt values for<br>all 4 types of flows are shown in 13(b) for different buffer<br>sizes. TCP Reno has the lowest rtt followed by TCP Sack<br>and the rate of rtt increase with buffer size is comparable.<br>With Ack Regulator, rtt increase is comparable with unreg-<br>ulated flows for buffer size less than 9 (1 BDP). For larger<br>buffer sizes, since Ack Regulator uses  = 2 times buffer<br>size to regulate the acks in conservative mode, rtt increases<br>faster with buffer size than regular TCP, where only the<br>data packet buffer size contributes to rtt. For example, with<br>buffer size of 9, Ack Regulated flows have a rtt 15% larger<br>and with buffer size of 18, the rtt is 48% larger compared<br>to TCP Sack. This effect can be controlled by varying the<br> parameter of the Ack Regulator.</span></nobr></DIV>
<DIV style="position:absolute;top:856;left:81"><nobr><span class="ft2"><b>6.4</b></span></nobr></DIV>
<DIV style="position:absolute;top:856;left:121"><nobr><span class="ft2"><b>Simulation with High Data Rate</b></span></nobr></DIV>
<DIV style="position:absolute;top:878;left:94"><nobr><span class="ft3">High Data Rate (HDR) [6] is a Qualcomm proposed CDMA</span></nobr></DIV>
<DIV style="position:absolute;top:894;left:81"><nobr><span class="ft8">air interface standard (3G1x-EVDO) for supporting high<br>speed asymmetrical data services. One of the main ideas<br>behind HDR is the use of channel-state based scheduling<br>which transmits packets to the user with the best signal-to-<br>noise ratio. The actual rate available to the selected user<br>depends on the current signal-to-noise ratio experienced by<br>the user. The higher the ratio, the higher the rate avail-<br>able to the user. In addition, in order to provide some form<br>of fairness, a Proportional Fair scheduler is used which pro-<br>vides long-term fairness to flows from different users. We use<br>Qualcomm's Proportional Fair scheduler in our simulation<br>with an averaging window of 1000 time slots, where each</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:526"><nobr><span class="ft3">Rate(Kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:612"><nobr><span class="ft3">Prob.</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:664"><nobr><span class="ft3">Rate(Kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:750"><nobr><span class="ft3">Prob.</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:526"><nobr><span class="ft3">38.4</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:612"><nobr><span class="ft3">0.033</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:665"><nobr><span class="ft3">614.4</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:751"><nobr><span class="ft3">0.172</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:526"><nobr><span class="ft3">76.8</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:612"><nobr><span class="ft3">0.015</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:665"><nobr><span class="ft3">921.6</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:751"><nobr><span class="ft3">0.145</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:526"><nobr><span class="ft3">102.6</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:612"><nobr><span class="ft3">0.043</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:665"><nobr><span class="ft3">1228.8</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:751"><nobr><span class="ft3">0.260</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:526"><nobr><span class="ft3">153.6</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:612"><nobr><span class="ft3">0.023</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:665"><nobr><span class="ft3">1843.2</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:751"><nobr><span class="ft3">0.042</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:526"><nobr><span class="ft3">204.8</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:612"><nobr><span class="ft3">0.060</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:665"><nobr><span class="ft3">2457.6</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:751"><nobr><span class="ft3">0.011</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:526"><nobr><span class="ft3">307.2</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:612"><nobr><span class="ft3">0.168</span></nobr></DIV>
<DIV style="position:absolute;top:209;left:497"><nobr><span class="ft3">Table 4:</span></nobr></DIV>
<DIV style="position:absolute;top:210;left:559"><nobr><span class="ft11">HDR Data Rates for a one user system</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:492"><nobr><span class="ft30">250</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:492"><nobr><span class="ft30">300</span></nobr></DIV>
<DIV style="position:absolute;top:321;left:492"><nobr><span class="ft30">350</span></nobr></DIV>
<DIV style="position:absolute;top:305;left:492"><nobr><span class="ft30">400</span></nobr></DIV>
<DIV style="position:absolute;top:289;left:492"><nobr><span class="ft30">450</span></nobr></DIV>
<DIV style="position:absolute;top:273;left:492"><nobr><span class="ft30">500</span></nobr></DIV>
<DIV style="position:absolute;top:257;left:492"><nobr><span class="ft30">550</span></nobr></DIV>
<DIV style="position:absolute;top:240;left:492"><nobr><span class="ft30">600</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:504"><nobr><span class="ft30">0</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:521"><nobr><span class="ft30">5</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:536"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:554"><nobr><span class="ft30">15</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:571"><nobr><span class="ft30">20</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:588"><nobr><span class="ft30">25</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:605"><nobr><span class="ft30">30</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:622"><nobr><span class="ft30">35</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:639"><nobr><span class="ft30">40</span></nobr></DIV>
<DIV style="position:absolute;top:320;left:487"><nobr><span class="ft31">Throughput (Kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:371;left:549"><nobr><span class="ft30">Buffer Size (packet)</span></nobr></DIV>
<DIV style="position:absolute;top:315;left:588"><nobr><span class="ft30">Reno, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:322;left:591"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:329;left:589"><nobr><span class="ft30">Sack, No AR</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:590"><nobr><span class="ft30">Sack, w/ AR</span></nobr></DIV>
<DIV style="position:absolute;top:343;left:600"><nobr><span class="ft30">BDP=15</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:670"><nobr><span class="ft30">200</span></nobr></DIV>
<DIV style="position:absolute;top:335;left:670"><nobr><span class="ft30">300</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:670"><nobr><span class="ft30">400</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:670"><nobr><span class="ft30">500</span></nobr></DIV>
<DIV style="position:absolute;top:279;left:670"><nobr><span class="ft30">600</span></nobr></DIV>
<DIV style="position:absolute;top:260;left:670"><nobr><span class="ft30">700</span></nobr></DIV>
<DIV style="position:absolute;top:242;left:670"><nobr><span class="ft30">800</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:681"><nobr><span class="ft30">0</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:698"><nobr><span class="ft30">5</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:714"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:731"><nobr><span class="ft30">15</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:748"><nobr><span class="ft30">20</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:765"><nobr><span class="ft30">25</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:782"><nobr><span class="ft30">30</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:799"><nobr><span class="ft30">35</span></nobr></DIV>
<DIV style="position:absolute;top:360;left:816"><nobr><span class="ft30">40</span></nobr></DIV>
<DIV style="position:absolute;top:321;left:664"><nobr><span class="ft31">Average RTT (ms)</span></nobr></DIV>
<DIV style="position:absolute;top:371;left:726"><nobr><span class="ft30">Buffer Size (Packet)</span></nobr></DIV>
<DIV style="position:absolute;top:242;left:707"><nobr><span class="ft30">Reno</span></nobr></DIV>
<DIV style="position:absolute;top:249;left:690"><nobr><span class="ft30">Reno, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:256;left:706"><nobr><span class="ft30">Sack </span></nobr></DIV>
<DIV style="position:absolute;top:263;left:691"><nobr><span class="ft30">Sack, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:270;left:699"><nobr><span class="ft30">BDP=15</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:549"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:572"><nobr><span class="ft11">Throughput</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:724"><nobr><span class="ft11">(b) rtt</span></nobr></DIV>
<DIV style="position:absolute;top:411;left:487"><nobr><span class="ft3">Figure 14:</span></nobr></DIV>
<DIV style="position:absolute;top:412;left:565"><nobr><span class="ft11">Throughput/rtt with HDR, Single Flow</span></nobr></DIV>
<DIV style="position:absolute;top:437;left:475"><nobr><span class="ft8">slot is 1.67 ms. While the HDR system results in higher raw<br>throughput, the rate and delay variation seen is substantial.</span></nobr></DIV>
<DIV style="position:absolute;top:468;left:489"><nobr><span class="ft3">In this section, we model a simplified HDR environment</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:475"><nobr><span class="ft8">in ns-2, focusing on the layer 3 scheduling and packet frag-<br>mentation. The fading model for the wireless link used is<br>based on Jake's Rayleigh fading channel model [25]. This<br>gives us the instantaneous signal-to-noise ratio. Using Table<br>2 in [6] which lists the rate achievable for a given signal-to-<br>noise ratio assuming a frame error rate of less than 1%, the<br>achievable bandwidth distribution (with one user) for our<br>simulation is shown in Table 4.</span></nobr></DIV>
<DIV style="position:absolute;top:609;left:489"><nobr><span class="ft3">The simulation settings are as follows. F R is a variable</span></nobr></DIV>
<DIV style="position:absolute;top:625;left:475"><nobr><span class="ft8">that has a bandwidth distribution of Table 4, due to the vari-<br>ations of the fading conditions of the channel. Based on the<br>guidelines from [26], F D is modeled as having a uniform dis-<br>tribution with mean 75ms and variance 30 and RD is mod-<br>eled as having a uniform distribution with mean 125ms and<br>variance 15. These are conservative estimates. We expect<br>delay variations in actual systems to be higher (for example,<br>note the ping latencies from our experiment in Section 3).<br>The uplink in a HDR system is circuit-based and RR is set<br>to be 64Kb/s.</span></nobr></DIV>
<DIV style="position:absolute;top:782;left:489"><nobr><span class="ft3">Figure 14(a) shows how throughput for a single TCP flow</span></nobr></DIV>
<DIV style="position:absolute;top:797;left:475"><nobr><span class="ft8">varies with buffer size. Assuming an average bandwidth of<br>600Kb/s and a link delay of 200ms, BDP is 15 packets.</span></nobr></DIV>
<DIV style="position:absolute;top:829;left:489"><nobr><span class="ft3">Again, the performance of TCP Reno flows that are Ack</span></nobr></DIV>
<DIV style="position:absolute;top:845;left:475"><nobr><span class="ft8">Regulated is significantly better than plain TCP Reno over<br>the range of buffer size experimented, with improvements<br>from 4% to 25%. TCP Sack flows also performs worse than<br>Ack Regulated flows up to buffer size of 20. The improve-<br>ment of Ack Regulator over TCP Sack ranges from 0.5% to<br>18%.</span></nobr></DIV>
<DIV style="position:absolute;top:939;left:489"><nobr><span class="ft3">As mentioned earlier, one of the costs of using the Ack</span></nobr></DIV>
<DIV style="position:absolute;top:954;left:475"><nobr><span class="ft8">Regulator is increase in average rtt. The average rtt for all<br>4 types of flows are shown in 14(b) with buffer size varying<br>from 5 to 40. The effect is similar to the rtt variation with<br>buffer size seen in Section 6.3.</span></nobr></DIV>
<DIV style="position:absolute;top:1029;left:475"><nobr><span class="ft2"><b>6.5</b></span></nobr></DIV>
<DIV style="position:absolute;top:1029;left:515"><nobr><span class="ft2"><b>Multiple TCP Flows</b></span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:489"><nobr><span class="ft3">In this simulation, the number of flows (n) sharing the</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft3">bottleneck link is increased to 4 and 8. Per-flow buffering is</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">80</span></nobr></DIV>
</DIV>
<!-- Page 11 -->
<a name="11"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft32{font-size:15px;line-height:17px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186011.png" alt="background image">
<DIV style="position:absolute;top:205;left:98"><nobr><span class="ft30">300</span></nobr></DIV>
<DIV style="position:absolute;top:184;left:98"><nobr><span class="ft30">400</span></nobr></DIV>
<DIV style="position:absolute;top:162;left:98"><nobr><span class="ft30">500</span></nobr></DIV>
<DIV style="position:absolute;top:141;left:98"><nobr><span class="ft30">600</span></nobr></DIV>
<DIV style="position:absolute;top:119;left:98"><nobr><span class="ft30">700</span></nobr></DIV>
<DIV style="position:absolute;top:97;left:98"><nobr><span class="ft30">800</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:109"><nobr><span class="ft30">2</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:126"><nobr><span class="ft30">4</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:144"><nobr><span class="ft30">6</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:161"><nobr><span class="ft30">8</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:176"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:193"><nobr><span class="ft30">12</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:210"><nobr><span class="ft30">14</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:228"><nobr><span class="ft30">16</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:245"><nobr><span class="ft30">18</span></nobr></DIV>
<DIV style="position:absolute;top:184;left:93"><nobr><span class="ft31">Total Throughput (Kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:142"><nobr><span class="ft30">Per Flow Buffer Size (Packet)</span></nobr></DIV>
<DIV style="position:absolute;top:173;left:192"><nobr><span class="ft30">4 Reno Flows</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:175"><nobr><span class="ft30">4 Reno Flows, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:187;left:193"><nobr><span class="ft30">4 Sack Flows</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:176"><nobr><span class="ft30">4 Sack Flows, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:202;left:209"><nobr><span class="ft30">BDP=5</span></nobr></DIV>
<DIV style="position:absolute;top:207;left:275"><nobr><span class="ft30">450</span></nobr></DIV>
<DIV style="position:absolute;top:195;left:275"><nobr><span class="ft30">500</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:275"><nobr><span class="ft30">550</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:275"><nobr><span class="ft30">600</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:275"><nobr><span class="ft30">650</span></nobr></DIV>
<DIV style="position:absolute;top:147;left:275"><nobr><span class="ft30">700</span></nobr></DIV>
<DIV style="position:absolute;top:135;left:275"><nobr><span class="ft30">750</span></nobr></DIV>
<DIV style="position:absolute;top:123;left:275"><nobr><span class="ft30">800</span></nobr></DIV>
<DIV style="position:absolute;top:111;left:275"><nobr><span class="ft30">850</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:275"><nobr><span class="ft30">900</span></nobr></DIV>
<DIV style="position:absolute;top:87;left:275"><nobr><span class="ft30">950</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:287"><nobr><span class="ft30">2</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:304"><nobr><span class="ft30">4</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:321"><nobr><span class="ft30">6</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:338"><nobr><span class="ft30">8</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:353"><nobr><span class="ft30">10</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:371"><nobr><span class="ft30">12</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:388"><nobr><span class="ft30">14</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:405"><nobr><span class="ft30">16</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:422"><nobr><span class="ft30">18</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:270"><nobr><span class="ft31">Total Throughput (kb/s)</span></nobr></DIV>
<DIV style="position:absolute;top:225;left:319"><nobr><span class="ft30">Per Flow Buffer Size (Packet)</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:369"><nobr><span class="ft30">8 Reno Flows</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:352"><nobr><span class="ft30">8 Reno Flows, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:186;left:370"><nobr><span class="ft30">8 Sack Flows</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:353"><nobr><span class="ft30">8 Sack Flows, w/AR</span></nobr></DIV>
<DIV style="position:absolute;top:200;left:386"><nobr><span class="ft30">BDP=3</span></nobr></DIV>
<DIV style="position:absolute;top:234;left:143"><nobr><span class="ft3">(a)</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:166"><nobr><span class="ft11">4 TCP Flows</span></nobr></DIV>
<DIV style="position:absolute;top:235;left:282"><nobr><span class="ft11">(b) 8 TCP Flows</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:94"><nobr><span class="ft3">Figure 15:</span></nobr></DIV>
<DIV style="position:absolute;top:266;left:172"><nobr><span class="ft11">Throughput with HDR, Multiple Flows</span></nobr></DIV>
<DIV style="position:absolute;top:292;left:81"><nobr><span class="ft8">provided for each TCP flow. For 4 flows, using mean rate of<br>200Kb/s, 1KB packet and rtt of 0.2s, BDP is 5 packets per<br>flow. For 8 flows, using mean rate of 120Kb/s, 1KB packet<br>and rtt of 0.2s, BDP is 3 packets per flow.</span></nobr></DIV>
<DIV style="position:absolute;top:355;left:94"><nobr><span class="ft3">As the number of TCP flows increases, the expected rate</span></nobr></DIV>
<DIV style="position:absolute;top:371;left:81"><nobr><span class="ft8">and delay variation seen by individual flows also increases.<br>Thus, even though the total throughout of the system in-<br>creases with more users due to channel-state based schedul-<br>ing, the improvement is reduced by the channel variability.</span></nobr></DIV>
<DIV style="position:absolute;top:433;left:94"><nobr><span class="ft3">Figure 15(a) shows the throughput for 4 TCP flows. The</span></nobr></DIV>
<DIV style="position:absolute;top:449;left:81"><nobr><span class="ft8">improvement of Ack Regulator over TCP Sack increases<br>compared to the single TCP case. For example, the gain<br>is 17% with per-flow buffer size of 5 (BDP). For Reno the<br>gain is even greater. With per-flow buffer size of 5, the im-<br>provement is 33%. Similar result can also be observed for<br>the case of 8 TCP flows as shown in Figure 15(b). For both<br>TCP Reno and Sack, the gain is about 31% and 29% re-<br>spectively for per-flow buffer size of 3. From the figure, it<br>can seen that, for TCP Sack and Reno to achieve close to<br>maximum throughput without Ack Regulator, at least three<br>times the buffer requirements of Ack Regulator is necessary<br>(buffer requirements for acks in the Ack Regulator is neg-<br>ligible compared to the 1KB packet buffer since only the<br>sequence number needs to be stored for the acks). This not<br>only increases the cost of the RNC, which needs to support<br>thousands of active flows, it also has the undesirable side-<br>effects of large rtt's that was noted in Section 3.</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:94"><nobr><span class="ft3">With multiple TCP flows, the issue of throughput fairness</span></nobr></DIV>
<DIV style="position:absolute;top:731;left:81"><nobr><span class="ft3">naturally arises.</span></nobr></DIV>
<DIV style="position:absolute;top:731;left:192"><nobr><span class="ft3">One way to quantify how bandwidth is</span></nobr></DIV>
<DIV style="position:absolute;top:747;left:81"><nobr><span class="ft8">shared among flows is to use the fairness indexdescribed in<br>[27]. This indexis computed as the ratio of the square of the<br>total throughput to n times the square of the individual flow<br>throughput. If all flows get the same allocation, then the<br>fairness indexis 1. As the differences in allocation increases,<br>fairness decreases. A scheme which allocates bandwidth to<br>only a few selected users has a fairness indexnear 0.</span></nobr></DIV>
<DIV style="position:absolute;top:857;left:94"><nobr><span class="ft3">Computation of this indexis performed for all multiple</span></nobr></DIV>
<DIV style="position:absolute;top:873;left:81"><nobr><span class="ft8">flows simulation and the indexis greater than 0.99 in all<br>cases. This result is expected since with per flow buffering,<br>and proportional fair scheduling, the long term throughput<br>of many TCP long-lived flows sharing the same link should<br>be fair.</span></nobr></DIV>
<DIV style="position:absolute;top:964;left:81"><nobr><span class="ft2"><b>6.6</b></span></nobr></DIV>
<DIV style="position:absolute;top:964;left:121"><nobr><span class="ft32"><b>Parameters affecting the performance of<br>Ack Regulator</b></span></nobr></DIV>
<DIV style="position:absolute;top:1004;left:94"><nobr><span class="ft3">Due to lack of space, we will only briefly present the results</span></nobr></DIV>
<DIV style="position:absolute;top:1020;left:81"><nobr><span class="ft3">of varying parameters such as wired network latency and .</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:94"><nobr><span class="ft3">As the network latency is varied from 20ms to 100ms,</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:81"><nobr><span class="ft8">throughput decreases by 1.63% and 2.62% for Reno and<br>Reno with Ack Regulator flows, respectively. Most of the</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">decrease can be accounted for by the impact of increase<br>in latency on TCP throughput. The result shows that the<br>AckReleaseCount estimation algorithm is effective and hence<br>the Ack Regulator is able to reserve the appropriate amount<br>of buffer for expected packet arrivals even with substantial<br>wireline delay.</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:489"><nobr><span class="ft3">In another experiment, the parameter  in an Ack Regu-</span></nobr></DIV>
<DIV style="position:absolute;top:196;left:475"><nobr><span class="ft8">lated TCP flow is varied from 1 to 4. When  is increased<br>from 1 to 3, the TCP flow is able to achieve its maximum<br>throughput at a smaller buffer size.</span></nobr></DIV>
<DIV style="position:absolute;top:228;left:713"><nobr><span class="ft3">As  increases, the</span></nobr></DIV>
<DIV style="position:absolute;top:243;left:475"><nobr><span class="ft8">rtt also increases and when  is increased to 4, through-<br>put decreases for larger buffer sizes (&gt; 15). The decrease<br>in throughput is caused by the accumulation of sufficiently<br>large amount of duplicate acks that are sent to the TCP<br>sender.</span></nobr></DIV>
<DIV style="position:absolute;top:306;left:530"><nobr><span class="ft3">A value of  = 2 appears to be a good choice,</span></nobr></DIV>
<DIV style="position:absolute;top:322;left:475"><nobr><span class="ft3">balancing throughput and rtt for reasonable buffer sizes.</span></nobr></DIV>
<DIV style="position:absolute;top:354;left:475"><nobr><span class="ft2"><b>6.7</b></span></nobr></DIV>
<DIV style="position:absolute;top:354;left:515"><nobr><span class="ft2"><b>Summary of Results and Discussion</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:489"><nobr><span class="ft3">In this section, we first summarize the results from the</span></nobr></DIV>
<DIV style="position:absolute;top:392;left:475"><nobr><span class="ft8">simulation experiments and then briefly touch upon other<br>issues.</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:489"><nobr><span class="ft3">We first started with experiments using a wireless link</span></nobr></DIV>
<DIV style="position:absolute;top:439;left:475"><nobr><span class="ft8">with variable delay. We showed that Ack Regulator delivers<br>performance up to 43% better than TCP Reno and 19%<br>better than TCP Sack when the buffer size was set to one<br>BDP. We then examined the impact of a wireless link with<br>variable rate. We saw that when the rate variance increases,<br>throughput of TCP Reno decreases as expected. Compared<br>to TCP Reno, Ack Regulator improves the throughput by<br>up to 15%. However, TCP Sack performs very well and has<br>almost the same throughput as Ack Regulated flows as long<br>as the rate variation is not extremely large.</span></nobr></DIV>
<DIV style="position:absolute;top:596;left:489"><nobr><span class="ft3">We next considered the impact of a wireless link with</span></nobr></DIV>
<DIV style="position:absolute;top:612;left:475"><nobr><span class="ft8">variable delay and variable rate. We found that this com-<br>bination had a large negative impact on the performance of<br>both TCP Reno and Sack (up to 22% and 10% improvement<br>respectively for Ack Regulated flows). We then considered<br>a specific wireless link standard called HDR which exhibits<br>both variable delay and variable rate. The results were as<br>expected, with Ack Regulator improving TCP Reno perfor-<br>mance by 5% to 33% and TCP Sack by 0.5% to 24%. We<br>then evaluated the impact of multiple TCP flows sharing<br>the HDR link.</span></nobr></DIV>
<DIV style="position:absolute;top:753;left:578"><nobr><span class="ft3">The gains of Ack Regulator over normal</span></nobr></DIV>
<DIV style="position:absolute;top:768;left:475"><nobr><span class="ft8">TCP flows were even greater in this case (with 32% to 36%<br>improvements) when the buffer size is set to one BDP.</span></nobr></DIV>
<DIV style="position:absolute;top:800;left:489"><nobr><span class="ft3">In general, we showed that Ack Regulator delivers the</span></nobr></DIV>
<DIV style="position:absolute;top:816;left:475"><nobr><span class="ft8">same high throughput irrespective of whether the TCP flow<br>is Reno or Sack. We further showed that Ack Regulator de-<br>livers robust throughput performance across different buffer<br>sizes with the performance improvement of Ack Regulator<br>increasing as buffer size is reduced.</span></nobr></DIV>
<DIV style="position:absolute;top:894;left:489"><nobr><span class="ft3">We only considered TCP flows towards the mobile host</span></nobr></DIV>
<DIV style="position:absolute;top:910;left:475"><nobr><span class="ft8">(for downloading-type applications) since links like HDR are<br>designed for such applications. In the case of TCP flows in<br>the other direction (from the mobile host), Ack Regulator<br>can be implemented, if necessary, at the mobile host to op-<br>timize the use of buffer on the wireless interface card.</span></nobr></DIV>
<DIV style="position:absolute;top:988;left:489"><nobr><span class="ft3">Finally, Ack Regulator cannot be used if the flow uses</span></nobr></DIV>
<DIV style="position:absolute;top:1004;left:475"><nobr><span class="ft8">end-to-end IPSEC. This is also true for all performance en-<br>hancing proxies. However, we believe that proxies for perfor-<br>mance improvement are critical in current wireless networks.<br>In order to allow for these proxies without compromising<br>security, a split security model can be adopted where the</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">81</span></nobr></DIV>
</DIV>
<!-- Page 12 -->
<a name="12"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft33{font-size:15px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="186012.png" alt="background image">
<DIV style="position:absolute;top:86;left:81"><nobr><span class="ft8">RNC, under the control of the network provider, becomes a<br>trusted element. In this model, a VPN approach to security<br>(say, using IPSEC) is used on the wireline network between<br>the RNC and the correspondent host and 3G authentication<br>and link-layer encryption mechanisms are used between the<br>RNC and mobile host. This allows the RNC to support<br>proxies such as the Ack Regulator to improve performance<br>without compromising security.</span></nobr></DIV>
<DIV style="position:absolute;top:232;left:81"><nobr><span class="ft2"><b>7.</b></span></nobr></DIV>
<DIV style="position:absolute;top:232;left:112"><nobr><span class="ft2"><b>CONCLUSION</b></span></nobr></DIV>
<DIV style="position:absolute;top:254;left:94"><nobr><span class="ft3">In this paper, we comprehensively evaluated the impact</span></nobr></DIV>
<DIV style="position:absolute;top:269;left:81"><nobr><span class="ft8">of variable rate and variable delay on TCP performance.<br>We first proposed a model to explain and predict TCP's<br>throughput over a link with variable rate and delay. Our<br>model was able to accurately (better than 90%) predict<br>throughput of TCP flows even in the case of large delay<br>and rate variation. Based on our TCP model, we proposed<br>a network based solution called Ack Regulator to mitigate<br>the effect of rate and delay variability. The performance of<br>Ack Regulator was evaluated extensively using both general<br>models for rate and delay variability as well as a simplified<br>model of a 3</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:153"><nobr><span class="ft15">rd</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:169"><nobr><span class="ft3">Generation high speed wireless data air inter-</span></nobr></DIV>
<DIV style="position:absolute;top:442;left:81"><nobr><span class="ft8">face. Ack Regulator was able to improve the performance<br>of TCP Reno and TCP Sack by up to 40% without signif-<br>icantly increasingly the round trip time. We also showed<br>that Ack Regulator delivers the same high throughput irre-<br>spective of whether the TCP source is Reno or Sack. Fur-<br>thermore, Ack Regulator also delivered robust throughput<br>performance across different buffer sizes. Given the difficul-<br>ties in knowing in advance the achievable throughput and<br>delay (and hence the correct BDP value), a scheme, like<br>Ack Regulator, which works well for both large and small<br>buffers is essential. In summary, Ack Regulator is an effec-<br>tive network-based solution that significantly improves TCP<br>performance over wireless links with variable rate and delay.</span></nobr></DIV>
<DIV style="position:absolute;top:651;left:94"><nobr><span class="ft33">Acknowledgements</span></nobr></DIV>
<DIV style="position:absolute;top:670;left:94"><nobr><span class="ft3">The authors would like to thank Lijun Qian for providing</span></nobr></DIV>
<DIV style="position:absolute;top:686;left:81"><nobr><span class="ft8">the fading code used in the HDR simulation, Clement Lee<br>and Girish Chandranmenon for providing the 3G1xtrace<br>and Sandy Thuel for comments on earlier versions of this<br>paper.</span></nobr></DIV>
<DIV style="position:absolute;top:768;left:81"><nobr><span class="ft2"><b>8.</b></span></nobr></DIV>
<DIV style="position:absolute;top:768;left:112"><nobr><span class="ft2"><b>REFERENCES</b></span></nobr></DIV>
<DIV style="position:absolute;top:792;left:95"><nobr><span class="ft3">[1] E. Altman, K. Avrachenkov and C. Barakat, "A</span></nobr></DIV>
<DIV style="position:absolute;top:808;left:116"><nobr><span class="ft8">Stochastic Model of TCP/IP with Stationary<br>Random Loss," in Proceedings of SIGCOMM 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:841;left:95"><nobr><span class="ft3">[2] F. Baccelli and D. Hong,"TCP is Max-Plus Linear,"</span></nobr></DIV>
<DIV style="position:absolute;top:857;left:116"><nobr><span class="ft3">in Proceedings of SIGCOMM 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:874;left:95"><nobr><span class="ft3">[3] A. Bakre and B.R. Badrinath, "Handoff and System</span></nobr></DIV>
<DIV style="position:absolute;top:890;left:116"><nobr><span class="ft8">Support for Indirect TCP/IP," in proceedings of<br>Second UsenixSymposium on Mobile and<br>Location-Independent Computing, Apr 1995.</span></nobr></DIV>
<DIV style="position:absolute;top:938;left:95"><nobr><span class="ft3">[4] H. Balakrishnan et al., "Improving TCP/IP</span></nobr></DIV>
<DIV style="position:absolute;top:954;left:116"><nobr><span class="ft8">Performance over Wireless Networks," in proceedings<br>of ACM Mobicom, Nov 1995.</span></nobr></DIV>
<DIV style="position:absolute;top:987;left:95"><nobr><span class="ft3">[5] H. Balakrishnan, V.N. Padmanabhan, R.H. Katz,</span></nobr></DIV>
<DIV style="position:absolute;top:1002;left:116"><nobr><span class="ft8">"The Effects of Asymmetry on TCP Performance,"<br>Proc. ACM/IEEE Mobicom, Sep. 1997.</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:95"><nobr><span class="ft3">[6] P. Bender et al., "A Bandwidth Efficient High Speed</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:116"><nobr><span class="ft8">Wireless Data Service for Nomadic Users," in IEEE<br>Communications Magazine, Jul 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:489"><nobr><span class="ft3">[7] P. Bhagwat at al, "Enhancing Throughput over</span></nobr></DIV>
<DIV style="position:absolute;top:102;left:510"><nobr><span class="ft8">Wireless LANs Using Channel State Dependent<br>Packet Scheduling," in Proc. IEEE INFOCOM'96.</span></nobr></DIV>
<DIV style="position:absolute;top:135;left:489"><nobr><span class="ft3">[8] K. Brown and S.Singh, "M-TCP: TCP for Mobile</span></nobr></DIV>
<DIV style="position:absolute;top:151;left:510"><nobr><span class="ft8">Cellular Networks," ACM Computer<br>Communications Review Vol. 27(5), 1997.</span></nobr></DIV>
<DIV style="position:absolute;top:183;left:489"><nobr><span class="ft3">[9] A. Canton and T. Chahed, "End-to-end reliability in</span></nobr></DIV>
<DIV style="position:absolute;top:199;left:510"><nobr><span class="ft8">UMTS: TCP over ARQ," in proceedings of<br>Globecomm 2001.</span></nobr></DIV>
<DIV style="position:absolute;top:232;left:482"><nobr><span class="ft3">[10] TIA/EIA/cdma2000, "Mobile Station - Base Station</span></nobr></DIV>
<DIV style="position:absolute;top:248;left:510"><nobr><span class="ft8">Compatibility Standard for Dual-Mode Wideband<br>Spread Spectrum Cellular Systems", Washington:<br>Telecommunication Industry Association, 1999.</span></nobr></DIV>
<DIV style="position:absolute;top:296;left:482"><nobr><span class="ft3">[11] G. Holland and N. H. Vaidya, "Analysis of TCP</span></nobr></DIV>
<DIV style="position:absolute;top:312;left:510"><nobr><span class="ft8">Performance over Mobile Ad Hoc Networks," in<br>Proceedings of ACM Mobicom'99.</span></nobr></DIV>
<DIV style="position:absolute;top:345;left:482"><nobr><span class="ft3">[12] H. Inamura et al., "TCP over 2.5G and 3G Wireless</span></nobr></DIV>
<DIV style="position:absolute;top:361;left:510"><nobr><span class="ft3">Networks," draft-ietf-pilc-2.5g3g-07, Aug. 2002.</span></nobr></DIV>
<DIV style="position:absolute;top:378;left:482"><nobr><span class="ft3">[13] F. Khafizov and M. Yavuz, "TCP over CDMA2000</span></nobr></DIV>
<DIV style="position:absolute;top:393;left:510"><nobr><span class="ft8">networks," Internet Draft,<br>draft-khafizov-pilc-cdma2000-00.txt.</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:482"><nobr><span class="ft3">[14] T. V. Lakshman and U. Madhow, "The Performance</span></nobr></DIV>
<DIV style="position:absolute;top:442;left:510"><nobr><span class="ft8">of Networks with High Bandwidth-delay Products<br>and Random Loss," in IEEE/ACM Transactions on<br>Networking, Jun. 1997.</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:482"><nobr><span class="ft3">[15] R. Ludwig et al., "Multi-layer Tracing of TCP over a</span></nobr></DIV>
<DIV style="position:absolute;top:506;left:510"><nobr><span class="ft8">Reliable Wireless Link," in Proceedings of ACM<br>SIGMETRICS 1999.</span></nobr></DIV>
<DIV style="position:absolute;top:539;left:482"><nobr><span class="ft3">[16] Reiner Ludwig and Randy H. Katz "The Eifel</span></nobr></DIV>
<DIV style="position:absolute;top:555;left:510"><nobr><span class="ft8">Algorithm: Making TCP Robust Against Spurious<br>Retransmissions," in ACM Computer<br>Communications Review, Vol. 30, No. 1, 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:603;left:482"><nobr><span class="ft3">[17] V. Misra, W. Gong and D. Towsley, "Stochastic</span></nobr></DIV>
<DIV style="position:absolute;top:619;left:510"><nobr><span class="ft8">Differential Equation Modeling and Analysis of TCP<br>Windowsize Behavior," in Proceedings of<br>Performance'99.</span></nobr></DIV>
<DIV style="position:absolute;top:668;left:482"><nobr><span class="ft3">[18] P. Narvaez and K.-Y. Siu, "New Techniques for</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:510"><nobr><span class="ft8">Regulating TCP Flow over Heterogeneous<br>Networks," in LCN'98.</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:482"><nobr><span class="ft3">[19] "Modeling TCP Throughput: a Simple Model and its</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:510"><nobr><span class="ft8">Empirical Validation," in Proceedings of SIGCOMM<br>1998.</span></nobr></DIV>
<DIV style="position:absolute;top:765;left:482"><nobr><span class="ft3">[20] S. Paul et al., "An Asymmetric Link-Layer Protocol</span></nobr></DIV>
<DIV style="position:absolute;top:781;left:510"><nobr><span class="ft8">for Digital Cellular Communications," in proceedings<br>of INFOCOM 1995.</span></nobr></DIV>
<DIV style="position:absolute;top:813;left:482"><nobr><span class="ft3">[21] Third Generation Partnership Project, "RLC</span></nobr></DIV>
<DIV style="position:absolute;top:829;left:510"><nobr><span class="ft3">Protocol Specification (3G TS 25.322:)", 1999.</span></nobr></DIV>
<DIV style="position:absolute;top:846;left:482"><nobr><span class="ft3">[22] TIA/EIA/IS-707-A-2.10, "Data Service Options for</span></nobr></DIV>
<DIV style="position:absolute;top:862;left:510"><nobr><span class="ft8">Spread Spectrum Systems: Radio Link Protocol<br>Type 3", January 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:895;left:482"><nobr><span class="ft3">[23] S. Karandikar et al., "TCP rate control," in ACM</span></nobr></DIV>
<DIV style="position:absolute;top:911;left:510"><nobr><span class="ft3">Computer Communication Review, Jan 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:928;left:482"><nobr><span class="ft22">[24] 3G Partnership Project, Release 99.<br>[25] "Microwave mobile communications," edited by W.</span></nobr></DIV>
<DIV style="position:absolute;top:961;left:510"><nobr><span class="ft3">C. Jakes, Wiley, 1974.</span></nobr></DIV>
<DIV style="position:absolute;top:978;left:482"><nobr><span class="ft3">[26] "Delays in the HDR System," QUALCOMM, Jun.</span></nobr></DIV>
<DIV style="position:absolute;top:993;left:510"><nobr><span class="ft3">2000.</span></nobr></DIV>
<DIV style="position:absolute;top:1011;left:482"><nobr><span class="ft3">[27] R. Jain, "The Art of Computer Systems Performance</span></nobr></DIV>
<DIV style="position:absolute;top:1026;left:510"><nobr><span class="ft3">Analysis," Wiley, 1991.</span></nobr></DIV>
<DIV style="position:absolute;top:1044;left:482"><nobr><span class="ft3">[28] J. Padhye and S. Floyd, "On Inferring TCP</span></nobr></DIV>
<DIV style="position:absolute;top:1059;left:510"><nobr><span class="ft3">Behavior," in Proceedings of SIGCOMM'2001.</span></nobr></DIV>
<DIV style="position:absolute;top:1122;left:452"><nobr><span class="ft7">82</span></nobr></DIV>
</DIV>
</BODY>
</HTML>
