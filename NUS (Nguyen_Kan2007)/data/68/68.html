<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>D:\Paper\HTML\68</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="generator" content="pdftohtml 0.35beta">
<META name="date" content="2006-09-14T13:59:31+00:00">
</HEAD>
<BODY bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft0{font-size:24px;font-family:Helvetica;color:#000000;}
	.ft1{font-size:15px;font-family:Helvetica;color:#000000;}
	.ft2{font-size:12px;font-family:Helvetica;color:#000000;}
	.ft3{font-size:15px;font-family:Times;color:#000000;}
	.ft4{font-size:11px;font-family:Times;color:#000000;}
	.ft5{font-size:9px;font-family:Times;color:#000000;}
	.ft6{font-size:9px;font-family:Times;color:#000000;}
	.ft7{font-size:16px;font-family:Times;color:#000000;}
	.ft8{font-size:11px;line-height:15px;font-family:Times;color:#000000;}
	.ft9{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="68001.png" alt="background image">
<DIV style="position:absolute;top:108;left:121"><nobr><span class="ft0"><b>Diagnosis of TCP Overlay Connection Failures using</b></span></nobr></DIV>
<DIV style="position:absolute;top:138;left:335"><nobr><span class="ft0"><b>Bayesian Networks</b></span></nobr></DIV>
<DIV style="position:absolute;top:205;left:231"><nobr><span class="ft1">George J. Lee</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:165"><nobr><span class="ft2">Computer Science and AI Laboratory</span></nobr></DIV>
<DIV style="position:absolute;top:239;left:162"><nobr><span class="ft2">Massachusetts Institute of Technology</span></nobr></DIV>
<DIV style="position:absolute;top:254;left:196"><nobr><span class="ft2">Cambridge, MA 02139 USA</span></nobr></DIV>
<DIV style="position:absolute;top:276;left:240"><nobr><span class="ft1">gjl@mit.edu</span></nobr></DIV>
<DIV style="position:absolute;top:205;left:571"><nobr><span class="ft1">Lindsey Poole</span></nobr></DIV>
<DIV style="position:absolute;top:223;left:516"><nobr><span class="ft2">Department of Computer Science</span></nobr></DIV>
<DIV style="position:absolute;top:239;left:560"><nobr><span class="ft2">Princeton University</span></nobr></DIV>
<DIV style="position:absolute;top:254;left:541"><nobr><span class="ft2">Princeton, NJ 08544 USA</span></nobr></DIV>
<DIV style="position:absolute;top:274;left:528"><nobr><span class="ft1">lpoole@cs.princeton.edu</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:81"><nobr><span class="ft3"><b>ABSTRACT</b></span></nobr></DIV>
<DIV style="position:absolute;top:341;left:81"><nobr><span class="ft8">When failures occur in Internet overlay connections today, it is dif-<br>ficult for users to determine the root cause of failure. An overlay<br>connection may require TCP connections between a series of over-<br>lay nodes to succeed, but accurately determining which of these<br>connections has failed is difficult for users without access to the<br>internal workings of the overlay. Diagnosis using active probing<br>is costly and may be inaccurate if probe packets are filtered or<br>blocked. To address this problem, we develop a passive diagno-<br>sis approach that infers the most likely cause of failure using a<br>Bayesian network modeling the conditional probability of TCP fail-<br>ures given the IP addresses of the hosts along the overlay path. We<br>collect TCP failure data for 28.3 million TCP connections using<br>data from the new Planetseer overlay monitoring system and train<br>a Bayesian network for the diagnosis of overlay connection fail-<br>ures. We evaluate the accuracy of diagnosis using this Bayesian<br>network on a set of overlay connections generated from observa-<br>tions of CoDeeN traffic patterns and find that our approach can<br>accurately diagnose failures.</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:81"><nobr><span class="ft3"><b>Keywords</b></span></nobr></DIV>
<DIV style="position:absolute;top:668;left:81"><nobr><span class="ft8">Bayesian networks, fault diagnosis, passive diagnosis, Planetseer,<br>TCP overlay path diagnosis</span></nobr></DIV>
<DIV style="position:absolute;top:719;left:81"><nobr><span class="ft3"><b>1.</b></span></nobr></DIV>
<DIV style="position:absolute;top:719;left:112"><nobr><span class="ft3"><b>INTRODUCTION</b></span></nobr></DIV>
<DIV style="position:absolute;top:742;left:94"><nobr><span class="ft4">When failures occur in Internet overlay connections today, it is</span></nobr></DIV>
<DIV style="position:absolute;top:757;left:81"><nobr><span class="ft8">difficult for users to determine the root cause of failure. The pro-<br>liferation of TCP overlays such as content distribution networks<br>and HTTP proxies means that frequently network communication<br>requires a series of TCP connections between overlay nodes to suc-<br>ceed. For example, an HTTP request using the CoDeeN[9] content<br>distribution network first requires a TCP connection to a CoDeeN<br>node and then a connection from a CoDeeN node to a server or an-<br>other CoDeeN node. A failure in any one of the TCP connections<br>along the overlay path causes the user's HTTP request to fail. If<br>the user knows which TCP connection failed, then they can take<br>appropriate action to repair or circumvent the failure. For instance,</span></nobr></DIV>
<DIV style="position:absolute;top:977;left:81"><nobr><span class="ft9">Permission to make digital or hard copies of all or part of this work for<br>personal or classroom use is granted without fee provided that copies are<br>not made or distributed for profit or commercial advantage and that copies<br>bear this notice and the full citation on the first page. To copy otherwise, to<br>republish, to post on servers or to redistribute to lists, requires prior specific<br>permission and/or a fee.<br><i>SIGCOMM'06 Workshops </i>September 11-15, 2006, Pisa, Italy.<br>Copyright 2006 ACM 1-59593-417-0/06/0009 ...</span></nobr></DIV>
<DIV style="position:absolute;top:1070;left:315"><nobr><span class="ft4">$</span></nobr></DIV>
<DIV style="position:absolute;top:1071;left:322"><nobr><span class="ft5">5.00.</span></nobr></DIV>
<DIV style="position:absolute;top:319;left:475"><nobr><span class="ft8">if they know that the connection from the proxy to the server failed,<br>then they complain to the web server administrator. On the other<br>hand, if the user/proxy connection fails, perhaps they can try con-<br>necting to the proxy using a different ISP. If multiple overlay paths<br>exist between the source and destination, nodes and applications<br>may also use this type of diagnostic information to automatically<br>recover or route around failures[1].</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:489"><nobr><span class="ft4">Unfortunately, accurately determining which TCP connection in</span></nobr></DIV>
<DIV style="position:absolute;top:445;left:475"><nobr><span class="ft8">an overlay connection has failed is difficult for end users, who typ-<br>ically do not have access to the internal workings of the overlay.<br>Commercial overlay networks such as Akamai typically do not re-<br>veal details of connection failures to users, and the diagnostic tools<br>available to users today are frequently inadequate. Active probing<br>techniques such as tulip[7] and Planetseer[11] frequently cannot<br>provide accurate information due to firewalls and packet filtering.<br>Furthermore, active probing can be costly both in terms of network<br>resources and time, and cannot diagnose the many transient TCP<br>failures that begin and end before one can complete a probe[11].<br>Additionally, one must take care when using active probing for di-<br>agnosis because they may concentrate network traffic at points of<br>failure and trigger intrusion detection systems.</span></nobr></DIV>
<DIV style="position:absolute;top:649;left:489"><nobr><span class="ft4">Instead, in our research we consider a passive approach to diag-</span></nobr></DIV>
<DIV style="position:absolute;top:665;left:475"><nobr><span class="ft8">nosis in which intelligent diagnostic agents use probabilistic infer-<br>ence to determine the root cause of failure. The reliability of IP<br>links in the Internet varies widely and hence we expect the proba-<br>bility of TCP failure to differ between different sets of hosts. Di-<br>agnostic agents in the Internet learn the probability of such failures<br>for different regions in the Internet based on observations of TCP<br>traffic. When users or network administrators detect network fail-<br>ures, they request diagnosis from such diagnostic agents. Agents<br>then use information about the relative probability of failure of the<br>TCP connections that make up an overlay connection to identify<br>the most likely cause of failure when an overlay connection occurs<br>without conducting any additional probes. In addition, diagnostic<br>agents can also use this Bayesian network to predict the probability<br>of overlay and TCP connection failure given information about the<br>path of an overlay connection.</span></nobr></DIV>
<DIV style="position:absolute;top:900;left:489"><nobr><span class="ft4">We collect data on TCP failure probabilities in order to deter-</span></nobr></DIV>
<DIV style="position:absolute;top:916;left:475"><nobr><span class="ft8">mine whether this data enables diagnostic agents data to accurately<br>diagnose overlay failures in the Internet. To learn the probability<br>of failure for TCP connections between different points in the net-<br>work, we observe TCP traffic on the content distribution network<br>CoDeeN using an updated version of Planetseer[11]. Next we con-<br>struct a Bayesian network for diagnosis using these probabilities.<br>We then use Bayesian inference to infer the most probable cause of<br>failure for TCP-based applications.</span></nobr></DIV>
<DIV style="position:absolute;top:1041;left:489"><nobr><span class="ft4">To evaluate the effectiveness of this approach, we test this Bayesian</span></nobr></DIV>
<DIV style="position:absolute;top:1057;left:475"><nobr><span class="ft4">network on an artificial set of overlay connections based on the</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">305</span></nobr></DIV>
</DIV>
<!-- Page 2 -->
<a name="2"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft10{font-size:8px;font-family:Times;color:#000000;}
	.ft11{font-size:15px;line-height:20px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="68002.png" alt="background image">
<DIV style="position:absolute;top:86;left:81"><nobr><span class="ft8">traffic observed on CoDeeN. We find that when a failure occurs,<br>knowing only the AS numbers of the source, proxy, and destina-<br>tion, we can determine which TCP connection has failed with over<br>80% probability. In addition, the probability of failure between<br>ASes stays relatively constant over time, and data learned can be<br>accurately used for diagnosis for many hours into the future. This<br>suggests that the TCP failure probabilities we learn may be useful<br>in the diagnosis of future failures as well.</span></nobr></DIV>
<DIV style="position:absolute;top:212;left:94"><nobr><span class="ft4">The contribution of this research is to show how inter-AS TCP</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:81"><nobr><span class="ft8">failure probabilities can be used for probabilistic diagnosis of fail-<br>ures in overlay networks such as CoDeeN using Bayesian infer-<br>ence. We also demonstrate a variety of clustering methods to ad-<br>dress the problem of dataset sparsity for learning TCP failure prob-<br>abilities. In this paper we evaluate our system on CoDeeN overlay<br>connections, but our Bayesian model generalizes to the diagnosis<br>of other TCP-based applications as well.</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:81"><nobr><span class="ft3"><b>2.</b></span></nobr></DIV>
<DIV style="position:absolute;top:353;left:112"><nobr><span class="ft3"><b>RELATED WORK</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:94"><nobr><span class="ft4">There has been previous work in passive diagnosis of failures</span></nobr></DIV>
<DIV style="position:absolute;top:391;left:81"><nobr><span class="ft8">in the Internet. Padmanabhan, Ramabhadran, and Padhye devel-<br>oped Netprofiler, which collects network measurements from a set<br>of end hosts and attempts to identify cause of failure by examining<br>the shared dependencies among hosts that experience failures[8].<br>They show that this approach can provide information useful for<br>diagnosis, but their paper only provides some preliminary results<br>and do not provide details of how their system might diagnose real-<br>world failures in practice.</span></nobr></DIV>
<DIV style="position:absolute;top:517;left:94"><nobr><span class="ft4">Shrink probabilistically diagnoses IP link failures based on the</span></nobr></DIV>
<DIV style="position:absolute;top:533;left:81"><nobr><span class="ft8">observed status of IP links that share resources[4]. Similarly in our<br>work we diagnose failures in overlay connections where an overlay<br>depends on several underlying TCP connections which may share<br>IP hops. Shrink assumes that one can accurately determine the sta-<br>tus of all IP links at any point in time. This allows one to identify<br>the shared cause of failure of the failed IP links. Theoretically, we<br>can also use this approach to diagnose overlay failures. That is, we<br>can identify the TCP connections that share common IP hops and<br>observe which overlay connections have failed at any point in time<br>to identify the failed TCP connections.</span></nobr></DIV>
<DIV style="position:absolute;top:690;left:94"><nobr><span class="ft4">Unfortunately, in real-world diagnosis of TCP connections many</span></nobr></DIV>
<DIV style="position:absolute;top:705;left:81"><nobr><span class="ft8">of the assumptions made by systems such as Shrink do not hold for<br>the following reasons.</span></nobr></DIV>
<DIV style="position:absolute;top:748;left:98"><nobr><span class="ft4">1. The status of overlay connections may change rapidly, mak-</span></nobr></DIV>
<DIV style="position:absolute;top:764;left:114"><nobr><span class="ft8">ing it difficult to correlate failures in different overlay con-<br>nections over time.</span></nobr></DIV>
<DIV style="position:absolute;top:805;left:98"><nobr><span class="ft4">2. In order to construct a Bayesian network that accurately mod-</span></nobr></DIV>
<DIV style="position:absolute;top:820;left:114"><nobr><span class="ft8">els the IP hops shared among different TCP connections we<br>need an accurate IP level map of the Internet. As the Skitter</span></nobr></DIV>
<DIV style="position:absolute;top:833;left:433"><nobr><span class="ft10">1</span></nobr></DIV>
<DIV style="position:absolute;top:852;left:114"><nobr><span class="ft8">project demonstrates, accurately constructing such a map is<br>difficult because routes may change and frequently tools such<br>as traceroute do not provide accurate information.</span></nobr></DIV>
<DIV style="position:absolute;top:908;left:98"><nobr><span class="ft4">3. Determining the status of an inactive overlay connection or a</span></nobr></DIV>
<DIV style="position:absolute;top:924;left:114"><nobr><span class="ft8">TCP connection is costly and takes time because it requires<br>an active probe such as a ping, traceroute, or HTTP connec-<br>tion. Furthermore such probes are frequently inaccurate be-<br>cause of the prevalence of packet filtering, network address<br>translation (NAT), and firewalls in the Internet[3].</span></nobr></DIV>
<DIV style="position:absolute;top:1012;left:98"><nobr><span class="ft4">4. TCP and IP failures are frequently so transient that by the</span></nobr></DIV>
<DIV style="position:absolute;top:1028;left:114"><nobr><span class="ft8">time one can test the status of a link, the failure no longer<br>exists [11].</span></nobr></DIV>
<DIV style="position:absolute;top:1064;left:81"><nobr><span class="ft10">1</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:87"><nobr><span class="ft4">http://www.caida.org/tools/measurement/skitter/</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:489"><nobr><span class="ft4">Therefore in this paper we present an alternative passive diag-</span></nobr></DIV>
<DIV style="position:absolute;top:102;left:475"><nobr><span class="ft8">nosis approach that does not require simultaneously knowing the<br>status of all overlay connections. Instead, we cluster TCP failures<br>based on the Internet autonomous systems (ASes) of their end-<br>points and use information about the distribution of TCP failures<br>to infer the cause of failure. An agent first learns a probabilistic<br>model of failures based on a training set of observed TCP connec-<br>tions, and then it uses this model to diagnose future failures when<br>it does not know the connection status.</span></nobr></DIV>
<DIV style="position:absolute;top:227;left:489"><nobr><span class="ft4">Other researchers have developed methods for diagnosing spe-</span></nobr></DIV>
<DIV style="position:absolute;top:243;left:475"><nobr><span class="ft8">cific TCP-based applications. Ward, et al. infer the presence of<br>TCP performance failures based on the rate of requests processed at<br>an HTTP proxy server and TCP connection state [10]. Unlike such<br>specialized diagnostic systems, our Bayesian approach to diagnosis<br>can generalize to other applications that rely on TCP connections.</span></nobr></DIV>
<DIV style="position:absolute;top:322;left:489"><nobr><span class="ft4">Most previous research in probabilistic diagnosis of Internet fail-</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:475"><nobr><span class="ft8">ures evaluate their work on simulated failures. Steinder and Sethi<br>model network faults using a bipartite causality graph in which the<br>failure of individual links cause the failure of end-to-end connec-<br>tivity, and then perform fault localization using a belief network[6].<br>In contrast, in our research we evaluate our approach on real-world<br>TCP failures using actual data collected on the Internet.</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:475"><nobr><span class="ft3"><b>3.</b></span></nobr></DIV>
<DIV style="position:absolute;top:458;left:506"><nobr><span class="ft11"><b>DIAGNOSING OVERLAY CONNECTION<br>FAILURES</b></span></nobr></DIV>
<DIV style="position:absolute;top:502;left:489"><nobr><span class="ft4">In this paper we consider the diagnosis of overlay networks in</span></nobr></DIV>
<DIV style="position:absolute;top:517;left:475"><nobr><span class="ft8">which an overlay network connection requires a series of TCP con-<br>nections between overlay nodes between the source and destina-<br>tion hosts. For example, Akamai is a content distribution net-<br>work in which retrieving a resource from a web server may requ ire<br>communication among multiple Akamai nodes along multiple TCP<br>connections. Another example is the content distribution network<br>CoDeeN on Planetlab, in which overlay nodes act as HTTP prox-<br>ies. An request on CoDeeN[9] first requires a TCP connection to a<br>CoDeeN node and then a connection from a CoDeeN node to server<br>or another CoDeeN node. A failure in any one of these TCP con-<br>nections causes the user's HTTP connection to fail. The challenge<br>is to determine which of these TCP connections has failed.</span></nobr></DIV>
<DIV style="position:absolute;top:706;left:489"><nobr><span class="ft4">Sometimes users can determine whether a failure has occurred</span></nobr></DIV>
<DIV style="position:absolute;top:721;left:475"><nobr><span class="ft8">along the first TCP connection along the overlay path using infor-<br>mation provided by their local TCP stack, but if a failure occurs<br>beyond the first connection users cannot tell where a failure occurs<br>without cooperation from the overlay. Depending on the type of<br>overlay, users may have different amounts of information about the<br>overlay path. For example, in an HTTP proxy connection, users<br>know that the proxy is the first hop along the path and that if the<br>connection is not cached, the web server is the last hop along the<br>path.</span></nobr></DIV>
<DIV style="position:absolute;top:863;left:489"><nobr><span class="ft4">As a first step, in our research we examine a special case of di-</span></nobr></DIV>
<DIV style="position:absolute;top:878;left:475"><nobr><span class="ft8">agnosis in order to gain insight into how well our approach might<br>generalize to other types of diagnosis. The question we wish to an-<br>swer is, if a two hop overlay connection fails due to a TCP failure,<br>which TCP connection failed? In this paper we define a TCP fail-<br>ure as three consecutive TCP retransmits without a response. We<br>assume that the diagnostic agent only knows that the overlay con-<br>nection has failed and does not know which of the TCP connections<br>has failed. We want to answer this question knowing only the IP ad-<br>dresses of the source, IP address of the first hop overlay node, and<br>the IP address of the ultimate overlay destination host. Our model<br>for probabilistic diagnosis generalizes to overlay connections with<br>any number of hops, but as a starting point in this paper we only<br>consider overlay connections with two hops.</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">306</span></nobr></DIV>
</DIV>
<!-- Page 3 -->
<a name="3"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft12{font-size:13px;font-family:Helvetica;color:#000000;}
	.ft13{font-size:-1px;font-family:Times;color:#000000;}
	.ft14{font-size:11px;font-family:Helvetica;color:#000000;}
	.ft15{font-size:9px;font-family:Helvetica;color:#000000;}
	.ft16{font-size:11px;font-family:Times;color:#000000;}
	.ft17{font-size:11px;font-family:Times;color:#000000;}
	.ft18{font-size:11px;font-family:Times;color:#000000;}
	.ft19{font-size:9px;line-height:14px;font-family:Helvetica;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="68003.png" alt="background image">
<DIV style="position:absolute;top:159;left:313"><nobr><span class="ft12">TCP Conn.</span></nobr></DIV>
<DIV style="position:absolute;top:177;left:332"><nobr><span class="ft12">B</span></nobr></DIV>
<DIV style="position:absolute;top:177;left:344"><nobr><span class="ft13"> </span></nobr></DIV>
<DIV style="position:absolute;top:177;left:357"><nobr><span class="ft12">C</span></nobr></DIV>
<DIV style="position:absolute;top:98;left:384"><nobr><span class="ft14">Hour</span></nobr></DIV>
<DIV style="position:absolute;top:90;left:343"><nobr><span class="ft14">Dst</span></nobr></DIV>
<DIV style="position:absolute;top:106;left:344"><nobr><span class="ft14">AS</span></nobr></DIV>
<DIV style="position:absolute;top:90;left:297"><nobr><span class="ft14">Src</span></nobr></DIV>
<DIV style="position:absolute;top:106;left:298"><nobr><span class="ft14">AS</span></nobr></DIV>
<DIV style="position:absolute;top:258;left:299"><nobr><span class="ft12">Overlay Conn.</span></nobr></DIV>
<DIV style="position:absolute;top:276;left:330"><nobr><span class="ft12">A</span></nobr></DIV>
<DIV style="position:absolute;top:276;left:341"><nobr><span class="ft13"> </span></nobr></DIV>
<DIV style="position:absolute;top:276;left:355"><nobr><span class="ft12">C</span></nobr></DIV>
<DIV style="position:absolute;top:159;left:146"><nobr><span class="ft12">TCP Conn.</span></nobr></DIV>
<DIV style="position:absolute;top:177;left:166"><nobr><span class="ft12">A</span></nobr></DIV>
<DIV style="position:absolute;top:177;left:177"><nobr><span class="ft13"> </span></nobr></DIV>
<DIV style="position:absolute;top:177;left:191"><nobr><span class="ft12">B</span></nobr></DIV>
<DIV style="position:absolute;top:98;left:217"><nobr><span class="ft14">Hour</span></nobr></DIV>
<DIV style="position:absolute;top:90;left:176"><nobr><span class="ft14">Dst</span></nobr></DIV>
<DIV style="position:absolute;top:106;left:177"><nobr><span class="ft14">AS</span></nobr></DIV>
<DIV style="position:absolute;top:90;left:130"><nobr><span class="ft14">Src</span></nobr></DIV>
<DIV style="position:absolute;top:106;left:131"><nobr><span class="ft14">AS</span></nobr></DIV>
<DIV style="position:absolute;top:409;left:313"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:409;left:268"><nobr><span class="ft15">Failed</span></nobr></DIV>
<DIV style="position:absolute;top:409;left:222"><nobr><span class="ft15">OK</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:313"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:268"><nobr><span class="ft15">OK</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:222"><nobr><span class="ft15">OK</span></nobr></DIV>
<DIV style="position:absolute;top:392;left:313"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:392;left:268"><nobr><span class="ft15">OK</span></nobr></DIV>
<DIV style="position:absolute;top:392;left:222"><nobr><span class="ft15">Failed</span></nobr></DIV>
<DIV style="position:absolute;top:377;left:268"><nobr><span class="ft15">Failed</span></nobr></DIV>
<DIV style="position:absolute;top:349;left:268"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:357;left:276"><nobr><span class="ft13">¡</span></nobr></DIV>
<DIV style="position:absolute;top:349;left:287"><nobr><span class="ft15">C</span></nobr></DIV>
<DIV style="position:absolute;top:377;left:313"><nobr><span class="ft15">0</span></nobr></DIV>
<DIV style="position:absolute;top:377;left:222"><nobr><span class="ft15">Failed</span></nobr></DIV>
<DIV style="position:absolute;top:349;left:313"><nobr><span class="ft15">P(Status</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:325"><nobr><span class="ft15">=OK)</span></nobr></DIV>
<DIV style="position:absolute;top:349;left:222"><nobr><span class="ft15">A</span></nobr></DIV>
<DIV style="position:absolute;top:357;left:231"><nobr><span class="ft13">¡</span></nobr></DIV>
<DIV style="position:absolute;top:349;left:242"><nobr><span class="ft15">B</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:177"><nobr><span class="ft15">...</span></nobr></DIV>
<DIV style="position:absolute;top:281;left:177"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:177"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:237;left:177"><nobr><span class="ft15">Hour</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:217"><nobr><span class="ft15">...</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:146"><nobr><span class="ft15">...</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:116"><nobr><span class="ft15">...</span></nobr></DIV>
<DIV style="position:absolute;top:281;left:217"><nobr><span class="ft15">0.87</span></nobr></DIV>
<DIV style="position:absolute;top:281;left:146"><nobr><span class="ft15">2</span></nobr></DIV>
<DIV style="position:absolute;top:281;left:116"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:146"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:237;left:146"><nobr><span class="ft19">Dst <br>AS</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:217"><nobr><span class="ft15">0.99</span></nobr></DIV>
<DIV style="position:absolute;top:265;left:116"><nobr><span class="ft15">1</span></nobr></DIV>
<DIV style="position:absolute;top:237;left:217"><nobr><span class="ft15">P(Status</span></nobr></DIV>
<DIV style="position:absolute;top:251;left:229"><nobr><span class="ft15">=OK)</span></nobr></DIV>
<DIV style="position:absolute;top:237;left:116"><nobr><span class="ft19">Src <br>AS</span></nobr></DIV>
<DIV style="position:absolute;top:466;left:83"><nobr><span class="ft16"><b>Figure 1: A Bayesian network for TCP overlay path diagnosis</b></span></nobr></DIV>
<DIV style="position:absolute;top:511;left:81"><nobr><span class="ft3"><b>3.1</b></span></nobr></DIV>
<DIV style="position:absolute;top:511;left:121"><nobr><span class="ft3"><b>Probabilistic Diagnosis</b></span></nobr></DIV>
<DIV style="position:absolute;top:533;left:94"><nobr><span class="ft4">The reliability of IP links in the Internet varies widely and hence</span></nobr></DIV>
<DIV style="position:absolute;top:549;left:81"><nobr><span class="ft8">we expect the probability of TCP failure to differ between different<br>sets of hosts. Thus if we have knowledge of the relative probability<br>of failure of the TCP connections that make up an overlay con-<br>nection, we can then infer the most likely cause of failure when<br>an overlay connection occurs without conducting any additional<br>probes. In this paper we show we can use Bayesian networks both<br>to learn a model of TCP failures and to perform diagnosis.</span></nobr></DIV>
<DIV style="position:absolute;top:659;left:94"><nobr><span class="ft4">Bayesian networks compactly represent the conditional proba-</span></nobr></DIV>
<DIV style="position:absolute;top:674;left:81"><nobr><span class="ft8">bility of related events and enable efficient inference based on avail-<br>able evidence[5]. A Bayesian network is a directed acyclic graph<br>in which nodes represent variables, and edges from <i>parent </i>nodes to<br><i>children </i>nodes represent dependence relations. Each node <i>X </i>has a<br>conditional probability table (CPT) <i>P</i></span></nobr></DIV>
<DIV style="position:absolute;top:734;left:284"><nobr><span class="ft18">(<i>X</i>|<i>parents</i>(<i>X</i>)) that encodes</span></nobr></DIV>
<DIV style="position:absolute;top:753;left:81"><nobr><span class="ft4">the conditional probability of <i>X </i>given evidence about its parents.</span></nobr></DIV>
<DIV style="position:absolute;top:768;left:94"><nobr><span class="ft4">Bayesian networks have several important features that make</span></nobr></DIV>
<DIV style="position:absolute;top:784;left:81"><nobr><span class="ft8">them especially suitable for reasoning about failures in the Inter-<br>net. Firstly, Bayesian networks can model both deterministic and<br>probabilistic dependencies among many types of Internet compo-<br>nents and diagnostic tests. For example, an HTTP proxy connec-<br>tion functions if and only if the user/proxy TCP connection func-<br>tions and the proxy/provider TCP connection functions. The prob-<br>ability that a TCP connection functions depends on the source and<br>destination IP addresses and the time of the connection. To im-<br>prove accuracy, we cluster IP addresses by AS and connection time<br>by hour (see section 3.2). Figure 1 illustrates a Bayesian network<br>that encodes the conditional probabilities for diagnosing an overlay<br>connection from <i>A </i>to <i>B </i>to <i>C</i>. To diagnose an overlay connection<br>failure from <i>A </i>to <i>C</i>, one can use this Bayesian network to infer the<br>most probable status of the underlying TCP connections from <i>A </i>to<br><i>B </i>and <i>B </i>to <i>C </i>given information about the AS numbers and hour the<br>connections were made.</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:94"><nobr><span class="ft4">The variables in the Bayesian network represent the functional</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:81"><nobr><span class="ft8">status of TCP connections and overlay connections. A node in<br>this Bayesian network represents the functional status of a connec-</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">tion: OK if functioning, Failed if malfunctioning. Malfunctioning<br>means that a connection failure occurs along the path, functioning<br>means that no connection failure occurs. Edges in the Bayesian net-<br>work represent dependencies among connections. The CPT for an<br>overlay connection node represents the probability that it is func-<br>tioning given the status of its underlying TCP paths. The CPT for<br>a TCP path represents the probability that the TCP path functions<br>given information about the path. In our Bayesian network we as-<br>sume that the conditional probability of a TCP connection failure<br>depends only on the source and destination IP addresses and the<br>time of failure for each hop of the overlay, and not on which hop<br>of the overlay connection it is (user/proxy or proxy/server). We<br>represent this by using parameter tying in this Bayesian network<br>so that both TCP paths share the same CPT. We also assume that a<br>diagnostic agent can identify the intermediate hops in the overlay<br>connection, either through active probing or because it has knowl-<br>edge of the overlay topology.</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:489"><nobr><span class="ft4">An advantage of modeling network components in terms of Bayesian</span></nobr></DIV>
<DIV style="position:absolute;top:369;left:475"><nobr><span class="ft8">networks is that a Bayesian network provides an abstract high-level<br>representation for diagnostic data suitable for reasoning. Repre-<br>senting diagnostic data in terms of variables, evidence, and depen-<br>dencies rather than passing around low-level measurements such as<br>packet traces allows an agent to reason about the causes and con-<br>sequences of failures without any deep knowledge of the behavior<br>and characteristics of components and diagnostic tests. In addition,<br>the conditional independence assumptions of Bayesian inference<br>reduce the amount of data a diagnostic agent needs to consider for<br>diagnosis.</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:475"><nobr><span class="ft3"><b>3.2</b></span></nobr></DIV>
<DIV style="position:absolute;top:534;left:515"><nobr><span class="ft3"><b>Clustering</b></span></nobr></DIV>
<DIV style="position:absolute;top:557;left:489"><nobr><span class="ft4">To perform diagnosis using this Bayesian network, we need to</span></nobr></DIV>
<DIV style="position:absolute;top:572;left:475"><nobr><span class="ft8">learn the conditional probability of failure of a TCP connection<br>given the properties of a connection. Learning the conditional prob-<br>ability of failure for each pair of IP addresses is impractical because<br>it is infeasible to store the probability of failure for the 2</span></nobr></DIV>
<DIV style="position:absolute;top:617;left:781"><nobr><span class="ft10">64</span></nobr></DIV>
<DIV style="position:absolute;top:620;left:796"><nobr><span class="ft4">combi-</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:475"><nobr><span class="ft8">nations of source and destination IP addresses. More importantly,<br>for each pair of IP addresses we only have a limited amount of data<br>with which to train the Bayesian network. For more effective diag-<br>nosis, diagnostic agents need a way to diagnose failures involving<br>IP addresses it has not previously observed.</span></nobr></DIV>
<DIV style="position:absolute;top:714;left:489"><nobr><span class="ft4">Therefore to reduce the size of the conditional probability ta-</span></nobr></DIV>
<DIV style="position:absolute;top:729;left:475"><nobr><span class="ft8">bles and to improve the accuracy of the learned probabilities, we<br>cluster together IP addresses in a way that facilitates learning and<br>diagnosis. Our hypothesis is that TCP connections that share many<br>IP links with one another will have similar probabilities of fail-<br>ure. Thus two TCP connections with topologically nearby sources<br>and nearby destinations will likely have similar failure probabili-<br>ties. Therefore we clustered source and destination IP addresses in<br>three ways: by the first eight bits of the IP address, the AS number,<br>and by country.</span></nobr></DIV>
<DIV style="position:absolute;top:871;left:489"><nobr><span class="ft4">We also cluster TCP connections based on time. We hypothesize</span></nobr></DIV>
<DIV style="position:absolute;top:886;left:475"><nobr><span class="ft8">that the probability of failure changes over multiple time scales.<br>For instance, if an IP routing change occurs, the probability of fail-<br>ure for affected TCP connections may change from low to high and<br>back to low within a few minutes. On the other hand, the aver-<br>age rate of routing failure over several days may remain relatively<br>constant. We show how different methods for clustering affect the<br>accuracy of diagnosis in section 5.</span></nobr></DIV>
<DIV style="position:absolute;top:1013;left:475"><nobr><span class="ft3"><b>4.</b></span></nobr></DIV>
<DIV style="position:absolute;top:1013;left:506"><nobr><span class="ft3"><b>COLLECTING TCP FAILURE DATA</b></span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:489"><nobr><span class="ft4">It is difficult to obtain accurate information about the distribution</span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:475"><nobr><span class="ft8">of TCP failures in the Internet because failed connections make<br>up only a small percentage of overall TCP traffic and the number</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">307</span></nobr></DIV>
</DIV>
<!-- Page 4 -->
<a name="4"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<IMG width="918" height="1188" src="68004.png" alt="background image">
<DIV style="position:absolute;top:86;left:81"><nobr><span class="ft8">of possible source and destination IP addresses is enormous. To<br>collect accurate failure probabilities, we need a way to observe the<br>status of large quantities of TCP connections from many different<br>source and destination hosts.</span></nobr></DIV>
<DIV style="position:absolute;top:149;left:94"><nobr><span class="ft4">In order to obtain such data, we used an updated version of Plan-</span></nobr></DIV>
<DIV style="position:absolute;top:165;left:81"><nobr><span class="ft8">etseer to collect data on TCP connection failures. The new Planet-<br>seer monitors TCP connections in the CoDeeN content distribution<br>network and provides notifications when TCP sessions begin, end,<br>and when TCP failures occur. Planetseer runs on over 320 Planet-<br>lab[2] nodes distributed around the world. We used Planetseer to<br>monitor all the TCP connections made by 196 CoDeeN nodes. We<br>observed 28.3 million TCP connections and 249,000 TCP failures<br>over a ten hour period. We observed TCP connections to approx-<br>imately 17,000 distinct IP addresses per hour on average. In our<br>dataset, we observed TCP connections to hosts in 2116 unique In-<br>ternet autonomous systems.</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:94"><nobr><span class="ft4">CoDeeN overlay nodes act as HTTP proxies and establish TCP</span></nobr></DIV>
<DIV style="position:absolute;top:353;left:81"><nobr><span class="ft8">connections with web clients, web servers, and other CoDeeN nodes.<br>In a typical CoDeeN session, a user initiates a TCP connection with<br>the CoDeeN proxy, the proxy connects to a web server and retrieves<br>the requested resource, and finally the proxy sends the requested<br>data back to the user. Note that many requests are cached, and so<br>the destination of the second hop in the overlay is a CoDeeN node<br>and not the web server specified in the HTTP request. We found<br>that 0.28% of user/proxy connections and 0.65% of proxy/server<br>connections experienced TCP failures. Since Planetseer monitors<br>TCP connections from the vantage point of the proxy, we cannot<br>detect those TCP failures in which a user is unable to establish a<br>TCP connection to the proxy. Therefore the lower percentage of<br>user/proxy failures may be partly explained by the fact that all fail-<br>ures between the proxy and user occur after the user successfully<br>establishes a TCP connection to the proxy.</span></nobr></DIV>
<DIV style="position:absolute;top:588;left:94"><nobr><span class="ft4">We believe that the failure probabilities learned through Plan-</span></nobr></DIV>
<DIV style="position:absolute;top:604;left:81"><nobr><span class="ft8">etseer are representative of typical TCP connections in the Inter-<br>net. CoDeeN nodes operate as HTTP proxies, so the pattern of<br>TCP connections resembles typical web traffic. Though caching at<br>CoDeeN nodes reduces the number of connections to web servers<br>we observe, we believe that the average failure probability to web<br>servers we observe using Planetseer reflects typical failure rates for<br>HTTP related TCP connections. We are currently examining other<br>types of overlay connections to determine how well this TCP data<br>generalizes for the diagnosis of other overlays.</span></nobr></DIV>
<DIV style="position:absolute;top:745;left:94"><nobr><span class="ft4">We learn the conditional probability table for TCP connection</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:81"><nobr><span class="ft8">failure using the data collected from Planetseer. We cluster source<br>and destination IP addresses by AS using the Oregon Route Views<br>BGP tables</span></nobr></DIV>
<DIV style="position:absolute;top:790;left:141"><nobr><span class="ft10">2</span></nobr></DIV>
<DIV style="position:absolute;top:792;left:148"><nobr><span class="ft4">.</span></nobr></DIV>
<DIV style="position:absolute;top:834;left:81"><nobr><span class="ft3"><b>5.</b></span></nobr></DIV>
<DIV style="position:absolute;top:834;left:112"><nobr><span class="ft3"><b>EVALUATION</b></span></nobr></DIV>
<DIV style="position:absolute;top:856;left:94"><nobr><span class="ft4">Our hypothesis is that Bayesian inference using the conditional</span></nobr></DIV>
<DIV style="position:absolute;top:872;left:81"><nobr><span class="ft8">probability of failure for TCP connections given the AS numbers of<br>the source and destination can accurately diagnose failures in over-<br>lay connections. In order to test this hypothesis, we constructed a<br>Bayesian network using the probabilities learned from Planetseer<br>and used it to diagnose failures in CoDeeN connections.</span></nobr></DIV>
<DIV style="position:absolute;top:951;left:94"><nobr><span class="ft4">We wanted to answer the following questions in our experiments:</span></nobr></DIV>
<DIV style="position:absolute;top:987;left:98"><nobr><span class="ft4">1. Which clustering method produces the most accurate diag-</span></nobr></DIV>
<DIV style="position:absolute;top:1002;left:114"><nobr><span class="ft8">nosis: AS, IP/8 prefix, or country? We expect that clustering<br>based on AS will produce the most accurate results since it<br>is most closely correlated with the Internet routing topology.</span></nobr></DIV>
<DIV style="position:absolute;top:1064;left:81"><nobr><span class="ft10">2</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:87"><nobr><span class="ft4">http://www.routeviews.org/</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:492"><nobr><span class="ft4">2. How does diagnostic accuracy change as we increase the</span></nobr></DIV>
<DIV style="position:absolute;top:102;left:509"><nobr><span class="ft8">time interval over which we cluster TCP connections? We<br>expect that as the clustering interval increases, accuracy will<br>increase at first, but then decrease as the learned probabilities<br>less accurately reflect the probabilities of new failures.</span></nobr></DIV>
<DIV style="position:absolute;top:176;left:492"><nobr><span class="ft4">3. How does the age of the training set affect diagnostic accu-</span></nobr></DIV>
<DIV style="position:absolute;top:192;left:509"><nobr><span class="ft8">racy? We expect that as the distribution of TCP failures in<br>the Internet changes over time, diagnostic accuracy will also<br>decrease.</span></nobr></DIV>
<DIV style="position:absolute;top:250;left:475"><nobr><span class="ft3"><b>5.1</b></span></nobr></DIV>
<DIV style="position:absolute;top:250;left:515"><nobr><span class="ft3"><b>Experimental Setup</b></span></nobr></DIV>
<DIV style="position:absolute;top:273;left:489"><nobr><span class="ft4">We train a Bayesian network using the Bayes Net Toolbox (BNT)</span></nobr></DIV>
<DIV style="position:absolute;top:288;left:475"><nobr><span class="ft4">for Matlab</span></nobr></DIV>
<DIV style="position:absolute;top:286;left:532"><nobr><span class="ft10">3</span></nobr></DIV>
<DIV style="position:absolute;top:288;left:537"><nobr><span class="ft4">. In order to diagnose TCP connections between regions</span></nobr></DIV>
<DIV style="position:absolute;top:304;left:475"><nobr><span class="ft8">we did not observe in the training set, we initialize the prior prob-<br>abilities of failure according to a uniform Dirichlet distribution,<br>which is equivalent to adding an additional element to the train-<br>ing set for each combination of source cluster, destination cluster,<br>and connection status. We test this Bayesian network on an arti-<br>ficial dataset generated based on the distribution of TCP connec-<br>tions observed on Planetseer. Since Planetseer does not provide in-<br>formation about which TCP connections are associated with each<br>CoDeeN request, we construct a dataset based on the TCP con-<br>nections we observed. First we identify user/proxy, proxy/proxy,<br>and proxy/server connections based on IP address and port num-<br>ber. Then for each proxy, we count the number of TCP connec-<br>tions to each server and to each proxy. We assume that the num-<br>ber of cached requests equals the number of user/proxy connec-<br>tions minus the number of proxy/server and proxy/proxy connec-<br>tions. We assign each user/proxy TCP connection a corresponding<br>proxy/provider connection, where the provider may either be a web<br>server (if the resource is not cached), another proxy (if the resource<br>is cached at another proxy), or the same proxy (if the resource is<br>cached locally). We make these provider assignments according to<br>the observed distribution of proxy/server and proxy/proxy connec-<br>tions. Of the 19,700 failures in this dataset, approximately 82%<br>of requests are cached locally, 7.9% are cached at other CoDeeN<br>nodes, and 10.6% are uncached.</span></nobr></DIV>
<DIV style="position:absolute;top:681;left:489"><nobr><span class="ft4">For each CoDeeN request failure our Bayesian network makes</span></nobr></DIV>
<DIV style="position:absolute;top:696;left:475"><nobr><span class="ft8">two diagnoses: one for the status of the user/proxy connection, and<br>one for the status of the proxy/provider connection. We measure<br>accuracy in terms of the fraction of correct diagnoses. To evaluate<br>the accuracy of diagnosis, we compute the most probable explana-<br>tion for a TCP failure given evidence that the overlay connection<br>has failed and the AS numbers of the source, proxy, and destina-<br>tion, and then compare this diagnosis with the actual status of the<br>source/proxy and proxy/provider connections. In our experiments<br>we perform diagnosis without evidence about whether a resource is<br>cached at a proxy.</span></nobr></DIV>
<DIV style="position:absolute;top:853;left:489"><nobr><span class="ft4">Of the CoDeeN requests that failed in the first hour of our dataset,</span></nobr></DIV>
<DIV style="position:absolute;top:869;left:475"><nobr><span class="ft8">we found that 62% failed at the user/proxy connection, 31% failed<br>at the proxy/server connection, and 7% failed at a the proxy/proxy<br>connection. Therefore knowing only the overall distribution of<br>TCP failures between users and servers, without using information<br>about the IP addresses of the user, proxy, and server, one could di-<br>agnose failures with 62% accuracy by diagnosing every failure as<br>a user/proxy failure. In our experiments we wish to determine if<br>our Bayesian approach to diagnosis can achieve significantly better<br>accuracy.</span></nobr></DIV>
<DIV style="position:absolute;top:1010;left:489"><nobr><span class="ft4">In order to properly compute the accuracy of diagnosis, we sepa-</span></nobr></DIV>
<DIV style="position:absolute;top:1026;left:475"><nobr><span class="ft8">rated the set of TCP connections with which we trained the Bayesian<br>network from the set of TCP connections associated with the failed</span></nobr></DIV>
<DIV style="position:absolute;top:1064;left:476"><nobr><span class="ft10">3</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:482"><nobr><span class="ft4">http://www.cs.ubc.ca/ murphyk/Software/BNT</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">308</span></nobr></DIV>
</DIV>
<!-- Page 5 -->
<a name="5"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft20{font-size:11px;font-family:Helvetica;color:#000000;}
	.ft21{font-size:10px;font-family:Helvetica;color:#000000;}
	.ft22{font-size:10px;font-family:Helvetica;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="68005.png" alt="background image">
<DIV style="position:absolute;top:277;left:128"><nobr><span class="ft14">0%</span></nobr></DIV>
<DIV style="position:absolute;top:260;left:120"><nobr><span class="ft14">10%</span></nobr></DIV>
<DIV style="position:absolute;top:242;left:120"><nobr><span class="ft14">20%</span></nobr></DIV>
<DIV style="position:absolute;top:224;left:120"><nobr><span class="ft14">30%</span></nobr></DIV>
<DIV style="position:absolute;top:207;left:120"><nobr><span class="ft14">40%</span></nobr></DIV>
<DIV style="position:absolute;top:189;left:120"><nobr><span class="ft14">50%</span></nobr></DIV>
<DIV style="position:absolute;top:171;left:120"><nobr><span class="ft14">60%</span></nobr></DIV>
<DIV style="position:absolute;top:154;left:120"><nobr><span class="ft14">70%</span></nobr></DIV>
<DIV style="position:absolute;top:136;left:120"><nobr><span class="ft14">80%</span></nobr></DIV>
<DIV style="position:absolute;top:119;left:120"><nobr><span class="ft14">90%</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:112"><nobr><span class="ft14">100%</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:181"><nobr><span class="ft14">AS</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:230"><nobr><span class="ft14">Country</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:311"><nobr><span class="ft14">IP</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:354"><nobr><span class="ft14">Baseline</span></nobr></DIV>
<DIV style="position:absolute;top:215;left:103"><nobr><span class="ft20"><b>Accuracy</b></span></nobr></DIV>
<DIV style="position:absolute;top:345;left:140"><nobr><span class="ft16"><b>Figure 2: Clustering Method Comparison</b></span></nobr></DIV>
<DIV style="position:absolute;top:555;left:111"><nobr><span class="ft21">75%</span></nobr></DIV>
<DIV style="position:absolute;top:535;left:111"><nobr><span class="ft21">76%</span></nobr></DIV>
<DIV style="position:absolute;top:515;left:111"><nobr><span class="ft21">77%</span></nobr></DIV>
<DIV style="position:absolute;top:495;left:111"><nobr><span class="ft21">78%</span></nobr></DIV>
<DIV style="position:absolute;top:476;left:111"><nobr><span class="ft21">79%</span></nobr></DIV>
<DIV style="position:absolute;top:456;left:111"><nobr><span class="ft21">80%</span></nobr></DIV>
<DIV style="position:absolute;top:436;left:111"><nobr><span class="ft21">81%</span></nobr></DIV>
<DIV style="position:absolute;top:416;left:111"><nobr><span class="ft21">82%</span></nobr></DIV>
<DIV style="position:absolute;top:396;left:111"><nobr><span class="ft21">83%</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:142"><nobr><span class="ft21">1</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:175"><nobr><span class="ft21">2</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:208"><nobr><span class="ft21">3</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:240"><nobr><span class="ft21">4</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:273"><nobr><span class="ft21">5</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:306"><nobr><span class="ft21">6</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:338"><nobr><span class="ft21">7</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:371"><nobr><span class="ft21">8</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:404"><nobr><span class="ft21">9</span></nobr></DIV>
<DIV style="position:absolute;top:594;left:180"><nobr><span class="ft22"><b>Training Interval Length (hours)</b></span></nobr></DIV>
<DIV style="position:absolute;top:500;left:102"><nobr><span class="ft22"><b>Accuracy</b></span></nobr></DIV>
<DIV style="position:absolute;top:641;left:121"><nobr><span class="ft16"><b>Figure 3: Accuracy vs. Training Interval Length</b></span></nobr></DIV>
<DIV style="position:absolute;top:688;left:81"><nobr><span class="ft8">overlay connections under diagnosis. We collected ten hours of<br>TCP connection data from Planetseer. In our initial experiments<br>we choose to learn the average probability of failure over one hour<br>because we find that clustering over shorter time scales does not<br>provide enough data for accurate diagnosis.</span></nobr></DIV>
<DIV style="position:absolute;top:779;left:81"><nobr><span class="ft3"><b>5.2</b></span></nobr></DIV>
<DIV style="position:absolute;top:779;left:121"><nobr><span class="ft3"><b>Experimental Results</b></span></nobr></DIV>
<DIV style="position:absolute;top:801;left:94"><nobr><span class="ft4">First we compare the accuracy of three IP clustering methods:</span></nobr></DIV>
<DIV style="position:absolute;top:817;left:81"><nobr><span class="ft8">by Internet autonomous system number (AS), by the first eight bits<br>of the IP address (IP), and by the country in which a host resides<br>(Country). We determine the country of a host using the hostip.info<br>database</span></nobr></DIV>
<DIV style="position:absolute;top:861;left:127"><nobr><span class="ft10">4</span></nobr></DIV>
<DIV style="position:absolute;top:864;left:133"><nobr><span class="ft4">, which maps the first 24 bits of an IP address to a coun-</span></nobr></DIV>
<DIV style="position:absolute;top:880;left:81"><nobr><span class="ft8">try using location information contributed by Internet users. We<br>train three Bayesian networks corresponding to the three cluster-<br>ing methods using data from hour 1. Then we test these Bayesian<br>networks on the proxy connection failures constructed using data<br>from hours 2­10 and averaged the results. We use a junction tree<br>inference engine to compute the most likely status for each TCP<br>connection and compare the inferred status with the actual status<br>from the data. Since the Bayesian network we use for inference<br>has no cycles, we can perform Bayesian learning and junction tree<br>inference rapidly; in our experiments, inference for a single con-<br>nection requires approximately 5 ms.</span></nobr></DIV>
<DIV style="position:absolute;top:1064;left:81"><nobr><span class="ft10">4</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:87"><nobr><span class="ft4">http://www.hostip.info/</span></nobr></DIV>
<DIV style="position:absolute;top:255;left:522"><nobr><span class="ft14">0%</span></nobr></DIV>
<DIV style="position:absolute;top:240;left:514"><nobr><span class="ft14">10%</span></nobr></DIV>
<DIV style="position:absolute;top:224;left:514"><nobr><span class="ft14">20%</span></nobr></DIV>
<DIV style="position:absolute;top:209;left:514"><nobr><span class="ft14">30%</span></nobr></DIV>
<DIV style="position:absolute;top:193;left:514"><nobr><span class="ft14">40%</span></nobr></DIV>
<DIV style="position:absolute;top:178;left:514"><nobr><span class="ft14">50%</span></nobr></DIV>
<DIV style="position:absolute;top:163;left:514"><nobr><span class="ft14">60%</span></nobr></DIV>
<DIV style="position:absolute;top:147;left:514"><nobr><span class="ft14">70%</span></nobr></DIV>
<DIV style="position:absolute;top:132;left:514"><nobr><span class="ft14">80%</span></nobr></DIV>
<DIV style="position:absolute;top:116;left:514"><nobr><span class="ft14">90%</span></nobr></DIV>
<DIV style="position:absolute;top:101;left:507"><nobr><span class="ft14">100%</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:548"><nobr><span class="ft14">1</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:579"><nobr><span class="ft14">2</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:610"><nobr><span class="ft14">3</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:642"><nobr><span class="ft14">4</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:673"><nobr><span class="ft14">5</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:704"><nobr><span class="ft14">6</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:735"><nobr><span class="ft14">7</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:766"><nobr><span class="ft14">8</span></nobr></DIV>
<DIV style="position:absolute;top:275;left:798"><nobr><span class="ft14">9</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:597"><nobr><span class="ft20"><b>Training Set Age (hours)</b></span></nobr></DIV>
<DIV style="position:absolute;top:204;left:497"><nobr><span class="ft20"><b>Accuracy</b></span></nobr></DIV>
<DIV style="position:absolute;top:345;left:539"><nobr><span class="ft16"><b>Figure 4: Accuracy vs. Training Set Age</b></span></nobr></DIV>
<DIV style="position:absolute;top:391;left:489"><nobr><span class="ft4">Figure 2 compares the diagnostic accuracy of these three clus-</span></nobr></DIV>
<DIV style="position:absolute;top:406;left:475"><nobr><span class="ft8">tering approaches. We define accuracy as the fraction of correct<br>status inferences. As a baseline, we also plot the accuracy of sim-<br>ply guessing that every failure is due to a user/proxy connection<br>failure. Figure 2 shows that all three clustering methods provide<br>similar degrees of accuracy. Our hypothesis was that clustering<br>based on AS would produce the most accurate results, but our ex-<br>periments show that clustering based on the first 8 bits of the IP<br>address yields higher accuracy for short time intervals. This may<br>be because one hour is not enough time to accurately learn inter-AS<br>TCP failure probabilities, or due to inaccuracies in the Route Views<br>BGP table.</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:489"><nobr><span class="ft4">Next we computed the accuracy of diagnosis as we increase the</span></nobr></DIV>
<DIV style="position:absolute;top:595;left:475"><nobr><span class="ft8">time interval over which we cluster TCP connections. If the interval<br>over which we train is too short, then we will not have enough data<br>to accurately learn failure probabilities. If the interval is too long,<br>then it may not accurately reflect changing network conditions. We<br>train a Bayesian network using AS clustering on <i>x </i>hours before<br>hour 10 for values of <i>x </i>from 1 to 9. We then test each Bayesian<br>network on the data from hour 10. Figure 3 shows how accuracy<br>changes as the training time interval changes. This plot shows that<br>accuracy increases as the clustering time interval increases, sug-<br>gesting that the training value of incorporating additional data out-<br>weighs the inaccuracy introduced by using older data.</span></nobr></DIV>
<DIV style="position:absolute;top:767;left:489"><nobr><span class="ft4">Finally, we compute the accuracy of diagnosis as we increase the</span></nobr></DIV>
<DIV style="position:absolute;top:783;left:475"><nobr><span class="ft8">age of the data on which we trained the Bayesian network. We train<br>a Bayesian network using AS clustering on data from hour 1 and<br>test it on overlay failures observed during each of the hours from<br>2 to 10. Figure 4 plots the accuracy of diagnosis over time. Aver-<br>age accuracy changes over time because the distribution of failures<br>we observe using Planetseer varies from hour to hour, but overall<br>diagnostic accuracy diminishes only slightly after nine hours, sug-<br>gesting that the distribution of TCP failure probabilities remains<br>relatively stationary over time.</span></nobr></DIV>
<DIV style="position:absolute;top:924;left:489"><nobr><span class="ft4">We also compare the false positive and false negative rates for</span></nobr></DIV>
<DIV style="position:absolute;top:940;left:475"><nobr><span class="ft8">each clustering method. The false positive rate is the fraction of<br>functioning connections that are incorrectly diagnosed as having<br>failed, while the false negative rate is the fraction of failed connec-<br>tions that are incorrectly diagnosed as functioning. Table 1 lists the<br>false positive and false negative rates for each clustering method.</span></nobr></DIV>
<DIV style="position:absolute;top:1028;left:475"><nobr><span class="ft3"><b>5.3</b></span></nobr></DIV>
<DIV style="position:absolute;top:1028;left:515"><nobr><span class="ft3"><b>Analysis</b></span></nobr></DIV>
<DIV style="position:absolute;top:1051;left:489"><nobr><span class="ft4">These experiments show that we can diagnose overlay connec-</span></nobr></DIV>
<DIV style="position:absolute;top:1067;left:475"><nobr><span class="ft4">tion failures knowing only the AS numbers of its TCP endpoints.</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">309</span></nobr></DIV>
</DIV>
<!-- Page 6 -->
<a name="6"></a>
<DIV style="position:relative;width:918;height:1188;">
<STYLE type="text/css">
<!--
	.ft23{font-size:11px;line-height:15px;font-family:Times;color:#000000;}
-->
</STYLE>
<IMG width="918" height="1188" src="68006.png" alt="background image">
<DIV style="position:absolute;top:83;left:240"><nobr><span class="ft4">AS</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:274"><nobr><span class="ft4">Country</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:352"><nobr><span class="ft4">IP</span></nobr></DIV>
<DIV style="position:absolute;top:83;left:380"><nobr><span class="ft4">Baseline</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:89"><nobr><span class="ft4">user/proxy false pos.</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:227"><nobr><span class="ft4">0.174</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:287"><nobr><span class="ft4">0.358</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:334"><nobr><span class="ft4">0.426</span></nobr></DIV>
<DIV style="position:absolute;top:99;left:396"><nobr><span class="ft4">1.000</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:89"><nobr><span class="ft4">user/proxy false neg.</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:227"><nobr><span class="ft4">0.219</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:287"><nobr><span class="ft4">0.050</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:334"><nobr><span class="ft4">0.060</span></nobr></DIV>
<DIV style="position:absolute;top:115;left:396"><nobr><span class="ft4">0.000</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:89"><nobr><span class="ft4">proxy/server false pos.</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:227"><nobr><span class="ft4">0.219</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:287"><nobr><span class="ft4">0.101</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:334"><nobr><span class="ft4">0.265</span></nobr></DIV>
<DIV style="position:absolute;top:131;left:396"><nobr><span class="ft4">0.000</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:89"><nobr><span class="ft4">proxy/server false neg.</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:227"><nobr><span class="ft4">0.171</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:287"><nobr><span class="ft4">0.128</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:334"><nobr><span class="ft4">0.100</span></nobr></DIV>
<DIV style="position:absolute;top:146;left:396"><nobr><span class="ft4">1.000</span></nobr></DIV>
<DIV style="position:absolute;top:177;left:152"><nobr><span class="ft16"><b>Table 1: Diagnosis error rates by type</b></span></nobr></DIV>
<DIV style="position:absolute;top:224;left:81"><nobr><span class="ft8">One reason our approach to diagnosis works is due to the heavy-<br>tailed distribution of TCP connection failure probability. The ma-<br>jority of TCP failures occur among a small number of AS pairs.<br>Therefore most CoDeeN connection failures involve one TCP con-<br>nection with low failure probability and another TCP connection<br>with high failure probability, so probabilistic inference produces<br>the correct diagnosis. For example, we find that TCP connections<br>from hosts in China to hosts in the USA tend to have a much<br>higher probability of failure than connections within the USA. If<br>an CoDeeN user in China accesses a proxy in the USA to retrieve<br>content from a web server in the USA and experiences a failure,<br>then it is very likely that the failure occurred on the connection be-<br>tween the user and the CoDeeN node. If the probability of failure<br>for every pair of ASes were equal, then our probabilistic approach<br>to diagnosis would not work as well.</span></nobr></DIV>
<DIV style="position:absolute;top:459;left:94"><nobr><span class="ft4">Another interesting result is that the accuracy of diagnosis di-</span></nobr></DIV>
<DIV style="position:absolute;top:474;left:81"><nobr><span class="ft8">minishes relatively slowly over time, implying that the distribution<br>of TCP failures in the Internet stays relatively stationary over time.<br>This suggests that diagnostic agents can perform accurate diagno-<br>sis using inter-AS TCP failure probabilities without having to con-<br>stantly collect the latest TCP failure data.</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:81"><nobr><span class="ft3"><b>6.</b></span></nobr></DIV>
<DIV style="position:absolute;top:573;left:112"><nobr><span class="ft3"><b>CONCLUSION AND FUTURE WORK</b></span></nobr></DIV>
<DIV style="position:absolute;top:596;left:94"><nobr><span class="ft4">Our initial experimental results indicate that our passive prob-</span></nobr></DIV>
<DIV style="position:absolute;top:612;left:81"><nobr><span class="ft8">abilistic approach to diagnosing TCP overlay connection failures<br>can provide useful diagnostic information. In this paper we show<br>that Bayesian inference provides a useful framework for diagnos-<br>ing two hop overlay connection failures on CoDeeN, but our ap-<br>proach can generalize to the diagnosis of other overlay connection<br>failures as well. We view our approach to diagnosing TCP overlay<br>connection failures as just one example of a more general proba-<br>bilistic approach for Internet fault diagnosis. In this paper we show<br>how to use inter-AS TCP failure probabilities to diagnose failures<br>in overlay networks, but the technique we used to diagnose failures<br>in CoDeeN can be extended to the diagnosis of other overlays as<br>well. We can apply the knowledge we learned from Planetseer to<br>diagnose other classes of network components and applications by<br>adding new nodes and edges to the Bayesian network we use for<br>diagnosis.</span></nobr></DIV>
<DIV style="position:absolute;top:847;left:94"><nobr><span class="ft4">In this paper we only considered diagnosis without using any ad-</span></nobr></DIV>
<DIV style="position:absolute;top:863;left:81"><nobr><span class="ft8">ditional evidence about a failure. Typically, however, when failures<br>occur users may already know the status of certain network com-<br>ponents and can perform diagnostic probes to collect additional ev-<br>idence for diagnosing failures. We can improve the accuracy of our<br>approach by adding variables and edges to the Bayesian network to<br>take into account this information. For instance, if we know the IP<br>paths that TCP connections traverse, we can incorporate evidence<br>of IP link failures into the Bayesian network. We intend to ex-<br>plore how agents can incorporate such additional evidence into a<br>Bayesian network to improve diagnostic accuracy.</span></nobr></DIV>
<DIV style="position:absolute;top:1019;left:94"><nobr><span class="ft4">In future work we will also examine more accurate models for</span></nobr></DIV>
<DIV style="position:absolute;top:1035;left:81"><nobr><span class="ft8">Internet fault diagnosis that take into account failures at both short<br>and long time scales. In this paper we only evaluated our algorithm<br>on ten hours of data from Planetseer; we would like to conduct ad-</span></nobr></DIV>
<DIV style="position:absolute;top:86;left:475"><nobr><span class="ft8">ditional experiments to more accurately determine the effectiveness<br>of diagnosis using data from other time periods as well. In addition<br>we would like to explore other clustering methods, including dy-<br>namically choosing the prefix length on which to cluster based on<br>how much data an agent has about TCP connections to a particular<br>IP range.</span></nobr></DIV>
<DIV style="position:absolute;top:180;left:489"><nobr><span class="ft4">Finally, though our paper describes a centralized diagnosis ap-</span></nobr></DIV>
<DIV style="position:absolute;top:196;left:475"><nobr><span class="ft8">proach, this approach can easily be adapted for distributed diagno-<br>sis. Knowledge of the overlay topology and the conditional prob-<br>abilities in the CPTs can be distributed among multiple agents in<br>the Internet, allowing different agents to collect failure data from<br>different points in the network. We are currently developing such a<br>distributed system for the diagnosis of TCP application failures in<br>the Internet.</span></nobr></DIV>
<DIV style="position:absolute;top:323;left:475"><nobr><span class="ft3"><b>7.</b></span></nobr></DIV>
<DIV style="position:absolute;top:323;left:507"><nobr><span class="ft3"><b>REFERENCES</b></span></nobr></DIV>
<DIV style="position:absolute;top:346;left:482"><nobr><span class="ft4">[1] D. G. Andersen, H. Balakrishnan, M. F. Kaashoek, and</span></nobr></DIV>
<DIV style="position:absolute;top:362;left:504"><nobr><span class="ft23">R. Morris. Resilient overlay networks. In <i>Proceedings of the<br>18th ACM Symposium on Operating System Principles<br>(SOSP)</i>, 2001.</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:482"><nobr><span class="ft4">[2] B. Chun, D. Culler, T. Roscoe, A. Bavier, L. Peterson,</span></nobr></DIV>
<DIV style="position:absolute;top:426;left:504"><nobr><span class="ft23">M. Wawrzoniak, and M. Bowman. Planetlab: an overlay<br>testbed for broad-coverage services. <i>SIGCOMM Comput.<br>Commun. Rev.</i>, 33(3):3­12, 2003.</span></nobr></DIV>
<DIV style="position:absolute;top:474;left:482"><nobr><span class="ft4">[3] S. Guha and P. Francis. Characterization and measurement of</span></nobr></DIV>
<DIV style="position:absolute;top:490;left:504"><nobr><span class="ft23">tcp traversal through nats and firewalls. In <i>Internet<br>Measurement Conference 2005 (IMC '05)</i>, 2005.</span></nobr></DIV>
<DIV style="position:absolute;top:523;left:482"><nobr><span class="ft4">[4] S. Kandula, D. Katabi, and J.-P. Vasseur. Shrink: A Tool for</span></nobr></DIV>
<DIV style="position:absolute;top:539;left:504"><nobr><span class="ft8">Failure Diagnosis in IP Networks. In <i>ACM SIGCOMM<br>Workshop on mining network data (MineNet-05)</i>,<br>Philadelphia, PA, August 2005.</span></nobr></DIV>
<DIV style="position:absolute;top:587;left:482"><nobr><span class="ft4">[5] U. Lerner, R. Parr, D. Koller, and G. Biswas. Bayesian fault</span></nobr></DIV>
<DIV style="position:absolute;top:603;left:504"><nobr><span class="ft8">detection and diagnosis in dynamic systems. In <i>Proceedings<br>of the Seventeenth National Conference on Artificial<br>Intelligence (AAAI-00)</i>, pages 531­537, Austin, Texas,<br>August 2000.</span></nobr></DIV>
<DIV style="position:absolute;top:667;left:482"><nobr><span class="ft4">[6] A. S. M Steinder. Increasing robustness of fault localization</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:504"><nobr><span class="ft8">through analysis of lost, spurious, and positive symptoms. In<br><i>Proceedings of INFOCOM</i>, 2002.</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:482"><nobr><span class="ft4">[7] R. Mahajan, N. Spring, D. Wetherall, and T. Anderson.</span></nobr></DIV>
<DIV style="position:absolute;top:731;left:504"><nobr><span class="ft23">User-level internet path diagnosis. In <i>Proceedings of ACM<br>SOSP</i>, 2003.</span></nobr></DIV>
<DIV style="position:absolute;top:764;left:482"><nobr><span class="ft4">[8] V. N. Padmanabhan, S. Ramabhadran, and J. Padhye.</span></nobr></DIV>
<DIV style="position:absolute;top:780;left:504"><nobr><span class="ft23">Netprofiler: Profiling wide-area networks using peer<br>cooperation. In <i>Proceedings of the Fourth International<br>Workshop on Peer-to-Peer Systems (IPTPS)</i>, February 2005.</span></nobr></DIV>
<DIV style="position:absolute;top:828;left:482"><nobr><span class="ft4">[9] L. Wang, K. Park, R. Pang, V. Pai, and L. Peterson.</span></nobr></DIV>
<DIV style="position:absolute;top:844;left:504"><nobr><span class="ft23">Reliability and security in the codeen content distribution<br>network. In <i>Proceedings of the USENIX 2004 Annual<br>Technical Conference</i>, 2004.</span></nobr></DIV>
<DIV style="position:absolute;top:893;left:475"><nobr><span class="ft4">[10] A. Ward, P. Glynn, and K. Richardson. Internet service</span></nobr></DIV>
<DIV style="position:absolute;top:908;left:504"><nobr><span class="ft23">performance failure detection. <i>SIGMETRICS Perform. Eval.<br>Rev.</i>, 26(3):38­43, 1998.</span></nobr></DIV>
<DIV style="position:absolute;top:941;left:475"><nobr><span class="ft4">[11] M. Zhang, C. Zhang, V. Pai, L. Peterson, and R. Wang.</span></nobr></DIV>
<DIV style="position:absolute;top:957;left:504"><nobr><span class="ft23">Planetseer: Internet path failure monitoring and<br>characterization in wide-area services. In <i>Proceedings of<br>Sixth Symposium on Operating Systems Design and<br>Implementation (OSDI '04)</i>, 2004.</span></nobr></DIV>
<DIV style="position:absolute;top:1116;left:446"><nobr><span class="ft7">310</span></nobr></DIV>
</DIV>
</BODY>
</HTML>
